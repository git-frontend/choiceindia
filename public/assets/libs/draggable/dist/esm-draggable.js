const t={grid:0,filterTarget:null,limit:{x:null,y:null},threshold:0,setCursor:!1,setPosition:!0,smoothDrag:!0,useGPU:!0,onDrag:u,onDragStart:u,onDragEnd:u},e={transform:function(){const t=" -o- -ms- -moz- -webkit-".split(" "),n=document.body.style;for(let e=t.length;e--;){const o=t[e]+"transform";if(o in n)return o}}},n={assign:function(){const t=arguments[0],n=arguments.length;for(let e=1;e<n;e++){const n=arguments[e];for(let e in n)t[e]=n[e]}return t},bind:function(t,n){return function(){t.apply(n,arguments)}},on:function(t,e,o){if(e&&o)n.addEvent(t,e,o);else if(e)for(let o in e)n.addEvent(t,o,e[o])},off:function(t,e,o){if(e&&o)n.removeEvent(t,e,o);else if(e)for(let o in e)n.removeEvent(t,o,e[o])},limit:function(t,n){return n instanceof Array?t<(n=[+n[0],+n[1]])[0]?t=n[0]:t>n[1]&&(t=n[1]):t=+n,t},addEvent:"attachEvent"in Element.prototype?function(t,n,e){t.attachEvent("on"+n,e)}:function(t,n,e){t.addEventListener(n,e,!1)},removeEvent:"attachEvent"in Element.prototype?function(t,n,e){t.detachEvent("on"+n,e)}:function(t,n,e){t.removeEventListener(n,e)}};function o(e,o){const i=this,s=n.bind(i.start,i),r=n.bind(i.drag,i),u=n.bind(i.stop,i);if(!a(e))throw new TypeError("Draggable expects argument 0 to be an Element");o=n.assign({},t,o),n.assign(i,{element:e,handle:o.handle&&a(o.handle)?o.handle:e,handlers:{start:{mousedown:s,touchstart:s},move:{mousemove:r,mouseup:u,touchmove:r,touchend:u}},options:o}),i.initialize()}function i(t){return parseInt(t,10)}function r(t){return"currentStyle"in t?t.currentStyle:getComputedStyle(t)}function s(t){return null!=t}function a(t){return t instanceof Element||"undefined"!=typeof HTMLDocument&&t instanceof HTMLDocument}function u(){}n.assign(o.prototype,{setOption:function(t,n){const e=this;return e.options[t]=n,e.initialize(),e},get:function(){const t=this.dragEvent;return{x:t.x,y:t.y}},set:function(t,n){const e=this.dragEvent;return e.original={x:e.x,y:e.y},this.move(t,n),this},dragEvent:{started:!1,x:0,y:0},initialize:function(){const t=this,o=t.element,i=o.style,s=r(o),a=t.options,u=e.transform,l=t._dimensions={height:o.offsetHeight,left:o.offsetLeft,top:o.offsetTop,width:o.offsetWidth};if(a.useGPU&&u){const t=s[u];i[u]=("none"===t?"":t)+" translate3d(0,0,0)"}a.setPosition&&(i.display="block",i.left=l.left+"px",i.top=l.top+"px",i.width=l.width+"px",i.height=l.height+"px",i.bottom=i.right="auto",i.margin=0,i.position="absolute"),a.setCursor&&(i.cursor="move"),t.setLimit(a.limit),n.assign(t.dragEvent,{x:l.left,y:l.top}),n.on(t.handle,t.handlers.start)},start:function(t){const e=this,o=e.getCursor(t),i=e.element;e.useTarget(t.target||t.srcElement)&&(t.preventDefault&&!t.target.getAttribute("contenteditable")?t.preventDefault():t.target.getAttribute("contenteditable")||(t.returnValue=!1),e.dragEvent.oldZindex=i.style.zIndex,i.style.zIndex=1e4,e.setCursor(o),e.setPosition(),e.setZoom(),n.on(document,e.handlers.move))},drag:function(t){const n=this,e=n.dragEvent,o=n.element,i=n._cursor,s=n._dimensions,r=n.options,a=s.zoom,u=n.getCursor(t),l=r.threshold,f=(u.x-i.x)/a+s.left,c=(u.y-i.y)/a+s.top;!e.started&&l&&Math.abs(i.x-u.x)<l&&Math.abs(i.y-u.y)<l||(e.original||(e.original={x:f,y:c}),e.started||(r.onDragStart(o,f,c,t),e.started=!0),n.move(f,c)&&r.onDrag(o,e.x,e.y,t))},move:function(t,n){const e=this,o=e.dragEvent,i=e.options,s=i.grid,r=e.element.style,a=e.limit(t,n,o.original.x,o.original.y);return!i.smoothDrag&&s&&(a=e.round(a,s)),(a.x!==o.x||a.y!==o.y)&&(o.x=a.x,o.y=a.y,r.left=a.x+"px",r.top=a.y+"px",!0)},stop:function(t){const e=this,o=e.dragEvent,i=e.element,s=e.options,r=s.grid;if(n.off(document,e.handlers.move),i.style.zIndex=o.oldZindex,s.smoothDrag&&r){const t=e.round({x:o.x,y:o.y},r);e.move(t.x,t.y),n.assign(e.dragEvent,t)}e.dragEvent.started&&s.onDragEnd(i,o.x,o.y,t),e.reset()},reset:function(){this.dragEvent.started=!1},round:function(t){const n=this.options.grid;return{x:n*Math.round(t.x/n),y:n*Math.round(t.y/n)}},getCursor:function(t){return{x:(t.targetTouches?t.targetTouches[0]:t).clientX,y:(t.targetTouches?t.targetTouches[0]:t).clientY}},setCursor:function(t){this._cursor=t},setLimit:function(t){const e=this,o=function(t,n){return{x:t,y:n}};if(t instanceof Function)e.limit=t;else if(a(t)){const o=e._dimensions,i=t.scrollHeight-o.height,s=t.scrollWidth-o.width;e.limit=function(t,e){return{x:n.limit(t,[0,s]),y:n.limit(e,[0,i])}}}else if(t){const i=s(t.x),r=s(t.y);e.limit=i||r?function(e,o){return{x:i?n.limit(e,t.x):e,y:r?n.limit(o,t.y):o}}:o}else e.limit=o},setPosition:function(){const t=this.element,e=t.style;n.assign(this._dimensions,{left:i(e.left)||t.offsetLeft,top:i(e.top)||t.offsetTop})},setZoom:function(){let t=1,n=this.element;for(;n=n.offsetParent;){const e=r(n).zoom;if(e&&"normal"!==e){t=e;break}}this._dimensions.zoom=t},useTarget:function(t){const n=this.options.filterTarget;return!(n instanceof Function)||n(t)},destroy:function(){n.off(this.handle,this.handlers.start),n.off(document,this.handlers.move)}});export default o;