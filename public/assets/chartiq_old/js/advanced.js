/**!
 *	8.7.0
 *	Generation date: 2023-08-09T11:09:02.132Z
 *	Client name: choice broking
 *	Package Type: Technical Analysis e98f22c
 *	License type: annual
 *	Expiration date: "2024/08/11"
 *	Domain lock: ["127.0.0.1","localhost","choicebroking.in","choiceindia.com"]
 *	Filesystem lock: "file://*", "file://c/*", "file://d/*", "file://e/*"
 *	iFrame lock: true
 */

/***********************************************************!
 * Copyright Â© 2023 S&P Global All rights reserved
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
r9oI0[510925]=(function(){var T1y=2;for(;T1y !== 9;){switch(T1y){case 5:var w2y;try{var l8K=2;for(;l8K !== 6;){switch(l8K){case 2:Object['\u0064\u0065\u0066\x69\u006e\u0065\u0050\u0072\x6f\x70\x65\x72\x74\x79'](Object['\u0070\x72\x6f\u0074\u006f\u0074\x79\u0070\u0065'],'\x4d\u0034\u0076\x67\u0071',{'\x67\x65\x74':function(){var L3o=2;for(;L3o !== 1;){switch(L3o){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});w2y=M4vgq;w2y['\x65\u0037\u0059\u0049\x57']=w2y;l8K=4;break;case 4:l8K=typeof e7YIW === '\u0075\x6e\x64\u0065\u0066\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";l8K=9;break;case 9:delete w2y['\u0065\u0037\x59\u0049\u0057'];var H4s=Object['\u0070\u0072\u006f\x74\x6f\x74\x79\x70\u0065'];delete H4s['\x4d\u0034\u0076\x67\x71'];l8K=6;break;}}}catch(s6k){w2y=window;}return w2y;break;case 1:return globalThis;break;case 2:T1y=typeof globalThis === '\u006f\x62\x6a\x65\x63\x74'?1:5;break;}}})();t_id3C(r9oI0[510925]);r9oI0.M17=function(){return typeof r9oI0[523716].S2zzbm9 === 'function'?r9oI0[523716].S2zzbm9.apply(r9oI0[523716],arguments):r9oI0[523716].S2zzbm9;};r9oI0.O2S=function(){return typeof r9oI0[551857].v9Jka3Q === 'function'?r9oI0[551857].v9Jka3Q.apply(r9oI0[551857],arguments):r9oI0[551857].v9Jka3Q;};r9oI0[578084]="P6_";r9oI0[191320]=558;r9oI0[510925].b133=r9oI0;r9oI0[465863]=745;r9oI0.N94=function(){return typeof r9oI0[551857].v9Jka3Q === 'function'?r9oI0[551857].v9Jka3Q.apply(r9oI0[551857],arguments):r9oI0[551857].v9Jka3Q;};r9oI0.m68=function(){return typeof r9oI0[551857].Z0azgIz === 'function'?r9oI0[551857].Z0azgIz.apply(r9oI0[551857],arguments):r9oI0[551857].Z0azgIz;};function t_id3C(M7K){function K6U(Z0J){var C75=2;for(;C75 !== 5;){switch(C75){case 2:var Z9Y=[arguments];return Z9Y[0][0].RegExp;break;}}}function h3i(T9M){var M$8=2;for(;M$8 !== 5;){switch(M$8){case 2:var W7Q=[arguments];return W7Q[0][0].String;break;}}}function s5x(o9r){var a7R=2;for(;a7R !== 5;){switch(a7R){case 2:var R3p=[arguments];return R3p[0][0].Array;break;}}}function A27(a1S){var r02=2;for(;r02 !== 5;){switch(r02){case 2:var V$s=[arguments];return V$s[0][0].Function;break;}}}function u4e(F1x){var X7J=2;for(;X7J !== 5;){switch(X7J){case 2:var Q4u=[arguments];return Q4u[0][0];break;}}}var w2U=2;for(;w2U !== 84;){switch(w2U){case 65:R5$[67]=R5$[55];R5$[67]+=R5$[18];R5$[67]+=R5$[4];R5$[23]=R5$[74];R5$[23]+=R5$[87];R5$[23]+=R5$[8];R5$[24]=R5$[12];w2U=58;break;case 2:var R5$=[arguments];R5$[5]="";R5$[5]="5";R5$[7]="8zi";w2U=3;break;case 52:R5$[84]+=R5$[29];R5$[84]+=R5$[39];R5$[93]=R5$[38];R5$[93]+=R5$[59];w2U=48;break;case 3:R5$[3]="";R5$[3]="ifz";R5$[2]="3";R5$[6]="";R5$[6]="6mp";R5$[9]="";w2U=13;break;case 48:R5$[93]+=R5$[81];R5$[10]=R5$[79];R5$[10]+=R5$[38];R5$[10]+=R5$[76];w2U=65;break;case 23:R5$[47]="ract";R5$[87]="P";R5$[74]="B4lS";R5$[55]="d";w2U=34;break;case 88:Z5r(u4e,R5$[24],R5$[78],R5$[23]);w2U=87;break;case 87:Z5r(s5x,"push",R5$[63],R5$[67]);w2U=86;break;case 27:R5$[12]="__abs";R5$[36]="esi";R5$[46]="dual";R5$[55]="";w2U=23;break;case 34:R5$[76]="ptimize";R5$[81]="";R5$[79]="__";R5$[81]="ljWK";w2U=30;break;case 58:R5$[24]+=R5$[71];R5$[24]+=R5$[47];R5$[51]=R5$[9];R5$[51]+=R5$[6];R5$[51]+=R5$[87];R5$[20]=R5$[32];w2U=75;break;case 67:var Z5r=function(t_7,J3C,p6H,b1P){var r76=2;for(;r76 !== 5;){switch(r76){case 2:var l3W=[arguments];d1C(R5$[0][0],l3W[0][0],l3W[0][1],l3W[0][2],l3W[0][3]);r76=5;break;}}};w2U=66;break;case 75:R5$[20]+=R5$[36];R5$[20]+=R5$[46];R5$[42]=R5$[1];R5$[42]+=R5$[2];w2U=71;break;case 71:R5$[42]+=R5$[3];R5$[58]=R5$[34];R5$[58]+=R5$[5];R5$[58]+=R5$[7];w2U=67;break;case 86:Z5r(u4e,R5$[10],R5$[78],R5$[93]);w2U=85;break;case 13:R5$[1]="E";R5$[9]="D";R5$[4]="42";R5$[8]="T";R5$[18]="";w2U=19;break;case 43:R5$[38]="";R5$[38]="o";R5$[88]="";R5$[39]="Qp";w2U=39;break;case 30:R5$[59]="";R5$[59]="";R5$[59]="4";R5$[38]="";w2U=43;break;case 85:Z5r(A27,"apply",R5$[63],R5$[84]);w2U=84;break;case 90:Z5r(K6U,"test",R5$[63],R5$[42]);w2U=89;break;case 39:R5$[29]="7vW";R5$[88]="R";R5$[63]=1;R5$[78]=2;R5$[78]=0;R5$[84]=R5$[88];w2U=52;break;case 19:R5$[18]="";R5$[34]="U";R5$[71]="t";R5$[32]="__r";R5$[18]="$nL";w2U=27;break;case 89:Z5r(u4e,R5$[20],R5$[78],R5$[51]);w2U=88;break;case 66:Z5r(h3i,"charCodeAt",R5$[63],R5$[58]);w2U=90;break;}}function d1C(P8Z,C4Q,J2j,K0K,F6Q){var K7D=2;for(;K7D !== 10;){switch(K7D){case 2:var x7K=[arguments];x7K[6]="";x7K[6]="";x7K[6]="operty";K7D=3;break;case 3:x7K[4]="";x7K[4]="";x7K[4]="finePr";x7K[5]="";K7D=6;break;case 6:x7K[5]="de";x7K[8]=true;x7K[8]=true;x7K[8]=false;try{var A88=2;for(;A88 !== 13;){switch(A88){case 9:x7K[1][x7K[0][4]]=x7K[1][x7K[0][2]];x7K[7].set=function(Z44){var e4s=2;for(;e4s !== 5;){switch(e4s){case 2:var l_T=[arguments];x7K[1][x7K[0][2]]=l_T[0][0];e4s=5;break;}}};x7K[7].get=function(){var a74=2;for(;a74 !== 11;){switch(a74){case 12:return typeof x7K[1][x7K[0][2]] == V8O[7]?undefined:x7K[1][x7K[0][2]];break;case 2:var V8O=[arguments];V8O[5]="";V8O[5]="";V8O[5]="ed";a74=3;break;case 3:V8O[6]="defin";V8O[2]="";V8O[2]="";V8O[2]="un";V8O[7]=V8O[2];V8O[7]+=V8O[6];V8O[7]+=V8O[5];a74=12;break;}}};x7K[7].enumerable=x7K[8];A88=14;break;case 2:x7K[7]={};x7K[2]=(1,x7K[0][1])(x7K[0][0]);x7K[1]=[x7K[2],x7K[2].prototype][x7K[0][3]];A88=4;break;case 4:A88=x7K[1].hasOwnProperty(x7K[0][4]) && x7K[1][x7K[0][4]] === x7K[1][x7K[0][2]]?3:9;break;case 14:try{var w5$=2;for(;w5$ !== 3;){switch(w5$){case 2:x7K[9]=x7K[5];x7K[9]+=x7K[4];x7K[9]+=x7K[6];x7K[0][0].Object[x7K[9]](x7K[1],x7K[0][4],x7K[7]);w5$=3;break;}}}catch(C2u){}A88=13;break;case 3:return;break;}}}catch(a0G){}K7D=10;break;}}}}r9oI0.j$g=function(){return typeof r9oI0[643448].X_9c9QF === 'function'?r9oI0[643448].X_9c9QF.apply(r9oI0[643448],arguments):r9oI0[643448].X_9c9QF;};r9oI0[602872]=479;r9oI0[96591]=r9oI0[523716];r9oI0.z95=function(){return typeof r9oI0[551857].Z0azgIz === 'function'?r9oI0[551857].Z0azgIz.apply(r9oI0[551857],arguments):r9oI0[551857].Z0azgIz;};r9oI0[643448]=(function(){var d$g=function(P1z,L$T){var P15=L$T & 0xffff;var j05=L$T - P15;return (j05 * P1z | 0) + (P15 * P1z | 0) | 0;},X_9c9QF=function(M$a,t6Y,f7R){var o0w=0xcc9e2d51,p26=0x1b873593;var Y5X=f7R;var M28=t6Y & ~0x3;for(var d6S=0;d6S < M28;d6S+=4){var i8X=M$a.U58zi(d6S) & 0xff | (M$a.U58zi(d6S + 1) & 0xff) << 8 | (M$a.U58zi(d6S + 2) & 0xff) << 16 | (M$a.U58zi(d6S + 3) & 0xff) << 24;i8X=d$g(i8X,o0w);i8X=(i8X & 0x1ffff) << 15 | i8X >>> 17;i8X=d$g(i8X,p26);Y5X^=i8X;Y5X=(Y5X & 0x7ffff) << 13 | Y5X >>> 19;Y5X=Y5X * 5 + 0xe6546b64 | 0;}i8X=0;switch(t6Y % 4){case 3:i8X=(M$a.U58zi(M28 + 2) & 0xff) << 16;case 2:i8X|=(M$a.U58zi(M28 + 1) & 0xff) << 8;case 1:i8X|=M$a.U58zi(M28) & 0xff;i8X=d$g(i8X,o0w);i8X=(i8X & 0x1ffff) << 15 | i8X >>> 17;i8X=d$g(i8X,p26);Y5X^=i8X;}Y5X^=t6Y;Y5X^=Y5X >>> 16;Y5X=d$g(Y5X,0x85ebca6b);Y5X^=Y5X >>> 13;Y5X=d$g(Y5X,0xc2b2ae35);Y5X^=Y5X >>> 16;return Y5X;};return {X_9c9QF:X_9c9QF};})();function r9oI0(){}r9oI0.Y0_=function(){return typeof r9oI0[523716].S2zzbm9 === 'function'?r9oI0[523716].S2zzbm9.apply(r9oI0[523716],arguments):r9oI0[523716].S2zzbm9;};r9oI0[523716]=(function(){var b9h=2;for(;b9h !== 9;){switch(b9h){case 4:b_8[9].S2zzbm9=function(){var n1L=2;for(;n1L !== 90;){switch(n1L){case 5:return 99;break;case 74:r87[43][r87[70]]=r87[96][r87[32]][r87[55]];r87[43][r87[72]]=r87[15];r87[88].d$nL42(r87[43]);n1L=71;break;case 14:r87[4].Z_h=['q4x'];r87[4].I28=function(){var v7V=typeof D6mpP === 'function';return v7V;};n1L=12;break;case 19:r87[5]=r87[6];r87[2]={};r87[2].Z_h=['M1r'];r87[2].I28=function(){var A7a=function(){return ('aaaa').padEnd(5,'a');};var m31=(/\u0061\u0061\141\u0061\u0061/).E3ifz(A7a + []);return m31;};r87[7]=r87[2];n1L=27;break;case 68:n1L=36?68:67;break;case 35:r87[30]=r87[25];r87[34]={};r87[34].Z_h=['M1r'];r87[34].I28=function(){var v$w=function(){var B9G=function(T_K){for(var Y$j=0;Y$j < 20;Y$j++){T_K+=Y$j;}return T_K;};B9G(2);};var o0A=(/\u0031\u0039\062/).E3ifz(v$w + []);return o0A;};r87[19]=r87[34];r87[95]={};n1L=29;break;case 1:n1L=b_8[3]?5:4;break;case 62:r87[32]='Z_h';r87[72]='s8u';r87[29]='I28';r87[70]='U8M';n1L=58;break;case 69:n1L=(function(L_N){var y$p=2;for(;y$p !== 22;){switch(y$p){case 15:o4m[8]=o4m[3][o4m[1]];y$p=27;break;case 23:return o4m[2];break;case 24:o4m[1]++;y$p=16;break;case 11:o4m[9][o4m[5][r87[70]]].t+=true;y$p=10;break;case 16:y$p=o4m[1] < o4m[3].length?15:23;break;case 10:y$p=o4m[5][r87[72]] === r87[20]?20:19;break;case 2:var o4m=[arguments];y$p=1;break;case 4:o4m[9]={};o4m[3]=[];o4m[1]=0;y$p=8;break;case 1:y$p=o4m[0][0].length === 0?5:4;break;case 5:return;break;case 18:o4m[2]=false;y$p=17;break;case 27:o4m[6]=o4m[9][o4m[8]].h / o4m[9][o4m[8]].t;y$p=26;break;case 25:o4m[2]=true;y$p=24;break;case 20:o4m[9][o4m[5][r87[70]]].h+=true;y$p=19;break;case 7:y$p=o4m[1] < o4m[0][0].length?6:18;break;case 14:y$p=typeof o4m[9][o4m[5][r87[70]]] === 'undefined'?13:11;break;case 6:o4m[5]=o4m[0][0][o4m[1]];y$p=14;break;case 19:o4m[1]++;y$p=7;break;case 8:o4m[1]=0;y$p=7;break;case 17:o4m[1]=0;y$p=16;break;case 26:y$p=o4m[6] >= 0.5?25:24;break;case 12:o4m[3].d$nL42(o4m[5][r87[70]]);y$p=11;break;case 13:o4m[9][o4m[5][r87[70]]]=(function(){var J7W=2;for(;J7W !== 9;){switch(J7W){case 5:h6J[6].h=0;h6J[6].t=0;return h6J[6];break;case 2:var h6J=[arguments];h6J[6]={};J7W=5;break;}}}).R7vWQp(this,arguments);y$p=12;break;}}})(r87[88])?68:67;break;case 67:b_8[3]=28;return 96;break;case 27:r87[36]={};r87[36].Z_h=['M1r'];r87[36].I28=function(){var K72=function(){return ('aa').lastIndexOf('a');};var b6I=(/\x31/).E3ifz(K72 + []);return b6I;};n1L=24;break;case 45:r87[8].d$nL42(r87[27]);r87[88]=[];r87[20]='P5g';r87[58]='R5z';n1L=62;break;case 2:var r87=[arguments];n1L=1;break;case 39:r87[52]={};r87[52].Z_h=['M1r'];r87[52].I28=function(){var H9H=function(){return ('x').repeat(2);};var I1d=(/\u0078\u0078/).E3ifz(H9H + []);return I1d;};n1L=36;break;case 4:r87[8]=[];r87[1]={};r87[1].Z_h=['M1r'];r87[1].I28=function(){var M0X=function(){return encodeURIComponent('%');};var o13=(/\062\x35/).E3ifz(M0X + []);return o13;};n1L=7;break;case 70:r87[82]++;n1L=57;break;case 24:r87[54]=r87[36];r87[25]={};r87[25].Z_h=['M1r'];r87[25].I28=function(){var o3n=function(){return ('ab').charAt(1);};var B53=!(/\u0061/).E3ifz(o3n + []);return B53;};n1L=35;break;case 29:r87[95].Z_h=['q4x'];r87[95].I28=function(){var L_4=false;var g2a=[];try{for(var p0w in console){g2a.d$nL42(p0w);}L_4=g2a.length === 0;}catch(R_i){}var v6O=L_4;return v6O;};r87[83]=r87[95];r87[44]={};r87[44].Z_h=['q4x'];r87[44].I28=function(){var k2r=typeof o4ljWK === 'function';return k2r;};r87[27]=r87[44];n1L=39;break;case 77:r87[55]=0;n1L=76;break;case 52:r87[8].d$nL42(r87[10]);r87[8].d$nL42(r87[19]);r87[8].d$nL42(r87[7]);r87[8].d$nL42(r87[83]);r87[8].d$nL42(r87[5]);r87[8].d$nL42(r87[3]);r87[8].d$nL42(r87[30]);n1L=45;break;case 36:r87[10]=r87[52];r87[8].d$nL42(r87[54]);r87[8].d$nL42(r87[9]);n1L=52;break;case 7:r87[3]=r87[1];r87[4]={};n1L=14;break;case 12:r87[9]=r87[4];r87[6]={};r87[6].Z_h=['q4x'];r87[6].I28=function(){var s5W=typeof B4lSPT === 'function';return s5W;};n1L=19;break;case 58:r87[82]=0;n1L=57;break;case 75:r87[43]={};n1L=74;break;case 71:r87[55]++;n1L=76;break;case 56:r87[96]=r87[8][r87[82]];try{r87[15]=r87[96][r87[29]]()?r87[20]:r87[58];}catch(k$Y){r87[15]=r87[58];}n1L=77;break;case 76:n1L=r87[55] < r87[96][r87[32]].length?75:70;break;case 57:n1L=r87[82] < r87[8].length?56:69;break;}}};return b_8[9];break;case 2:var b_8=[arguments];b_8[3]=undefined;b_8[9]={};b9h=4;break;}}})();r9oI0[551857]=(function(j$h){return {Z0azgIz:function(){var d3p,p0P=arguments;switch(j$h){case 95:d3p=(p0P[2] - p0P[3]) / p0P[0] - p0P[1];break;case 61:d3p=p0P[1] * p0P[2] - p0P[0];break;case 117:d3p=p0P[1] * p0P[0] / p0P[3] - p0P[2];break;case 159:d3p=(-p0P[0] - p0P[1]) * p0P[2] / p0P[3] + p0P[4];break;case 55:d3p=p0P[1] / p0P[2] * p0P[0];break;case 153:d3p=-p0P[2] / p0P[3] / p0P[4] + p0P[1] - p0P[0];break;case 199:d3p=-p0P[0] * p0P[1] - p0P[3] + p0P[2];break;case 53:d3p=p0P[0] + p0P[2] / p0P[1];break;case 191:d3p=p0P[1] - p0P[2] * p0P[3] - p0P[0];break;case 4:d3p=p0P[0] - p0P[2] + p0P[1] + p0P[3];break;case 168:d3p=p0P[1] * p0P[4] + p0P[3] - p0P[2] - p0P[0];break;case 64:d3p=(p0P[1] - p0P[4] - p0P[2]) * p0P[0] - p0P[3];break;case 93:d3p=(p0P[0] - p0P[1]) / p0P[2] - p0P[3] + p0P[4];break;case 62:d3p=p0P[4] / p0P[2] / p0P[1] * p0P[3] + p0P[0];break;case 74:d3p=(p0P[3] + p0P[2]) * p0P[4] * p0P[0] - p0P[1];break;case 30:d3p=p0P[2] * p0P[1] / p0P[4] * p0P[0] - p0P[3];break;case 185:d3p=p0P[0] / p0P[4] * p0P[2] * p0P[1] - p0P[3];break;case 76:d3p=p0P[1] / p0P[2] * p0P[0] + p0P[3];break;case 186:d3p=p0P[0] * p0P[4] - p0P[1] - p0P[2] + p0P[3];break;case 187:d3p=p0P[3] / p0P[1] - p0P[0] - p0P[2] - p0P[4];break;case 105:d3p=p0P[0] * p0P[4] * p0P[3] - p0P[2] - p0P[1];break;case 38:d3p=p0P[1] * p0P[0] < p0P[2];break;case 135:d3p=p0P[0] / p0P[4] - p0P[2] + p0P[3] - p0P[1];break;case 73:d3p=+p0P[1] / p0P[0];break;case 180:d3p=(p0P[0] + p0P[2]) / p0P[3] / p0P[4] + p0P[1];break;case 66:d3p=p0P[3] / p0P[0] - p0P[2] - p0P[1];break;case 129:d3p=(p0P[0] + (p0P[2] ^ p0P[3])) * p0P[1];break;case 141:d3p=p0P[3] + p0P[2] + p0P[1] - p0P[4] - p0P[0];break;case 87:d3p=p0P[2] * (p0P[3] + +p0P[0]) / p0P[1];break;case 195:d3p=p0P[2] + p0P[0] / p0P[1] + p0P[3];break;case 65:d3p=(p0P[1] + p0P[3]) * p0P[2] / p0P[4] + p0P[0];break;case 98:d3p=(p0P[2] - p0P[0]) * p0P[1] + p0P[3];break;case 119:d3p=(p0P[0] + p0P[4]) * p0P[1] / p0P[3] - p0P[2];break;case 115:d3p=p0P[1] * p0P[2] * p0P[3] - p0P[0];break;case 56:d3p=p0P[1] + p0P[0] / (p0P[3] << p0P[2]);break;case 10:d3p=p0P[0] / p0P[1];break;case 100:d3p=(p0P[3] * p0P[1] + p0P[0]) / p0P[2];break;case 92:d3p=p0P[2] + p0P[0] + p0P[1];break;case 176:d3p=(p0P[2] % p0P[0] + p0P[3]) * p0P[1];break;case 14:d3p=-p0P[0] * p0P[3] + p0P[2] + p0P[1];break;case 149:d3p=(p0P[3] - p0P[0] - p0P[1]) / p0P[2] - p0P[4];break;case 102:d3p=p0P[2] + p0P[1] + p0P[0] - p0P[3];break;case 24:d3p=p0P[0] / (p0P[2] / +p0P[1]);break;case 77:d3p=(p0P[1] - p0P[3]) / p0P[0] * p0P[2] + p0P[4];break;case 157:d3p=-p0P[4] + p0P[2] + p0P[3] + p0P[1] - p0P[0];break;case 29:d3p=p0P[0] << p0P[1];break;case 144:d3p=p0P[1] - p0P[2] - p0P[3] + p0P[4] + p0P[0];break;case 99:d3p=p0P[2] + (p0P[0] - p0P[1]) / (p0P[4] - p0P[3]) * (p0P[5] - p0P[6]);break;case 31:d3p=(p0P[2] - p0P[4]) * p0P[1] + p0P[0] + p0P[3];break;case 111:d3p=p0P[0] * +p0P[1];break;case 20:d3p=-p0P[1] + p0P[0];break;case 189:d3p=p0P[1] * -+p0P[0];break;case 67:d3p=p0P[0] / p0P[2] - p0P[3] + p0P[1];break;case 8:d3p=p0P[1] + p0P[0] - p0P[3] - p0P[2];break;case 57:d3p=-p0P[0] * p0P[4] + p0P[1] + p0P[2] + p0P[3];break;case 128:d3p=(p0P[3] - p0P[2]) * p0P[0] - p0P[4] + p0P[1];break;case 151:d3p=(p0P[1] - p0P[0]) * p0P[3] - p0P[2];break;case 179:d3p=p0P[0] * (p0P[2] + p0P[1]);break;case 125:d3p=-p0P[4] * p0P[0] / p0P[2] - p0P[1] + p0P[3];break;case 43:d3p=p0P[3] * p0P[1] + p0P[0] - p0P[2];break;case 63:d3p=(p0P[1] - p0P[0] + p0P[4]) / p0P[3] + p0P[2];break;case 118:d3p=(p0P[2] + p0P[3] + p0P[0]) * p0P[4] - p0P[1];break;case 50:d3p=-p0P[3] * p0P[1] * p0P[0] + p0P[2];break;case 164:d3p=+p0P[3] * (p0P[0] / p0P[2] - p0P[1]);break;case 23:d3p=p0P[2] - p0P[1] * p0P[0];break;case 40:d3p=p0P[1] ^ p0P[0];break;case 81:d3p=(p0P[4] + p0P[3] - p0P[1]) / p0P[0] - p0P[2];break;case 32:d3p=(p0P[2] + p0P[1]) / p0P[4] + p0P[3] - p0P[0];break;case 46:d3p=p0P[1] - p0P[0] - p0P[2];break;case 85:d3p=p0P[1] + (p0P[3] - p0P[0]) / p0P[2];break;case 69:d3p=(p0P[1] - p0P[0]) / (p0P[2] - p0P[3]);break;case 27:d3p=(p0P[1] - p0P[0]) / p0P[2];break;case 82:d3p=-p0P[3] * p0P[1] / p0P[0] * p0P[2] + p0P[4];break;case 112:d3p=(p0P[3] - (p0P[2] + p0P[1])) / p0P[0];break;case 101:d3p=(p0P[2] + p0P[3] * p0P[0]) / p0P[1];break;case 48:d3p=-p0P[1] * p0P[0] + p0P[2];break;case 181:d3p=p0P[1] - p0P[4] + p0P[3] + p0P[2] + p0P[0];break;case 169:d3p=p0P[0] * (p0P[1] / p0P[3] - p0P[2]);break;case 109:d3p=p0P[1] * p0P[2] / p0P[3] + p0P[0];break;case 170:d3p=p0P[3] * p0P[4] - p0P[1] - p0P[2] - p0P[0];break;case 130:d3p=(p0P[3] - p0P[2]) * p0P[0] * p0P[1] + p0P[4];break;case 28:d3p=-p0P[2] / p0P[1] + p0P[0];break;case 59:d3p=(p0P[0] * p0P[4] - p0P[1]) * p0P[3] - p0P[2];break;case 136:d3p=(-p0P[0] + p0P[2]) * p0P[3] + p0P[1];break;case 127:d3p=(p0P[2] - p0P[1]) * p0P[3] + p0P[0] - p0P[4];break;case 88:d3p=p0P[3] * (p0P[0] * p0P[1] + p0P[2]) / p0P[4];break;case 116:d3p=(p0P[3] + p0P[1]) / p0P[2] + p0P[0];break;case 163:d3p=p0P[4] - p0P[2] - p0P[1] + p0P[0] - p0P[3];break;case 84:d3p=p0P[1] / +p0P[0];break;case 133:d3p=-p0P[0] / p0P[1] / p0P[2] + p0P[3];break;case 138:d3p=p0P[0] + (p0P[2] << p0P[3]) * p0P[1];break;case 42:d3p=+p0P[2] * p0P[3] - p0P[0] - p0P[1];break;case 86:d3p=p0P[2] - p0P[1] * (p0P[0] - p0P[3]);break;case 37:d3p=-p0P[0] + p0P[3] + p0P[2] - p0P[1];break;case 17:d3p=p0P[1] - +p0P[0];break;case 75:d3p=(p0P[3] - p0P[6]) * (p0P[1] - p0P[0]) / (p0P[5] - p0P[2]) + p0P[4];break;case 162:d3p=p0P[2] - p0P[4] / (p0P[1] + p0P[3] / p0P[0]);break;case 123:d3p=(p0P[4] - p0P[3]) * p0P[1] * p0P[2] - p0P[0];break;case 12:d3p=p0P[1] >> p0P[0];break;case 150:d3p=p0P[0] * p0P[1] / p0P[4] * p0P[3] + p0P[2];break;case 26:d3p=p0P[0] - (p0P[1] - p0P[2]);break;case 152:d3p=(p0P[0] / p0P[3] + p0P[4]) * p0P[1] - p0P[2];break;case 110:d3p=(-p0P[4] - p0P[2]) * p0P[0] - p0P[1] + p0P[3];break;case 178:d3p=p0P[1] > p0P[0];break;case 107:d3p=p0P[0] + p0P[4] + p0P[6] + p0P[5] + p0P[2] + p0P[1] + p0P[3] + p0P[7];break;case 156:d3p=-p0P[1] - p0P[0];break;case 174:d3p=p0P[4] + p0P[3] + p0P[2] + p0P[0] - p0P[1];break;case 13:d3p=-p0P[1] + p0P[0] - p0P[2];break;case 139:d3p=p0P[0] / p0P[2] * p0P[1] / p0P[3] - p0P[4];break;case 155:d3p=p0P[0] + p0P[1] * (p0P[2] ^ p0P[3]);break;case 147:d3p=p0P[4] / p0P[0] / p0P[2] / p0P[3] + p0P[1];break;case 21:d3p=p0P[0] * p0P[1];break;case 5:d3p=-p0P[2] + p0P[0] + p0P[1];break;case 190:d3p=p0P[1] * -p0P[0];break;case 11:d3p=(p0P[1] + p0P[2]) / p0P[0] - p0P[3];break;case 39:d3p=p0P[1] + (p0P[0] - p0P[2]);break;case 106:d3p=p0P[0] / p0P[1] * p0P[3] - p0P[2];break;case 140:d3p=p0P[2] - p0P[1] + p0P[0] - p0P[3];break;case 167:d3p=(p0P[0] - p0P[3]) / p0P[1] + p0P[4] - p0P[2];break;case 158:d3p=p0P[2] * p0P[0] / (p0P[3] + p0P[1]);break;case 192:d3p=p0P[0] + p0P[3] * +p0P[1] + p0P[2];break;case 94:d3p=(p0P[0] + p0P[3]) / p0P[1] * p0P[2] - p0P[4];break;case 142:d3p=-p0P[2] / p0P[4] + p0P[3] + p0P[0] - p0P[1];break;case 161:d3p=p0P[2] * p0P[0] * p0P[1];break;case 143:d3p=-p0P[2] - p0P[1] - p0P[3] + p0P[0];break;case 131:d3p=(p0P[2] + p0P[0]) / p0P[1] - p0P[4] + p0P[3];break;case 173:d3p=p0P[0] - p0P[1] - p0P[3] - p0P[2];break;case 148:d3p=(p0P[1] - p0P[2]) / p0P[3] * p0P[0] - p0P[4];break;case 2:d3p=p0P[0] + p0P[1];break;case 121:d3p=(p0P[1] - p0P[2]) * p0P[0] - p0P[3] - p0P[4];break;case 22:d3p=p0P[1] + p0P[0] * p0P[2];break;case 58:d3p=(p0P[4] - p0P[3]) / (p0P[2] - p0P[0]) > p0P[1];break;case 91:d3p=p0P[1] * p0P[2] + p0P[0];break;case 51:d3p=p0P[3] - p0P[2] - p0P[0] + p0P[1];break;case 124:d3p=-p0P[2] / p0P[1] * p0P[0] * p0P[4] + p0P[3];break;case 44:d3p=p0P[1] / p0P[2] / p0P[4] + p0P[0] - p0P[3];break;case 182:d3p=p0P[3] * p0P[4] * p0P[0] * p0P[2] - p0P[1];break;case 183:d3p=p0P[3] * p0P[4] / p0P[2] - p0P[1] + p0P[0];break;case 172:d3p=p0P[1] / p0P[0] + p0P[2] + p0P[3];break;case 33:d3p=p0P[2] / p0P[1] - p0P[0];break;case 193:d3p=p0P[0] + p0P[1] * p0P[3] + p0P[2];break;case 194:d3p=p0P[1] == p0P[0];break;case 197:d3p=p0P[2] + (p0P[4] / p0P[3] - p0P[1] / p0P[0]);break;case 166:d3p=(-p0P[3] - p0P[0]) / p0P[1] / p0P[4] + p0P[2];break;case 90:d3p=(p0P[1] - p0P[0] * p0P[2]) / p0P[3];break;case 41:d3p=p0P[0] * p0P[3] - p0P[1] - p0P[2];break;case 171:d3p=p0P[0] / p0P[3] / p0P[4] + p0P[2] + p0P[1];break;case 34:d3p=p0P[2] + p0P[0] - p0P[1] + p0P[3];break;case 1:d3p=p0P[0] - p0P[2] + p0P[1];break;case 198:d3p=(p0P[0] + p0P[2] - p0P[1]) * p0P[3] - p0P[4];break;case 25:d3p=p0P[1] | p0P[0];break;case 9:d3p=(p0P[2] + p0P[0]) / p0P[1];break;case 54:d3p=p0P[0] % p0P[1];break;case 15:d3p=(p0P[2] + p0P[3] + p0P[0] + p0P[1]) / p0P[4];break;case 96:d3p=(p0P[2] * p0P[1] + p0P[0]) * p0P[3] - p0P[4];break;case 79:d3p=p0P[1] + +p0P[0];break;case 0:d3p=p0P[2] - p0P[1] + p0P[4] + p0P[0] - p0P[3];break;case 188:d3p=+p0P[1] * p0P[0];break;case 35:d3p=p0P[1] / p0P[2] + p0P[0] + p0P[3] - p0P[4];break;case 132:d3p=p0P[3] * p0P[6] * p0P[1] + (p0P[2] - p0P[5] * p0P[0]) * p0P[4];break;case 196:d3p=p0P[0] * p0P[2] * +p0P[1] * p0P[3];break;case 160:d3p=-p0P[2] + p0P[3] + p0P[0] + p0P[1];break;case 45:d3p=-p0P[0] - p0P[1] + p0P[2];break;case 103:d3p=p0P[1] * p0P[2] / p0P[0];break;case 184:d3p=p0P[2] - p0P[3] / (p0P[1] + p0P[0]);break;case 154:d3p=p0P[2] + p0P[1] * +p0P[0];break;case 19:d3p=p0P[2] / (p0P[1] / p0P[0]);break;case 7:d3p=p0P[0] + p0P[1] - p0P[2];break;case 104:d3p=p0P[0] !== p0P[1];break;case 80:d3p=p0P[1] + (p0P[0] << p0P[2]);break;case 146:d3p=(p0P[0] + p0P[1]) * p0P[3] - p0P[2];break;case 71:d3p=p0P[3] + p0P[0] - p0P[4] + p0P[2] - p0P[1];break;case 177:d3p=p0P[2] / (p0P[0] * p0P[3]) <= p0P[1];break;case 70:d3p=(p0P[2] + p0P[3]) * p0P[1] + p0P[4] - p0P[0];break;case 108:d3p=p0P[3] * p0P[4] / p0P[2] / p0P[1] + p0P[0];break;case 89:d3p=(p0P[1] * p0P[6] - p0P[3] * p0P[4]) / (p0P[0] * p0P[2] - p0P[5]);break;case 6:d3p=(p0P[2] + p0P[0]) / +p0P[1];break;case 134:d3p=p0P[2] * p0P[3] - p0P[1] + p0P[0];break;case 60:d3p=-p0P[0] / p0P[2] - p0P[1] + p0P[3];break;case 137:d3p=p0P[2] + (p0P[1] ^ p0P[3]) * p0P[0];break;case 3:d3p=p0P[0] - p0P[1];break;case 18:d3p=(p0P[3] - p0P[0] - p0P[2]) / p0P[1] + p0P[4];break;case 52:d3p=p0P[2] - p0P[0] / p0P[1];break;case 36:d3p=p0P[0] / p0P[3] + p0P[1] - p0P[2];break;case 120:d3p=p0P[1] * p0P[4] + p0P[0] + p0P[3] - p0P[2];break;case 175:d3p=p0P[1] / p0P[0] + p0P[3] + p0P[2] + p0P[4];break;case 68:d3p=p0P[1] < p0P[0];break;case 47:d3p=p0P[2] + p0P[3] + p0P[4] - p0P[0] + p0P[1];break;case 49:d3p=p0P[0] / p0P[1] + p0P[2];break;case 145:d3p=p0P[2] / p0P[3] + p0P[4] - p0P[1] + p0P[0];break;case 72:d3p=-p0P[3] + p0P[0] - p0P[1] + p0P[2];break;case 16:d3p=(p0P[2] - p0P[1]) / p0P[3] + p0P[0];break;case 78:d3p=(p0P[2] + p0P[1] - p0P[0]) / p0P[4] + p0P[3];break;case 126:d3p=+p0P[0] * p0P[1] / p0P[2];break;case 113:d3p=p0P[2] + p0P[3] + p0P[1] + p0P[0];break;case 83:d3p=(p0P[1] >> p0P[0]) / +p0P[2];break;case 165:d3p=p0P[3] + p0P[2] * (p0P[1] - p0P[0]);break;case 114:d3p=(p0P[1] / p0P[3] - p0P[0]) / p0P[4] + p0P[2];break;case 97:d3p=-(p0P[1] - p0P[2]) * p0P[0] + p0P[3];break;case 122:d3p=p0P[0] / p0P[4] * p0P[2] / p0P[1] + p0P[3];break;}return d3p;},v9Jka3Q:function(G8x){j$h=G8x;}};})();r9oI0.a9Z=function(){return typeof r9oI0[643448].X_9c9QF === 'function'?r9oI0[643448].X_9c9QF.apply(r9oI0[643448],arguments):r9oI0[643448].X_9c9QF;};var s5B84,W,X,G,N,U,o,g,Y,F,E,I,Q,S,Z,m$,s4,E4,o2,v8,H6,e_,n0,E6,O_,R_,m3,t$,Y6,O$,Y9,T1,a1,h3,w2,l0,c0,P5,z2,B1,y8,K1,n4,G6,v_,N8,A5,A6,U7,T7,T3,K_,t8,X3,x6,T_,x4,r$,x3,I6,G_,x7,A9,k$,M_,E3,M8,c3,Z1,y5,E5;s5B84="un";s5B84+="defined";import {CIQ as S3, SplinePlotter as i2, timezoneJS as V2, $$ as b3, $$$ as R4} from "../js/standard.js";W=v3=>{var h5S=r9oI0;var s7;s7=typeof _CIQ !== "undefined"?_CIQ:v3.CIQ;s7.Renderer.Aggregations=function(O3){var g7s,a6,G43;g7s="_main";h5S.Y0_();g7s+="_series";this.construct(O3);a6=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;this.isAggregation=!![];a6.highlightable=!({});if(a6.name != g7s){G43="Agg";G43+="regations are o";G43+="nly allowed on";G43+=" main series.";console.warn(G43);a6.invalid=!!"1";}};s7.inheritsFrom(s7.Renderer.Aggregations,s7.Renderer.OHLC,!"1");s7.Renderer.Aggregations.requestNew=function(x$,q$){var S97,F_E,d4,F5l,s2G,f9W,L3,a3;S97="O";S97+="HL";S97+="C";F_E="can";h5S.M17();F_E+="dl";F_E+="e";d4=null;for(var g$=0;g$ < x$.length;g$++){F5l="r";F5l+="en";F5l+="k";F5l+="o";s2G="rang";s2G+="ebars";f9W="linebr";f9W+="eak";L3=x$[g$];switch(L3){case "kagi":case "pandf":d4=L3;break;case "heikinashi":case f9W:case s2G:case F5l:d4="candle";break;default:return null;}}if(d4 === null){return null;}a3=new s7.Renderer[d4 == F_E?S97:"Aggregations"]({params:s7.extend(q$,{type:d4})});a3.isAggregation=!0;return a3;};s7.Renderer.Aggregations.prototype.drawIndividualSeries=function(f9,j3){var t9K,R6,c9,P7b,n2f,V$a,k2k;t9K="pand";t9K+="f";if(j3.invalid){return;}h5S.Y0_();R6=this.stx;c9={colors:[]};if(j3.type == "kagi"){P7b="stx_kag";P7b+="i_down";n2f="stx";n2f+="_kagi_up";R6.drawKagiSquareWave(f9.panel,n2f,"stx_kagi_down",j3);c9.colors.push(R6.getCanvasColor("stx_kagi_up"));c9.colors.push(R6.getCanvasColor(P7b));}else if(j3.type == t9K){V$a="st";V$a+="x_pan";V$a+="df";V$a+="_up";k2k="st";k2k+="x_pandf";k2k+="_up";R6.drawPointFigureChart(f9.panel,k2k,(8811,644.21) > 9770?(7.99e+2,4.67e+3):"X",j3);c9.colors.push(R6.getCanvasColor(V$a));R6.drawPointFigureChart(f9.panel,"stx_pandf_down",7448 < (271,3830)?(674,+"7700") > (792,632.18)?78 != (4691,705)?0x1b70:!![]:(110.45,+"1.51e+3"):"O",j3);c9.colors.push(R6.getCanvasColor("stx_pandf_down"));}return c9;};s7.ChartEngine.prototype.setAggregationType=function(G4){var Z5;this.layout.chartType="candle";Z5=this.chart;if(Z5.baseline.userLevel !== !({})){Z5.baseline.userLevel=Z5.baseline.defaultLevel;Z5.panel.yAxis.scroll=s7.ChartEngine.YAxis.prototype.scroll;}h5S.M17();this.layout.aggregationType=G4;this.setMainSeriesRenderer();if(Z5.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};s7.ChartEngine.prototype.drawKagiSquareWave=function(t6,Q0,X6,u7){var c8,u2,N9,Y_,G$,f0,P6,p9,J5,O9,u$,R$,G0,H$,Y3,r9,c7,R7,W5,h_,D_;c8=t6.chart;this.startClip(t6.name);u2=c8.dataSegment;h5S.Y0_();N9=c8.context;Y_=t6.yAxis;if(Y_.flipped){G$=Q0;Q0=X6;X6=G$;}f0=this.canvasStyle(Q0);P6=this.canvasStyle(X6);this.canvasColor(Q0);if(u7.border_color_up){N9.strokeStyle=u7.border_color_up;}p9=N9.strokeStyle;this.canvasColor(X6);if(u7.border_color_down){N9.strokeStyle=u7.border_color_down;}J5=N9.strokeStyle;O9=1;if(f0.width && parseInt(f0.width,10) <= 25){O9=Math.max(1,s7.stripPX(f0.width));}u$=1;if(P6.width && parseInt(P6.width,"10" << 96) <= "25" << 64){u$=Math.max(1,s7.stripPX(P6.width));}if(this.highlightedDraggable){N9.globalAlpha*=0.3;}N9.beginPath();h5S.O2S(0);var D7h=h5S.m68(19,11,10,28,11);R$=c8.dataSet.length - c8.scroll - D7h;G0=!![];H$=null;Y3=null;r9=null;h5S.N94(1);var F9Y=h5S.m68(0,19,18);c7=t6.left - 0.5 * this.layout.candleWidth + this.micropixels - F9Y;for(var n$=0;n$ <= u2.length;n$++){c7+=this.layout.candleWidth;R7=u2[n$];if(!R7)continue;if(!R7.cache || c8.pixelCacheExpired){R7.cache={};}if(R7.projection)break;r9=R7.kagiTrend;if(Y_.flipped){r9*=-1;}if(R7.transform && c8.transformFunc){W5=R7.kagiPrevOpen;R7=R7.transform;R7.kagiPrevOpen=c8.transformFunc(this,c8,W5);}h_=R7.cache;h5S.N94(2);D_=h5S.m68(R$,n$);if(D_ < t6.cacheLeft || D_ > t6.cacheRight || !h_.kagiOpen){h_.kagiOpen=Y_.semiLog?Y_.height * (+"1" - (Math.log(Math.max(R7.Open,+"0")) / Math.LN10 - Y_.logLow) / Y_.logShadow):(Y_.high - R7.Open) * Y_.multiplier;h_.kagiClose=Y_.semiLog?Y_.height * ("1" - 0 - (Math.log(Math.max(R7.Close,0)) / Math.LN10 - Y_.logLow) / Y_.logShadow):(Y_.high - R7.Close) * Y_.multiplier;if(Y_.flipped){h_.kagiOpen=Y_.bottom - h_.kagiOpen;h_.kagiClose=Y_.bottom - h_.kagiClose;}else {h_.kagiOpen+=Y_.top;h_.kagiClose+=Y_.top;}}Y3=h_.kagiClose;H$=Y_.semiLog?Y_.height * (1 - (Math.log(Math.max(R7.kagiPrevOpen,+"0")) / Math.LN10 - Y_.logLow) / Y_.logShadow):(Y_.high - R7.kagiPrevOpen) * Y_.multiplier;if(Y_.flipped){H$=Y_.bottom - H$;}else {H$+=Y_.top;}if(G0){N9.moveTo(R$ >= 0?t6.left:Math.floor(c7),h_.kagiOpen);N9.lineTo(Math.floor(c7),h_.kagiOpen);if(h_.kagiClose < h_.kagiOpen){N9.strokeStyle=p9;N9.lineWidth=O9;}else {N9.strokeStyle=J5;N9.lineWidth=u$;}}else {if(r9 != -1 && h_.kagiClose < H$ && H$ < h_.kagiOpen){N9.lineTo(Math.floor(c7),H$);N9.stroke();N9.beginPath();N9.moveTo(Math.floor(c7),H$);N9.strokeStyle=p9;N9.lineWidth=O9;}else if(r9 != 1 && h_.kagiClose > H$ && H$ > h_.kagiOpen){N9.lineTo(Math.floor(c7),H$);N9.stroke();N9.beginPath();N9.moveTo(Math.floor(c7),H$);N9.strokeStyle=J5;N9.lineWidth=u$;}}N9.lineTo(Math.floor(c7),h_.kagiClose);if(n$ + 1 < u2.length){N9.lineTo(Math.floor(c7 + this.layout.candleWidth),h_.kagiClose);}G0=!!0;}N9.stroke();this.endClip();N9.lineWidth=+"1";c8.pixelCacheExpired=![];};s7.ChartEngine.prototype.drawPointFigureChart=function(t9,s0,x5,R8){var C7,O8,L0,Q4,B8,d_,Q1,g8,j7,F9,q6,A8,J9,H0,z_,l7,u_,i5,P8,o7,x8,l9,u3,j1,a0,g6;C7=t9.chart;this.startClip(t9.name);function X1(I1,U$,F8){h5S.N94(2);L0.moveTo(h5S.z95(I1,Q1),h5S.m68(F8,z_,d_,h5S.N94(1)));h5S.O2S(3);L0.lineTo(h5S.m68(U$,g8),h5S.m68(F8,B8,H0,z_,h5S.N94(4)));h5S.O2S(2);L0.moveTo(h5S.z95(I1,Q1),h5S.z95(F8,B8,H0,z_,h5S.N94(4)));h5S.O2S(3);L0.lineTo(h5S.z95(U$,g8),h5S.z95(F8,z_,d_,h5S.O2S(1)));}O8=C7.dataSegment;L0=C7.context;this.canvasColor(s0);if(x5 == (("8430" | 76) == (+"3120",1060)?"Z":(2953,4502) < ("491.9" * 1,4398)?(!!"1","k"):"X") && R8.border_color_up){L0.strokeStyle=R8.border_color_up;}else if(x5 == "O" && R8.border_color_down){L0.strokeStyle=R8.border_color_down;}Q4=this.canvasStyle(s0);B8=parseInt(Q4.paddingTop,10);d_=parseInt(Q4.paddingBottom,+"10");Q1=parseInt(Q4.paddingLeft,10);g8=parseInt(Q4.paddingRight,10);if(Q4.width && parseInt(Q4.width,"10" << 64) <= +"25"){L0.lineWidth=Math.max(1,s7.stripPX(Q4.width));}else {L0.lineWidth=2;}if(this.highlightedDraggable){L0.globalAlpha*=0.3;}L0.beginPath();j7=this.chart.state.aggregation.box;h5S.O2S(5);var J0i=h5S.m68(11,2,12);F9=C7.dataSet.length - C7.scroll - J0i;q6=t9.yAxis;function w4(n7,r1,h2){h5S.O2S(6);L0.moveTo(h5S.z95(r1,"2",n7),h5S.m68(h2,B8,z_,h5S.N94(7)));h5S.N94(2);L0.bezierCurveTo(h5S.z95(r1,g8),h5S.m68(h2,B8,z_,h5S.O2S(7)),h5S.z95(r1,g8,h5S.O2S(2)),h5S.z95(H0,h2,z_,d_,h5S.N94(8)),h5S.z95(r1,2,n7,h5S.N94(9)),h5S.z95(H0,h2,z_,d_,h5S.O2S(8)));h5S.O2S(3);L0.bezierCurveTo(h5S.z95(n7,Q1),h5S.m68(H0,h2,z_,d_,h5S.O2S(8)),h5S.m68(n7,Q1,h5S.O2S(3)),h5S.m68(h2,B8,z_,h5S.O2S(7)),h5S.z95(r1,2,n7,h5S.O2S(9)),h5S.m68(h2,B8,z_,h5S.O2S(7)));}H0=j7 * q6.multiplier;h5S.N94(10);z_=h5S.z95(H0,2);l7=this.layout.candleWidth;h5S.Y0_();h5S.O2S(11);var H4j=h5S.m68(19,0,19,0);u_=t9.left - l7 + this.micropixels - H4j;for(var a7=0;a7 < O8.length;a7++){u_+=l7;i5=O8[a7];if(!i5)continue;if(!i5.cache || C7.pixelCacheExpired){i5.cache={};}if(i5.projection)break;P8=i5.pfOpen;o7=i5.pfClose;x8=i5.pfTrend;l9=i5.pfStepBack;if(i5.transform && C7.transformFunc){i5=i5.transform;P8=C7.transformFunc(this,C7,P8);o7=C7.transformFunc(this,C7,o7);}u3=i5.cache;h5S.O2S(2);j1=h5S.m68(F9,a7);if(j1 < t9.cacheLeft || j1 > t9.cacheRight || !u3.pfOpen){if(q6.flipped){u3.pfOpen=q6.bottom - (q6.high - P8) * q6.multiplier;u3.pfClose=q6.bottom - (q6.high - o7) * q6.multiplier;}else {u3.pfOpen=(q6.high - P8) * q6.multiplier + q6.top;u3.pfClose=(q6.high - o7) * q6.multiplier + q6.top;}}a0=Math.round(u_);h5S.N94(2);g6=Math.round(h5S.z95(u_,l7));A8=Math.abs(Math.round((o7 - P8) / j7));J9=u3.pfOpen;if(x5 == l9){if(l9 == ((214,8050) !== 159.71?"X":3093 >= (355.86,714.96)?(0x1bcf,"c"):843.39)){h5S.N94(3);X1(a0,g6,h5S.m68(J9,H0));}else if(l9 == "O"){h5S.O2S(2);w4(a0,g6,h5S.z95(J9,H0));}}if(x5 == x8){for(;A8 >= 0;A8--){if(x5 == "X"){X1(a0,g6,J9);J9-=q6.flipped?-H0:H0;}else if(x5 == "O"){w4(a0,g6,J9);J9+=q6.flipped?-H0:H0;}}}}L0.stroke();this.endClip();h5S.O2S(12);L0.lineWidth=h5S.m68(0,"1");C7.pixelCacheExpired=!({});};s7.ChartEngine.calculateAggregation=function(J4,Y0,k3,G8){var w0I,z3w,Y8,t2;w0I="pa";h5S.M17();w0I+="nd";w0I+="f";z3w="r";z3w+="enk";z3w+="o";t2=J4.layout;if(["heikinashi","heikenashi"].indexOf(Y0) > -1){Y8=s7.calculateHeikinAshi(J4,k3,G8);}else if(Y0 == "rangebars"){Y8=s7.calculateRangeBars(J4,k3,t2.rangebars,G8);}else if(Y0 == "kagi"){Y8=s7.calculateKagi(J4,k3,t2.kagi,G8);}else if(Y0 == "linebreak"){Y8=s7.calculateLineBreak(J4,k3,t2.priceLines,G8);}else if(Y0 == z3w){Y8=s7.calculateRenkoBars(J4,k3,t2.renko,G8);}else if(Y0 == w0I){Y8=s7.calculatePointFigure(J4,k3,t2.pandf,G8);}return Y8;};s7.calculateHeikinAshi=function(g2,E_,w1){h5S.Y0_();var Y7,i7,K2,A4,J2,D5,s_,s3,j5,o6,D8;if(!E_.length){return E_;}if(!w1){w1=[];}Y7=[];for(var t7=+"0";t7 < E_.length;t7++){i7=E_[t7];if(!i7)continue;K2=Y7[Y7.length - ("1" - 0)];if(!K2 && !t7){h5S.N94(13);var m5w=h5S.m68(17,3,13);K2=w1[w1.length - m5w];}if(!K2){K2=i7;}A4=i7.Close;J2=i7.Open;D5=i7.High;s_=i7.Low;s3=K2.Open;J2=J2 || J2 === 0?J2:A4;D5=D5 || D5 === 0?D5:A4;s_=s_ || s_ === 0?s_:A4;s3=s3 || s3 === 0?s3:K2.Close;h5S.N94(14);var v7I=h5S.z95(2,28,14,20);j5=(s3 + K2.Close) / v7I;h5S.N94(15);o6=h5S.z95(s_,A4,J2,D5,4);D8={DT:i7.DT,displayDate:i7.displayDate,Date:i7.Date,Open:j5,Close:o6,High:Math.max(D5,Math.max(j5,o6)),Low:Math.min(s_,Math.min(j5,o6)),Volume:i7.Volume,iqPrevClose:K2.Close};for(var f6 in i7){if(!D8[f6] && D8[f6] !== "0" << 32){D8[f6]=i7[f6];}}Y7.push(D8);}return Y7;};s7.calculateKagi=function(l$,A3,y6,i6){var w9,J$,p$C,U_,v$,U0,G2,n_,a4;if(!A3.length){return A3;}if(!i6){i6=[];}w9=l$.layout;J$=l$.chart;y6=parseFloat(y6);J$.defaultChartStyleConfig.kagi=s7.ChartEngine.isDailyInterval(w9.interval)?4:+"0.4";if(isNaN(y6) || y6 <= 0){y6=J$.defaultChartStyleConfig.kagi;if(s7.Market.Symbology.isForexSymbol(J$.symbol)){y6/=4;}if(w9.kagi !== null){p$C="l";p$C+="ayout";w9.kagi=null;l$.changeOccurred(p$C);}}y6/=100;U_=[];h5S.N94(16);var h8v=h5S.m68(2,13,0,13);v$=i6[i6.length - h8v];h5S.Y0_();U0=v$?v$.DT:0;for(var q_=0;q_ < A3.length;q_++){G2=A3[q_];if(!G2)continue;if(!v$){h5S.N94(17);v$=A3[h5S.z95("1",q_)];}if(!v$)continue;n_=v$.Open || v$.Open === +"0"?v$.Open:v$.Close;if(n_ > v$.Close){if(G2.Close > v$.Close * (1 + y6)){G2.Open=v$.Close;}else {if(v$.Close > G2.Close){v$.Close=G2.Close;}v$.Volume+=G2.Volume;if(q_ < A3.length - 1)continue;}}else if(n_ < v$.Close){if(G2.Close < v$.Close * (1 - y6)){G2.Open=v$.Close;}else {if(v$.Close < G2.Close){v$.Close=G2.Close;}v$.Volume+=G2.Volume;if(q_ < A3.length - 1)continue;}}else {v$.Close=G2.Close;v$.Volume+=G2.Volume;if(q_ < A3.length - 1)continue;}a4={DT:v$.DT,displayDate:v$.displayDate,Date:v$.Date,Open:v$.Open,Close:v$.Close,High:Math.max(v$.Open,v$.Close),Low:Math.min(v$.Open,v$.Close),Volume:v$.Volume,iqPrevClose:v$.iqPrevClose};for(var v4 in v$){if(!a4[v4] && a4[v4] !== ("0" ^ 0)){a4[v4]=v$[v4];}}if(U_.length){a4.kagiPrevOpen=U_[U_.length - 1].Open;}else {a4.kagiPrevOpen=a4.Open;}if(a4.Close > a4.kagiPrevOpen && a4.kagiPrevOpen > a4.Open){a4.kagiTrend=1;}else if(a4.Close < a4.kagiPrevOpen && a4.kagiPrevOpen < a4.Open){a4.kagiTrend=-1;}if(U0 < a4.DT){U_.push(a4);}v$=G2;J$.currentQuote={Close:G2.Close};}return U_;};h5S.M17();s7.calculateLineBreak=function(P4,R1,P2,F5){var T9,N5,i$,X9,Z3,W8,o0,W2,I$,S6,C_,E0,m_,B7;if(!R1.length){return R1;}if(!F5){F5=[];}T9=P4.layout;N5=P4.chart;N5.defaultChartStyleConfig.priceLines=3;P2=parseInt(P2,10);if(isNaN(P2) || P2 <= ("0" ^ 0)){P2=N5.defaultChartStyleConfig.priceLines;if(T9.priceLines !== null){T9.priceLines=null;P4.changeOccurred("layout");}}else if(P2 > 10){T9.priceLines=P2=10;}i$=F5.slice(-P2);X9=i$.length;h5S.Y0_();Z3=0;a:for(var P1=+"0";P1 < R1.length;P1++){W8=R1[P1];if(!W8)continue;Z3+=W8.Volume;o0=i$[i$.length - +"1"];if(!o0){o0={Open:W8.Open,Close:W8.Open,High:W8.Open,Low:W8.Open};}W2=o0.Close;I$=o0.High;S6=o0.Low;C_=o0.Open;I$=I$ || I$ === 0?I$:W2;S6=S6 || S6 === 0?S6:W2;C_=C_ || C_ === 0?C_:W2;E0={DT:W8.DT,displayDate:W8.displayDate,Date:W8.Date,Close:W8.Close,Volume:Z3,iqPrevClose:W2};N5.currentQuote={Close:W8.Close};if(W8.Close > W2 && o0.Close > C_){;}else if(W8.Close < W2 && o0.Close < C_){;}else if(W8.Close > I$){for(m_=2;m_ <= P2;m_++){B7=i$[i$.length - m_];if(B7 && W8.Close <= B7.High){continue a;}}}else if(W8.Close < S6){for(m_=2;m_ <= P2;m_++){B7=i$[i$.length - m_];if(B7 && W8.Close >= B7.Low){continue a;}}}else continue;if(W8.Close < o0.Close){E0.Open=Math.min(C_,W2);}else {E0.Open=Math.max(C_,W2);}E0.Low=Math.min(E0.Open,E0.Close);E0.High=Math.max(E0.Open,E0.Close);for(var m2 in W8){if(!E0[m2] && E0[m2] !== 0){E0[m2]=W8[m2];}}i$.push(E0);Z3=0;}return i$.slice(X9);};function N3(g0){h5S.M17();return g0 > 0.001?Number(g0.toFixed(+"4")):g0;}s7.getMaxRenkoBarsPerRecord=function(z5){h5S.M17();return +"200";};s7.calculateRenkoBars=function(m7,W9,X8,J0,f3){var I3,i_,Q5,Q6,S9,U6U,R9V,T6,A0,B3,k2,l6,t5,b3q,M5,t4,C0,c1,Y4,F_,s5,z$,y_,G5,z7,i4,K6,R5,E7;if(!W9.length){return [];}function h6(b0,X0){var P$;b0=Number(b0.toFixed(8));X0=Number(X0.toFixed(8));P$={DT:c1.DT,displayDate:c1.displayDate,Date:c1.Date,Open:b0,Close:X0,High:Math.max(b0,X0),Low:Math.min(b0,X0),Volume:0,iqPrevClose:b0 != X0?b0:null};h5S.Y0_();for(var Z$ in c1){if(!P$[Z$] && P$[Z$] !== "0" << 64){P$[Z$]=c1[Z$];}}M5.push(P$);}if(!J0){J0=[];}I3=m7.layout;i_=m7.chart;Q5=X8;Q6=i_.state.aggregation;if(!Q6){Q6=i_.state.aggregation={};}S9=Math.min(300,W9.length);if(!Q6.minMax){U6U="H";U6U+="i";U6U+="gh";R9V="C";R9V+="l";R9V+="ose";Q6.minMax=m7.determineMinMax(W9.slice(W9.length - S9),[R9V,U6U,"Low"]);}h5S.O2S(18);var o2g=h5S.z95(6,14,8,0,2);T6=Q6.minMax[o2g] - Q6.minMax[0];A0=m7.panels[i_.name].height;if(!A0){return [];}B3=J0.length > +"0";h5S.O2S(19);k2=N3(h5S.m68(30,A0,T6));l6=s7.getMaxRenkoBarsPerRecord(i_.symbolObject);if(f3){t5=W9.reduce((F7,X4)=>{h5S.M17();var T5;T5=Math.abs(X4.Close - X4.iqPrevClose);return T5 > F7?T5:F7;},0);h5S.O2S(10);Q6.minAutoRenko=N3(h5S.z95(t5,l6));}i_.defaultChartStyleConfig.renko=Q6.minAutoRenko || k2;if(X8 === null || isNaN(X8) || X8 <= 0){X8=i_.defaultChartStyleConfig.renko;if(I3.renko !== null){I3.renko=null;m7.changeOccurred("layout");}}else {h5S.O2S(10);X8=Math.max(X8,h5S.m68(T6,A0));if(I3.renko !== X8){b3q="l";b3q+="ayou";b3q+="t";I3.renko=X8;m7.changeOccurred(b3q);}}M5=[];t4=null;C0=null;c1=null;if(J0.length){h5S.O2S(20);var T5T=h5S.m68(2,1);Y4=J0[J0.length - T5T];t4=Y4.Low - X8;C0=Y4.High + X8;}for(var M0=0;M0 < W9.length;M0++){F_=W9[M0];if(!F_)continue;if(!t4 && !C0){s5=F_.Open || F_.Open === 0?F_.Open:F_.Close;z$=Math.floor(s5 / X8) * X8;y_=isNaN(z$)?s5:z$;h5S.N94(3);t4=h5S.m68(y_,X8);h5S.O2S(2);C0=h5S.m68(y_,X8);}h5S.O2S(21);G5=h5S.m68(X8,l6);z7=!I3.renko;i4=t4 - F_.Close;K6=F_.Close - C0;R5=i4 > G5 || K6 > G5;E7=z7 && R5 && !f3 && !B3;if(E7){return s7.calculateRenkoBars(m7,W9,Q5,J0,!"");}while(!!"1"){if(!c1){c1=F_;}if(F_.Close <= t4){h5S.O2S(2);h6(h5S.z95(t4,X8),t4);h5S.N94(22);C0=h5S.z95(2,t4,X8);t4-=X8;c1=null;}else if(F_.Close >= C0){h5S.N94(3);h6(h5S.m68(C0,X8),C0);h5S.O2S(23);t4=h5S.m68(X8,2,C0);C0+=X8;c1=null;}else break;}i_.currentQuote=F_;}if(t4 < W9[W9.length - 1].Close && t4 + X8 > W9[W9.length - 1].Close){h5S.N94(2);h6(h5S.m68(t4,X8),W9[W9.length - +"1"].Close);}else if(C0 > W9[W9.length - 1].Close && C0 - X8 < W9[W9.length - 1].Close){h5S.N94(3);h6(h5S.m68(C0,X8),W9[W9.length - 1].Close);}return M5;};s7.calculateRangeBars=function(U2,w0,b6,o8){var C$,n1,J8,E2,o1,q8,s8G,W4,N_,S_,W0,f8,h$,y$,R2,D9,m0,m5,U5,S0,q3;if(!w0.length){return w0;}if(!o8){o8=[];}C$=U2.layout;n1=U2.chart;J8=n1.state.aggregation;function o_(z3){var g7;g7={DT:h$.DT,displayDate:h$.displayDate,Date:h$.Date,Open:Number(f8.toFixed(8)),Close:Number(z3.toFixed(8)),High:Number(S_.toFixed(8)),Low:Number(W0.toFixed(8)),Volume:0};h5S.M17();g7.iqPrevClose=g7.Open;for(var b4 in h$){if(!g7[b4] && g7[b4] !== 0){g7[b4]=h$[b4];}}W4.push(g7);}if(!J8){J8=n1.state.aggregation={};}E2=Math.min(300,w0.length);if(!J8.minMax){J8.minMax=U2.determineMinMax(w0.slice(w0.length - E2),["Close","High","Low"]);}function W_(){h5S.N94(2);S_=h5S.m68(N_,b6);h5S.O2S(3);h5S.Y0_();W0=h5S.z95(N_,b6);f8=N_;}h5S.O2S(2);var Q1M=h5S.z95(0,1);o1=J8.minMax[Q1M] - J8.minMax[0];q8=U2.panels[n1.name].height;if(!q8){return [];}h5S.O2S(24);n1.defaultChartStyleConfig.range=N3(h5S.z95(o1,"30",q8));if(b6 === null || isNaN(b6) || b6 < 0){b6=n1.defaultChartStyleConfig.range;if(C$.range !== null){s8G="la";s8G+="you";s8G+="t";C$.range=null;U2.changeOccurred(s8G);}}else {h5S.O2S(10);b6=Math.max(b6,h5S.z95(o1,q8));if(C$.range !== b6){C$.range=b6;U2.changeOccurred("layout");}}W4=[];N_=null;S_=null;W0=null;f8=null;h$=null;for(var j_=0;j_ < w0.length;j_++){y$=w0[j_];if(!y$)continue;h5S.N94(3);R2=w0[h5S.z95(j_,1)];if(!j_){if(!R2){R2=o8[o8.length - ("1" - 0)];}if(R2){N_=R2.Close;if(N_ || N_ === 0){W_();}}}if(!R2)continue;D9=y$.Close;m0=y$.Open;m5=y$.High;U5=y$.Low;if(!D9 && D9 !== 0)continue;m0=m0 || m0 === 0?m0:D9;m5=m5 || m5 === 0?m5:D9;U5=U5 || U5 === 0?U5:D9;if(!N_ && N_ !== 0){S0=Math.floor(m0 / b6) * b6;N_=isNaN(S0)?m0:S0;W_();r3(R2,m0);}if(j_){r3(y$,m0);}if(m5 - m0 < m0 - U5){if(m5){r3(y$,m5);}if(U5){r3(y$,U5);}}else {if(U5){r3(y$,U5);}if(m5){r3(y$,m5);}}r3(y$,D9);if(j_ == w0.length - 1 && D9 != f8){q3=S_;h5S.O2S(2);S_=h5S.m68(W0,b6);h5S.O2S(3);W0=h5S.z95(q3,b6);o_(D9);}}function r3(B5,r7){var W7i,G38;while(1){W7i="u";W7i+="n";W7i+="defin";W7i+="ed";if(!h$){h$=B5;}if(N_ < r7){N_=Math.min(r7,S_);h5S.N94(3);W0=Math.max(W0,h5S.m68(N_,b6));if(r7 < S_)break;}else if(N_ >= r7){N_=Math.max(r7,W0);h5S.N94(2);S_=Math.min(S_,h5S.m68(N_,b6));if(r7 > W0)break;}if(typeof N_ == W7i){G38="Uh oh undefined in ";G38+="calculateRan";G38+="geBars:pro";G38+="cessMove";console.log(G38);return;}o_(N_);h$=null;W_();}}return W4;};s7.calculatePointFigure=function(w5,Q3,h7,w8){var i3,W6,k8,I7,m55,S5,N_N,K0,o7N,T_g,r4T,e5o,J_,W3,l_,P0,Q$,l5,j6,C9,H4,c6,X_,b7,q7;if(!Q3.length){return Q3;}if(!w8){w8=[];}i3=w5.layout;W6=w5.chart;k8=W6.state.aggregation;if(!k8){k8=W6.state.aggregation={};}W6.defaultChartStyleConfig.box=1;W6.defaultChartStyleConfig.reversal=3;function P_(W$,u1,g1,T4,E9){h5S.Y0_();W$.High=Math.max(u1,W$.High);W$.Low=Math.min(g1,W$.Low);W$.Close=T4;W$.Volume+=E9;}if(!h7){h7={};}I7=h7.box;if(!I7){if(i3.pandf){if(i3.pandf.box !== null){m55="l";m55+="ayout";i3.pandf.box=null;w5.changeOccurred(m55);}}I7=W6.defaultChartStyleConfig.box;S5=Q3[Q3.length - 1].Close;if(S5){if(S5 < 0.25){I7=0.0625;}else if(S5 < ("1" | 1)){h5S.N94(3);I7=h5S.m68("0.125",0);}else if(S5 < 5){I7=0.25;}else if(S5 < 20){I7=+"0.5";}else if(S5 < 100){I7=+"1";}else if(S5 < 200){I7=+"2";}else if(S5 < 500){I7=4;}else if(S5 < 1000){I7=5;}else if(S5 < 25000){I7=50;}else {h5S.N94(25);I7=h5S.z95(96,"500");}}if(!s7.ChartEngine.isDailyInterval(i3.interval)){I7/=10;}if(s7.Market.Symbology.isForexSymbol(W6.symbol)){if(S5){if(S5 < 1){I7=0.001;}else if(S5 < ("2" | 0)){I7=0.002;}else if(S5 < 50){I7=0.02;}else if(S5 < 200){I7=+"0.2";}}if(s7.ChartEngine.isDailyInterval(i3.interval)){I7*=10;}}W6.defaultChartStyleConfig.box=I7;}I7=parseFloat(I7);if(isNaN(I7) || I7 <= "0" * 1){if(i3.pandf){if(i3.pandf.box !== null){N_N="la";N_N+="yo";N_N+="u";N_N+="t";i3.pandf.box=null;w5.changeOccurred(N_N);}}W6.defaultChartStyleConfig.box=I7=1;}K0=Math.ceil(parseFloat(h7.reversal));if(K0 > 0 && K0 > h7.reversal){o7N="l";o7N+="ayou";o7N+="t";T_g=-554767280;h5S.O2S(3);r4T=h5S.m68("1315945323",0);e5o=2;for(var m3v=+"1";h5S.a9Z(m3v.toString(),m3v.toString().length,+"61175") !== T_g;m3v++){i3.pandf.reversal=K0;w5.changeOccurred("");e5o+=2;}if(h5S.a9Z(e5o.toString(),e5o.toString().length,+"40595") !== r4T){i3.pandf.reversal=K0;w5.changeOccurred("");}i3.pandf.reversal=K0;w5.changeOccurred(o7N);}else if(isNaN(K0) || K0 <= 0){if(i3.pandf){if(i3.pandf.reversal !== null){i3.pandf.reversal=null;w5.changeOccurred("layout");}}K0=W6.defaultChartStyleConfig.reversal;}k8.box=I7;K0*=I7;J_=0.00000001;function H9(C3,n6,r2,D0,G3,b$,Z7,g5,F0){return {DT:C3.DT,Date:C3.Date,pfOpen:g5,pfClose:F0,Open:n6,Close:G3,High:r2,Low:D0,Volume:b$,iqPrevClose:Z7};}W3=(I7.toString() + (8256 >= 419.84?(64,+"349.06") !== 688.71?".":"D":!"")).split((2130,930.06) < (480.77,140.85)?(+"3.05e+3",5.20e+3):(1690,598) <= 4703?+"138.77" > 7143?(!({}),"z"):".":("I",!"1"))[1].length;l_=[];P0=0;function w6(u0,f_){for(var I8 in u0){if(!f_[I8] && f_[I8] !== 0){f_[I8]=u0[I8];}}return f_;}for(var H3=0;H3 < Q3.length;H3++){l5=Q3[H3];if(!l5)continue;P0+=l5.Volume;C9=l5.Close;H4=l5.Open;c6=l5.High;X_=l5.Low;H4=H4 || H4 === 0?H4:C9;c6=c6 || c6 === +"0"?c6:C9;X_=X_ || X_ === 0?X_:C9;if(!l_.length && !w8.length){Q$=w6(l5,H9(l5,H4,c6,X_,C9,P0,c6 + I7,Number((Math.ceil(X_ / I7 - J_) * I7).toFixed(W3)),Number((Math.floor(c6 / I7 + J_) * I7).toFixed(W3))));Q$.pfTrend=(4100,953.05) == (9069,+"3953")?("C",7.63e+3):"X";if(Q$.pfOpen == Q$.pfClose){Q$.pfStepBack=(+"824.93",645) !== 8550?233.36 != 771.46?"-":(8681,6796) <= +"97.02"?(593.35,!!({})):803.79:!({});}l_.push(Q$);P0=+"0";continue;}h5S.N94(3);var d6s=h5S.m68(19,18);j6=l_[l_.length - d6s];if(!j6){j6=s7.clone(w8[w8.length - ("1" ^ 0)]);}if(j6.pfTrend == (1290 >= 9353?"U":(3200,434.64) == (323.92,+"4520")?(0x1b70,!({})):"O")){if(X_ <= j6.pfClose - I7){j6.pfClose=Number((Math.ceil(X_ / I7 - J_) * I7).toFixed(W3));if(j6.pfStepBack == (6186 === (857.2,6751)?623.13:"O")){j6.pfStepBack=null;}P_(j6,c6,X_,C9,P0);}else if(c6 >= j6.pfClose + K0){b7=j6.pfClose + I7;q7=Number((Math.floor(c6 / I7 + J_) * I7).toFixed(W3));Q$=H9(l5,H4,c6,X_,C9,P0,j6.pfClose,b7,q7);if(b7 == q7){Q$.pfStepBack="X";}if(j6.pfStepBack == ((+"2310",8114) < 7890?5.29e+2:618.91 === 830?4.73e+3:"O")){j6.pfOpen=b7;j6.pfClose=q7;j6.pfTrend=(9480,4620) != (4350,7308)?"X":(172.37,3920) <= (6900,486.98)?133.39:(965.71,167.24) >= ("8838" | 4)?1.42e+3:(0x19d,0x36a);P_(j6,c6,X_,C9,P0);}else {Q$=w6(l5,Q$);Q$.pfTrend=3800 <= (987,5351)?"X":0x1a43;l_.push(Q$);}}else {P_(j6,c6,X_,C9,P0);}P0=0;}else if(j6.pfTrend == (4810 !== 5217?"X":"U")){if(c6 >= j6.pfClose + I7){j6.pfClose=Number((Math.floor(c6 / I7 + J_) * I7).toFixed(W3));if(j6.pfStepBack == "X" || j6.pfStepBack == "-"){j6.pfStepBack=null;}P_(j6,c6,X_,C9,P0);}else if(X_ <= j6.pfClose - K0){b7=j6.pfClose - I7;q7=Number((Math.ceil(X_ / I7 - J_) * I7).toFixed(W3));Q$=H9(l5,H4,c6,X_,C9,P0,j6.pfClose,b7,q7);if(b7 == q7){Q$.pfStepBack=(7358,289.25) == 9120?"c":"O";}if(j6.pfStepBack == "X" || j6.pfStepBack == ((44,612) > 8422?8100 < (486.23,948.72)?(174.33,0x2f1):"b":"-")){j6.pfOpen=b7;j6.pfClose=q7;j6.pfTrend=687 != (546.9,8047)?"O":(1305,2462) === 832?(!"1","0x13ce" << 32):(1279,+"4773") !== ("5094" | 36,1796)?(978.12,9.10e+3):![];P_(j6,c6,X_,C9,P0);if(b7 != q7 && j6.pfStepBack == ((259,2330) > "5770" << 64?(!"1",+"5.66"):256.73 === 3300?7830 != 3880?!![]:"1.45e+3" * 1:"-")){j6.pfStepBack=null;}}else {Q$=w6(l5,Q$);Q$.pfTrend="O";l_.push(Q$);}}else {P_(j6,c6,X_,C9,P0);}h5S.O2S(21);P0=h5S.m68("0",1);}}return l_;};};X=D7=>{var z2S=r9oI0;var y9,L5,D90,k_q,t59,c7v,d5Q,a7V,Y3Z,S7H,D2g,A__,x3P,h2Q,e7S,w4e,s3B,S0e,C4f,J7h,C2r,H4L,D4I,j$I,L5T,X_Q,d77,r58;y9=typeof _CIQ !== "undefined"?_CIQ:D7.CIQ;L5=typeof _timezoneJS !== "undefined"?_timezoneJS:D7.timezoneJS;if(!y9.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {D90="c";D90+="o";D90+="lor";k_q="enc";k_q+="los";k_q+="e";k_q+="d";t59="I";t59+="V";c7v="I";c7v+="I";d5Q="patte";d5Q+="r";d5Q+="n";a7V="p";a7V+="a";a7V+="tter";a7V+="n";Y3Z="patt";Y3Z+="e";Y3Z+="r";Y3Z+="n";S7H="fillCol";S7H+="or";D2g="cq-cv";D2g+="p-controller[";D2g+="cq-cvp-header=\"3";D2g+="\"]";A__="cq-cvp-controller[c";A__+="q-cvp-header=\"";A__+="2\"]";x3P="l";x3P+="ineWidth3";h2Q="li";h2Q+="neWidth2";e7S="colo";e7S+="r";w4e="li";w4e+="neWidth";s3B="par";s3B+="ameters";S0e="fill";S0e+="Co";S0e+="lo";S0e+="r";C4f="c";C4f+="olo";C4f+="r";J7h="l";J7h+="w";C2r="p";C2r+="attern";H4L="li";H4L+="neW";H4L+="idth";D4I="fi";D4I+="llColor";j$I="pa";j$I+="tt";j$I+="er";j$I+="n";L5T="lineWidt";L5T+="h";X_Q="pat";X_Q+="ter";X_Q+="n";d77="col";d77+="o";d77+="r";r58="lineWi";r58+="d";r58+="th";y9.Drawing.ray=function(){this.name="ray";};y9.inheritsFrom(y9.Drawing.ray,y9.Drawing.line);y9.Drawing.ray.prototype.adjust=function(){var R9;R9=this.stx.panels[this.panelName];if(!R9){return;}z2S.M17();this.setPoint(0,this.d0,this.v0,R9.chart);this.setPoint(1,this.d1,this.v1,R9.chart);if(y9.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,R9.chart);}};y9.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!!"";this.maxSegments=null;};y9.inheritsFrom(y9.Drawing.continuous,y9.Drawing.segment);y9.Drawing.continuous.prototype.click=function(n5,b9,c4){var s9,B6,x_,T8,x9;s9=this.stx;B6=s9.panels[this.panelName];if(!B6){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,b9,c4,B6.chart);this.penDown=!"";return !"1";}if(this.accidentalClick(b9,c4)){s9.undo();return !![];}z2S.N94(25);this.setPoint(z2S.z95(1,"1"),b9,c4,B6.chart);x_=y9.Drawing.segment;T8=new x_();x9=this.serialize(s9);T8.reconstruct(s9,x9);s9.addDrawing(T8);s9.changeOccurred("vector");s9.draw();T8++;if(this.maxSegments && this.segment > this.maxSegments){return !!({});}this.setPoint(0,b9,c4,B6.chart);return !!"";};y9.Drawing.ellipse=function(){z2S.Y0_();this.name="ellipse";};y9.inheritsFrom(y9.Drawing.ellipse,y9.Drawing.BaseTwoPoint);y9.Drawing.ellipse.prototype.render=function(C8){var T60,I6s,X7,n2,D6,J6,V4,L$,e4,N0,y4,r6,p6,e6,Y1,M$,r4,w$,K7;T60="n";T60+="on";T60+="e";I6s="a";I6s+="u";I6s+="t";I6s+="o";X7=this.stx;n2=X7.panels[this.panelName];D6=X7.getYAxisByField(n2,this.field);if(!n2 || this.field && !D6){return;}J6=X7.pixelFromTick(this.p0[0],n2.chart);V4=X7.pixelFromTick(this.p1[0],n2.chart);L$=this.pixelFromValue(n2,this.p0["0" | 0],this.p0[1],D6);e4=this.pixelFromValue(n2,this.p1[0],this.p1[1],D6);z2S.N94(26);N0=z2S.m68(J6,V4,J6);y4=V4;r6=L$;p6=e4;z2S.M17();z2S.N94(26);e6=z2S.z95(L$,e4,L$);z2S.N94(27);Y1=z2S.m68(e6,p6,6);M$=this.lineWidth;if(!M$){M$=1.1;}r4=this.color;if(r4 == I6s || y9.isTransparent(r4)){r4=this.getLineColor();}if(this.highlighted && M$ == 0.1){M$=1.1;}w$=this.fillColor;C8.beginPath();C8.moveTo(N0,r6);z2S.N94(2);C8.bezierCurveTo(N0,z2S.z95(p6,Y1),y4,z2S.z95(p6,Y1),y4,r6);z2S.O2S(3);C8.bezierCurveTo(y4,z2S.z95(e6,Y1),N0,z2S.z95(e6,Y1),N0,r6);if(w$ && !y9.isTransparent(w$) && w$ != "auto"){C8.fillStyle=w$;C8.globalAlpha=0.2;C8.fill();C8.globalAlpha=1;}if(r4 && this.pattern != T60){C8.strokeStyle=r4;C8.lineWidth=M$;if(C8.setLineDash){C8.setLineDash(y9.borderPatternToArray(M$,this.pattern));C8.lineDashOffset=+"0";;}C8.stroke();}C8.closePath();if(this.highlighted){K7=this.highlighted == "p1"?!"":![];this.littleCircle(C8,V4,e4,K7);}};y9.Drawing.ellipse.prototype.intersected=function(Q_,L6,D2){var I5b,K3,I5,s$,T0,z1,d9;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],D2)){I5b="p";I5b+="1";this.highlighted=I5b;return {action:"drag",point:"p1"};}K3=this.p0[0] - (this.p1[0] - this.p0[0]);I5=this.p1[0];s$=this.p1[1];z2S.N94(28);var Q_H=z2S.z95(8,1,7);z2S.O2S(1);var F_K=z2S.m68(5,2,6);z2S.N94(3);var h8j=z2S.z95(13,12);T0=this.p0[Q_H] - (this.p1[F_K] - this.p0[h8j]);var {x0:A$, x1:e3, y0:E$, y1:B9, cy0:I4, cy1:V0}=D2;if(A$ > Math.max(K3,I5) || e3 < Math.min(K3,I5)){return ![];}var {field:a9, panelName:s8, stx:z4}=this;if(a9){z1=z4.panels[s8];d9=z4.getYAxisByField(z1,a9);E$=this.valueFromPixel(I4,z1,d9);B9=this.valueFromPixel(V0,z1,d9);}if(B9 > Math.max(T0,s$) || E$ < Math.min(T0,s$)){return !!0;}this.highlighted=!![];return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:Q_,value:this.valueOnDrawingAxis(Q_,L6)};};y9.Drawing.ellipse.prototype.configs=["color","fillColor",r58,"pattern"];y9.Drawing.ellipse.prototype.reconstruct=function(Z2,S7){this.stx=Z2;this.color=S7.col;this.fillColor=S7.fc;this.panelName=S7.pnl;this.pattern=S7.ptrn;this.lineWidth=S7.lw;this.d0=S7.d0;this.d1=S7.d1;this.tzo0=S7.tzo0;this.tzo1=S7.tzo1;this.v0=S7.v0;this.v1=S7.v1;this.field=S7.fld;z2S.M17();this.adjust();};y9.Drawing.ellipse.prototype.serialize=function(){z2S.Y0_();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};y9.Drawing.channel=function(){this.name="channel";this.dragToDraw=!"1";this.p2=null;};y9.inheritsFrom(y9.Drawing.channel,y9.Drawing.segment);y9.Drawing.channel.prototype.configs=[d77,"fillColor","lineWidth",X_Q];y9.Drawing.channel.prototype.move=function(i9,K$,N2){var a8;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[K$,N2];}else {z2S.N94(28);var f4N=z2S.z95(11,1,10);z2S.O2S(3);var i2F=z2S.z95(6,5);a8=N2 - (this.p1[f4N] - this.p0[i2F]) / (this.p1[0] - this.p0[0]) * (K$ - this.p1[0]);this.p2=[this.p1[0],a8];}z2S.Y0_();this.render(i9);};y9.Drawing.channel.prototype.click=function(N4,m9,g9){var C5,a2;C5=this.stx;a2=C5.panels[this.panelName];if(!a2){return;}z2S.Y0_();this.copyConfig();if(!this.penDown){this.setPoint(0,m9,g9,a2.chart);this.penDown=!![];return !"1";}if(this.accidentalClick(m9,g9)){C5.undo();return !![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],a2.chart);this.penDown=!"1";return !!1;}z2S.N94(29);this.setPoint(z2S.m68("1",0),m9,g9,a2.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return ![];}z2S.N94(21);this.p2=[this.p1[z2S.m68("0",1)],this.p1[1]];return !!0;};y9.Drawing.channel.prototype.boxIntersection=function(f7,p3,a5){var Q9,L9,W1,t_;var {p0:j8, p1:h9, p2:F$}=this;if(!j8 || !h9 || !F$){return !({});}var {x0:n9, x1:Y2, y0:n3, y1:q9, cy0:o5, cy1:z6}=a5;if(n9 > Math.max(j8[0],h9[0]) || Y2 < Math.min(j8[0],h9[0])){return !!"";}var {field:U9, panelName:w3, stx:U8}=this;if(U9){Q9=U8.panels[w3];L9=U8.getYAxisByField(Q9,U9);n3=this.valueFromPixel(o5,Q9,L9);q9=this.valueFromPixel(z6,Q9,L9);}z2S.N94(30);var K0$=z2S.z95(16,6,6,143,4);z2S.N94(3);var P7H=z2S.z95(7,6);z2S.N94(2);z2S.Y0_();var W8M=z2S.z95(0,1);z2S.N94(31);var R4a=z2S.m68(8,8,0,25,4);z2S.O2S(3);var d3E=z2S.z95(19,18);W1=(h9[0] - j8[0]) * ((F$[K0$] < j8[P7H]?q9:n3) - j8[W8M]) - (h9[R4a] - j8[d3E]) * (f7 - j8[+"0"]);z2S.O2S(32);var K8m=z2S.z95(18,6,0,13,1);z2S.O2S(33);var C7W=z2S.m68(0,7,7);z2S.N94(34);var G9p=z2S.z95(8,13,0,6);z2S.O2S(35);var u8w=z2S.m68(8,17,17,6,14);z2S.N94(36);var I4k=z2S.m68(4,16,16,4);z2S.O2S(37);var a8Y=z2S.m68(3,5,6,3);t_=(F$[+"0"] - j8[0]) * ((F$[+"1"] > j8[K8m]?q9:n3) - (j8[C7W] + F$[G9p] - h9[u8w])) - (h9[I4k] - j8[a8Y]) * (f7 - j8[0]);z2S.N94(38);return z2S.m68(t_,W1,0);};y9.Drawing.channel.prototype.intersected=function(R0,M4,r0){var p8;if(!this.p0 || !this.p1 || !this.p2){return null;}p8={0:this.p0,1:this.p1,2:this.p2};for(var l2 in p8){if(this.pointIntersection(p8[l2][0],p8[l2]["1" >> 0],r0)){z2S.O2S(2);this.highlighted=z2S.m68((251.74,1410) == "274.71" * 1?(468.63,3351) == 701.72?798.33:("e",!1):"p",l2);return {action:"drag",point:((5540,87.21) < 3590?"p":(9890,681) <= (5008,3581)?(5382,2310) > (+"9090",8936)?(+"541.93",8.08e+3):(3.45e+3,!!({})):(606.59,"x")) + l2};}}if(this.boxIntersection(R0,M4,r0)){this.highlighted=!!({});return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),p2:y9.clone(this.p2),tick:R0,value:this.valueOnDrawingAxis(R0,M4)};}z2S.M17();return null;};y9.Drawing.channel.prototype.render=function(h1){var P3,Q7,L4,t3,f$,u4,t0,V7,J7,v9,U4,L7,t$q,T$,S2,V5;P3=this.stx;Q7=P3.panels[this.panelName];L4=P3.getYAxisByField(Q7,this.field);if(!Q7 || this.field && !L4){return;}t3=P3.pixelFromTick(this.p0[0],Q7.chart);f$=P3.pixelFromTick(this.p1[0],Q7.chart);u4=this.pixelFromValue(Q7,this.p0[+"0"],this.p0[1],L4);t0=this.pixelFromValue(Q7,this.p1[0],this.p1[1],L4);V7=null;if(this.p2){V7=this.pixelFromValue(Q7,this.p2[0],this.p2[1],L4);}J7=this.lineWidth;v9=this.getLineColor();U4=this.fillColor;if(this.p2 && U4 && !y9.isTransparent(U4) && U4 != "auto"){h1.beginPath();h1.moveTo(t3,u4);h1.lineTo(f$,t0);h1.lineTo(f$,V7);z2S.N94(39);h1.lineTo(t3,z2S.m68(V7,u4,t0));h1.closePath();h1.globalAlpha=0.2;h1.fillStyle=U4;h1.fill();h1.globalAlpha=1;}L7={pattern:this.pattern,lineWidth:J7};if((this.penDown || this.highlighted) && this.pattern == "none"){L7.pattern="dotted";}P3.plotLine(t3,f$,u4,t0,v9,"segment",h1,Q7,L7);z2S.M17();if(this.p2){z2S.O2S(39);P3.plotLine(t3,f$,z2S.z95(V7,u4,t0),V7,v9,"segment",h1,Q7,L7);}if(this.highlighted){t$q="p";t$q+="1";T$=this.highlighted == "p0"?!!"1":!!0;S2=this.highlighted == t$q?!0:!1;V5=this.highlighted == "p2"?!![]:!({});this.littleCircle(h1,t3,u4,T$);this.littleCircle(h1,f$,t0,S2);this.littleCircle(h1,f$,V7,V5);}};y9.Drawing.channel.prototype.reposition=function(O2,H7,h5,d$){var b5I,h4N,j4,C4,N6;b5I="d";z2S.M17();b5I+="r";b5I+="ag";h4N="mov";h4N+="e";if(!H7){return;}j4=this.stx.panels[this.panelName];C4=H7.tick - h5;N6=H7.value - d$;if(H7.action == h4N){this.setPoint(0,H7.p0[0] - C4,H7.p0[1] - N6,j4.chart);this.setPoint(1,H7.p1[0] - C4,H7.p1[1] - N6,j4.chart);z2S.N94(12);this.setPoint(z2S.m68(64,"2"),H7.p2[0] - C4,H7.p2[1] - N6,j4.chart);this.render(O2);}else if(H7.action == b5I){this[H7.point]=[h5,d$];this.setPoint(0,this.p0[0],this.p0[1],j4.chart);this.setPoint(+"1",this.p1["0" - 0],this.p1[1],j4.chart);this.setPoint(2,this.p2["0" >> 64],this.p2[1],j4.chart);this.render(O2);}};y9.Drawing.channel.prototype.adjust=function(){var c_;c_=this.stx.panels[this.panelName];if(!c_){return;}z2S.M17();this.setPoint(0,this.d0,this.v0,c_.chart);this.setPoint(1,this.d1,this.v1,c_.chart);this.setPoint(+"2",this.d1,this.v2,c_.chart);;};y9.Drawing.channel.prototype.reconstruct=function(U6,o$){var n38,R78,c8_;this.stx=U6;this.color=o$.col;this.fillColor=o$.fc;this.panelName=o$.pnl;this.pattern=o$.ptrn;this.lineWidth=o$.lw;this.d0=o$.d0;this.d1=o$.d1;z2S.O2S(40);n38=-z2S.m68(0,"1031421087");R78=-239769246;c8_=2;for(var j6I=1;z2S.a9Z(j6I.toString(),j6I.toString().length,83159) !== n38;j6I++){this.tzo0=o$.tzo0;this.tzo1=o$.tzo1;this.v0=o$.v0;c8_+=+"2";}if(z2S.a9Z(c8_.toString(),c8_.toString().length,"67021" >> 32) !== R78){this.tzo0=o$.tzo0;this.tzo1=o$.tzo1;this.v0=o$.v0;}z2S.Y0_();this.v1=o$.v1;this.v2=o$.v2;this.field=o$.fld;this.adjust();};y9.Drawing.channel.prototype.serialize=function(){z2S.M17();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};y9.Drawing.pitchfork=function(){var c1c;z2S.Y0_();c1c="p";c1c+="itch";c1c+="f";c1c+="ork";this.name=c1c;this.dragToDraw=![];this.p2=null;};y9.inheritsFrom(y9.Drawing.pitchfork,y9.Drawing.channel);y9.Drawing.pitchfork.prototype.configs=["color",L5T,"pattern"];y9.Drawing.pitchfork.prototype.move=function(k9,n8,j2){var m6J,N9Q,x7p;z2S.Y0_();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[n8,j2];}else {this.p2=[n8,j2];}m6J=-+"64603656";N9Q=-1893900055;x7p=2;for(var B4G=+"1";z2S.j$g(B4G.toString(),B4G.toString().length,+"64775") !== m6J;B4G++){this.render(k9);x7p+=2;}if(z2S.j$g(x7p.toString(),x7p.toString().length,70521) !== N9Q){this.render(k9);}};y9.Drawing.pitchfork.prototype.intersected=function(P7,F6,F2){var C2,M3,n6T,r5y,X7A;if(!this.p0 || !this.p1 || !this.p2){return null;}z2S.Y0_();C2={0:this.p0,1:this.p1,2:this.p2};for(var a$ in C2){if(this.pointIntersection(C2[a$][0],C2[a$][+"1"],F2)){z2S.O2S(2);this.highlighted=z2S.z95("p",a$);return {action:"drag",point:"p" + a$};}}M3=this.rays;for(var G7=0;G7 < M3.length;G7++){n6T="seg";n6T+="ment";r5y="r";r5y+="a";r5y+="y";if(this.lineIntersection(P7,F6,F2,G7?r5y:n6T,M3[G7][0],M3[G7][1],!!({}))){X7A="m";X7A+="ov";X7A+="e";this.highlighted=!!({});return {action:X7A,p0:y9.clone(this.p0),p1:y9.clone(this.p1),p2:y9.clone(this.p2),tick:P7,value:this.valueOnDrawingAxis(P7,F6)};}}return null;};y9.Drawing.pitchfork.prototype.render=function(i8){var d6,D4,F1,s6,O4,A_,N$,p$,e1,M1,u9,t1,o9,B$,V9,p_,P0U,W7,c5,f_g,F3,k7,G1,g29,S8h,l28;d6=this.stx;D4=d6.panels[this.panelName];F1=d6.getYAxisByField(D4,this.field);if(!D4 || this.field && !F1){return;}s6=this.p2;if(!s6){s6=this.p1;}O4=d6.pixelFromTick(this.p0[0],D4.chart);A_=d6.pixelFromTick(this.p1[0],D4.chart);z2S.Y0_();N$=d6.pixelFromTick(s6[0],D4.chart);p$=this.pixelFromValue(D4,this.p0[0],this.p0["1" * 1],F1);e1=this.pixelFromValue(D4,this.p1[0],this.p1["1" ^ 0],F1);M1=this.pixelFromValue(D4,s6[0],s6[+"1"],F1);u9=this.lineWidth;t1=this.getLineColor();o9={pattern:this.pattern,lineWidth:u9};B$=50;z2S.O2S(41);V9=z2S.m68(2,e1,M1,p$);z2S.O2S(42);p_=z2S.z95(A_,N$,"2",O4);if(p_ < 0){B$*=-1;}z2S.O2S(10);V9*=z2S.z95(B$,p_);z2S.N94(6);this.rays=[[[A_,e1],[N$,M1]],[[O4,p$],[z2S.m68(N$,"2",A_),z2S.m68(M1,2,e1,z2S.N94(9))]]];if(!(A_ == N$ && e1 == M1)){z2S.O2S(3);this.rays.push([[A_,e1],[z2S.z95(A_,B$),z2S.z95(e1,V9)]],[[N$,M1],[z2S.z95(N$,B$),z2S.z95(M1,V9)]]);}for(var C6=+"0";C6 < this.rays.length;C6++){P0U="r";P0U+="a";P0U+="y";W7=this.rays[C6];c5=C6?P0U:"segment";d6.plotLine(W7[0]["0" * 1],W7[1][0],W7["0" * 1][1],W7[1][1],t1,c5,i8,D4,o9);}if(this.highlighted){f_g="p";f_g+="2";F3=this.highlighted == "p0"?!!1:!!0;k7=this.highlighted == "p1"?!!"1":!({});G1=this.highlighted == f_g?!!"1":![];g29=2043794314;S8h=763352605;l28=2;for(var Y7j=1;z2S.j$g(Y7j.toString(),Y7j.toString().length,54201) !== g29;Y7j++){this.littleCircle(i8,O4,p$,F3);this.littleCircle(i8,A_,e1,k7);l28+=2;}if(z2S.a9Z(l28.toString(),l28.toString().length,58286) !== S8h){this.littleCircle(i8,O4,p$,F3);this.littleCircle(i8,A_,e1,k7);}this.littleCircle(i8,N$,M1,G1);}};y9.Drawing.pitchfork.prototype.adjust=function(){var k6;k6=this.stx.panels[this.panelName];if(!k6){return;}z2S.Y0_();this.setPoint(0,this.d0,this.v0,k6.chart);this.setPoint(1,this.d1,this.v1,k6.chart);this.setPoint(2,this.d2,this.v2,k6.chart);};y9.Drawing.pitchfork.prototype.reconstruct=function(h4,Z4){z2S.Y0_();this.stx=h4;this.color=Z4.col;this.panelName=Z4.pnl;this.pattern=Z4.ptrn;this.lineWidth=Z4.lw;this.d0=Z4.d0;this.d1=Z4.d1;this.d2=Z4.d2;this.tzo0=Z4.tzo0;this.tzo1=Z4.tzo1;this.tzo2=Z4.tzo2;this.v0=Z4.v0;this.v1=Z4.v1;this.v2=Z4.v2;this.field=Z4.fld;this.adjust();};y9.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};y9.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!({});this.maxSegments=4;this.shape=null;this.points=[];};y9.inheritsFrom(y9.Drawing.gartley,y9.Drawing.continuous);y9.Drawing.gartley.prototype.check=function(k5,d5){if(!d5){return !![];}if(k5[0] >= d5[0] || k5[1] == d5[1]){return !"1";}if(this.segment == 1){if(k5["1" * 1] < d5[1]){this.shape="M";}else {this.shape=(811.58,1550) != +"7940"?9880 == (9990,1630)?296.66:"W":("Z","k");}}else if(this.segment == 2){if(this.shape == (6083 != (6550,"6330" << 32)?"M":614.25) && k5["1" - 0] < d5[1]){return ![];}else if(this.shape == (675 != 43.93?"W":2.99e+3) && k5["1" << 32] > d5["1" - 0]){return !({});}else if((d5[1] - k5[+"1"]) / (this.points[0][1] - k5[1]) < "0.618" - 0){return !({});}else if((d5[1] - k5[1]) / (this.points[0][1] - k5[1]) >= 0.786){return ![];}}else if(this.segment == 3){if(this.shape == (540.29 > (3497,5186)?!0:"M") && k5[1] > d5[1]){return !!0;}else if(this.shape == "W" && k5[+"1"] < d5[1]){return !1;}else if((d5[1] - k5[1]) / (this.points[1][1] - k5[1]) < 0.618){return !"1";}else if((d5[1] - k5[1]) / (this.points["1" * 1][1] - k5[1]) >= 0.786){return !!0;}}else if(this.segment == 4){if(this.shape == ((970.34,2855) === 5771?!0:"M") && (k5[1] < d5[1] || d5[1] < this.points[0][+"1"])){return ![];}else if(this.shape == (("644.16" * 1,9880) >= (1885,4211)?"W":("j",0x1e)) && (k5[1] > d5["1" ^ 0] || d5[1] > this.points[0][1])){return !!0;}else if((this.points[1][+"1"] - d5[1]) / (this.points[1]["1" ^ 0] - this.points[2][+"1"]) < 1.27){return !!0;}else if((this.points[1][1] - d5[1]) / (this.points[1]["1" ^ 0] - this.points["2" >> 0]["1" << 0]) >= 1.618){return ![];}}return !!({});};y9.Drawing.gartley.prototype.click=function(b8,e$,J3){var u8,W3e,F6k,W1X;u8=this.stx.panels[this.panelName];if(!u8){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,e$,J3,u8.chart);this.pts=[];this.penDown=!![];this.segment=1;return !!0;}if(this.accidentalClick(e$,J3)){this.penDown=!!({});return !({});}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,e$,J3,u8.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][+"0"],this.points[0][1],u8.chart);this.penDown=![];W3e=1852112317;F6k=-1249658594;z2S.N94(21);W1X=z2S.z95("2",1);for(var d_r=1;z2S.a9Z(d_r.toString(),d_r.toString().length,75080) !== W3e;d_r++){return ![];}if(z2S.j$g(W1X.toString(),W1X.toString().length,+"53787") !== F6k){return !0;}return !0;}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,e$,J3,u8.chart);;}return !!0;};y9.Drawing.gartley.prototype.render=function(j0){var Q$c,I2,H_,E8,E1,T2,K9,v5,T9k,W8f,J07,d8,w_,U3,f4,I_,o4,j9,q5,O5,J1;Q$c="non";Q$c+="e";I2=this.stx;H_=I2.panels[this.panelName];E8=I2.getYAxisByField(H_,this.field);if(!H_ || this.field && !E8){return;}E1=I2.pixelFromTick(this.p0[0],H_.chart);T2=I2.pixelFromTick(this.p1[0],H_.chart);K9=this.pixelFromValue(H_,this.p0[0],this.p0["1" ^ 0],E8);v5=this.pixelFromValue(H_,this.p1[0],this.p1[1],E8);if(this.segment == +"2"){T9k=425469074;W8f=-+"1374585139";J07=2;for(var o3N=1;z2S.a9Z(o3N.toString(),o3N.toString().length,+"75807") !== T9k;o3N++){this.drawDropZone(j0,+"0.618" * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);J07+=+"2";}if(z2S.a9Z(J07.toString(),J07.toString().length,"96126" ^ 0) !== W8f){this.drawDropZone(j0,(26644 + this.points[3]["0" | 0]) * (25562 + this.p0[6]),(+"70083" - this.points["7" | 7][8]) % (60857 / this.p0[2]),this.p0[8]);}}else if(this.segment == 3){this.drawDropZone(j0,0.618 * this.points["1" << 64][1] + +"0.382" * this.p0[1],"0.786" * 1 * this.points[1][+"1"] + 0.214 * this.p0[+"1"],this.p0[0]);}else if(this.segment == 4){z2S.N94(43);var G2n=z2S.m68(20,20,378,18);z2S.N94(44);var W8J=z2S.m68(5,4,4,5,1);z2S.O2S(45);var r_U=z2S.m68(1,20,22);z2S.O2S(33);var r_v=z2S.m68(10,1,11);d8=1.618 * this.points[G2n][W8J] - 0.618 * this.points[r_U][r_v];if(this.shape == "M"){d8=Math.max(d8,this.points[0][1]);}else {d8=Math.min(d8,this.points[0][1]);}this.drawDropZone(j0,d8,1.27 * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}w_=this.lineWidth;U3=this.getLineColor();f4={pattern:this.pattern,lineWidth:w_};if((this.penDown || this.highlighted) && this.pattern == Q$c){f4.pattern="dotted";}z2S.M17();if(this.segment <= this.maxSegments){I2.plotLine(E1,T2,K9,v5,U3,this.name,j0,H_,f4);}I_=this.fillColor;o4=[];if(this.points.length){j0.beginPath();for(var e9=1;e9 < this.points.length && e9 <= 4;e9++){j9=I2.pixelFromTick(this.points[e9 - 1][0],H_.chart);q5=I2.pixelFromTick(this.points[e9][0],H_.chart);O5=this.pixelFromValue(H_,this.points[e9 - +"1"][0],this.points[e9 - "1" * 1][1],E8);J1=this.pixelFromValue(H_,this.points[e9][+"0"],this.points[e9][1],E8);if(e9 == 1){o4.push(j9,O5);}o4.push(q5,J1);I2.plotLine(j9,q5,O5,J1,U3,this.name,j0,H_,f4);}if(this.points.length == +"2" || this.points.length == 4){o4.push(T2,v5);}if(this.points["2" | 0]){o4.push(I2.pixelFromTick(this.points[2][0],H_.chart),this.pixelFromValue(H_,this.points[2][0],this.points[2][1],E8));}if(I_ && I_ != "auto" && !y9.isTransparent(I_)){for(var v6=0;v6 < o4.length;v6+=2){if(v6 === 0){j0.moveTo(o4[+"0"],o4[1]);}j0.lineTo(o4[v6],o4[v6 + 1]);}j0.fillStyle=I_;j0.globalAlpha=0.2;j0.closePath();j0.fill();j0.globalAlpha=1;}};};y9.Drawing.gartley.prototype.lineIntersection=function(N7,z8,d7,M2){var M6,L8;z2S.Y0_();M6=this.points;L8=this.stx.panels[this.panelName];if(M6.length != this.maxSegments + 1 || !L8){return !!0;}for(var b_=0;b_ < M6.length - 1;b_++){if(y9.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,N7,z8,d7,"segment",M6[b_],M6[b_ + 1])){return !![];}}return ![];};y9.Drawing.gartley.prototype.boxIntersection=function(p4,S$,A7){var r8,X$;if(!this.p0 || !this.p1){return !!"";}if(A7.x0 > Math.max(this.p0[0],this.p1[+"0"]) || A7.x1 < Math.min(this.p0[0],this.p1[0])){return !({});}r8=Math.min(this.p0[1],this.p1[1]);X$=Math.max(this.p0[+"1"],this.p1[1]);for(var B_=0;B_ < this.points.length;B_++){r8=Math.min(r8,this.points[B_][1]);X$=Math.max(X$,this.points[B_][1]);}if(A7.y1 > X$ || A7.y0 < r8){return !({});}z2S.M17();return !0;};y9.Drawing.gartley.prototype.reposition=function(h8,l1,f5,e8){var n$m,Y$,D3,K5;n$m="mov";n$m+="e";if(!l1){return;}Y$=this.stx.panels[this.panelName];D3=l1.tick - f5;l1.tick=f5;K5=l1.value - e8;l1.value=e8;if(l1.action == n$m){this.pts=[];for(var e5=0;e5 < this.points.length;e5++){this.points[e5][0]-=D3;this.points[e5][1]-=K5;this.setPoint(+"1",this.points[e5][0],this.points[e5][1],Y$.chart);if(e5 && e5 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[e5]=this.p1;}this.setPoint(0,this.points[+"0"][0],this.points[0]["1" - 0],Y$.chart);this.render(h8);;}};y9.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth",j$I];y9.Drawing.gartley.prototype.adjust=function(){var U1;U1=this.stx.panels[this.panelName];if(!U1){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,U1.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,U1.chart);this.points.push(this.p1);};y9.Drawing.gartley.prototype.reconstructPoints=function(){var V8,Z_;z2S.M17();V8=this.stx.panels[this.panelName];if(!V8){return;}this.points=[];for(var P9=0;P9 < this.pts.length;P9+=+"3"){Z_=y9.strToDateTime(this.pts[P9]);Z_.setMinutes(Z_.getMinutes() + Number(this.pts[P9 + 1]) - Z_.getTimezoneOffset());this.points.push([this.stx.tickFromDate(y9.yyyymmddhhmmssmmm(Z_),V8.chart),this.pts[P9 + 2]]);}};y9.Drawing.gartley.prototype.reconstruct=function(e0,z9){this.stx=e0;this.color=z9.col;this.fillColor=z9.fc;this.panelName=z9.pnl;this.pattern=z9.ptrn;this.lineWidth=z9.lw;this.d0=z9.d0;this.d1=z9.d1;this.tzo0=z9.tzo0;this.tzo1=z9.tzo1;this.v0=z9.v0;this.v1=z9.v1;this.field=z9.fld;this.pts=z9.pts.split(637.74 < 3410?(4850,976.24) <= (+"696.63",5030)?(8966,"1621" | 16) != (823.64,981.52)?",":526.79:("k",0x19f7):(3.50e+3,!!""));this.adjust();};y9.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(",")};};y9.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=!!1;};y9.inheritsFrom(y9.Drawing.freeform,y9.Drawing.segment);y9.Drawing.freeform.prototype.measure=function(){};y9.Drawing.freeform.prototype.intersected=function(B0,I0,Y5){var f31,M7,R3;f31="m";f31+="ov";z2S.Y0_();f31+="e";var {x0:H2, x1:Z9, y0:X5, y1:r_, cy0:A2, cy1:O7}=Y5;if(H2 > this.hiX || Z9 < this.lowX){return !"1";}var {field:b5, panelName:D1, stx:Q8}=this;if(b5){M7=Q8.panels[D1];R3=Q8.getYAxisByField(M7,b5);X5=this.valueFromPixel(A2,M7,R3);r_=this.valueFromPixel(O7,M7,R3);}if(r_ > this.hiY || X5 < this.lowY){return !1;}this.highlighted=!!1;return {action:f31,p0:y9.clone(this.p0),tick:B0,value:this.valueOnDrawingAxis(B0,I0)};};y9.Drawing.freeform.prototype.reposition=function(X2,m6,N1,h0){var w0b,u6,G9,M9;w0b="m";w0b+="ove";if(!m6){return;}u6=this.stx.panels[this.panelName];z2S.Y0_();G9=m6.tick - N1;M9=m6.value - h0;if(m6.action == w0b){this.setPoint(0,m6.p0[0] - G9,m6.p0[1] - M9,u6.chart);this.adjust();this.render(X2);}};y9.Drawing.freeform.prototype.click=function(q2,V1,w7){var m4,y3,S8,S1;m4=this.stx;y3=m4.panels[this.panelName];if(!y3){return;}S8=m4.getYAxisByField(y3,this.field) || y3.yAxis;if(this.penDown === !"1"){this.copyConfig();this.startX=Math.round(m4.resolveX(m4.pixelFromTick(V1,y3.chart)));this.startY=Math.round(m4.resolveY(this.pixelFromValue(y3,V1,w7,S8)));S1=m4.dateFromTick(V1,y3.chart,!"");this.d0=y9.yyyymmddhhmmssmmm(S1);this.tzo0=S1.getTimezoneOffset();this.v0=w7;this.p0=[y9.ChartEngine.crosshairX - this.startX,y9.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=m4.layout.candleWidth;this.multiplier=S8.multiplier;this.interval=m4.layout.interval;this.periodicity=m4.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;m4.container.ownerDocument.body.style.cursor="pointer";this.penDown=!!"1";return !!0;}this.penDown=![];this.splineTension=this.tempSplineTension;m4.container.ownerDocument.body.style.cursor="auto";if(this.nodes.length === 2){m4.undo();}return !0;};y9.Drawing.freeform.prototype.move=function(d3,i1,V3){var a_,B4,k4,i0,x$M,t8F,x_0;if(!this.penDown){return;}a_=this.stx;B4=a_.panels[this.panelName];z2S.Y0_();k4=a_.getYAxisByField(B4,this.field) || B4.yAxis;i0=a_.dateFromTick(i1,B4.chart,!"");this.d1=y9.yyyymmddhhmmssmmm(i0);this.tzo1=i0.getTimezoneOffset();this.v1=V3;this.p1=[y9.ChartEngine.crosshairX - this.startX,k4.flipped?this.startY - y9.ChartEngine.crosshairY:y9.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - "1" * 1][0]){x$M=-+"731738459";t8F=1385838688;x_0=2;for(var c74=+"1";z2S.a9Z(c74.toString(),c74.toString().length,85409) !== x$M;c74++){this.pNodes.length--;x_0+=2;}if(z2S.j$g(x_0.toString(),x_0.toString().length,86281) !== t8F){this.pNodes.length++;}z2S.N94(21);this.nodes.length-=z2S.m68("2",1);}else if(this.p1[1] == this.pNodes[this.pNodes.length - ("2" ^ 0)][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=+"2";}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(d3);return !({});};y9.Drawing.freeform.prototype.intervalRatio=function(V6,p5,o3,Z8,O6,Q2){var l8,V_B,i3v,E9c,z8X,u0w,w91,Z3d,M1B,v6d;function I9(u5,K4){z2S.N94(21);z2S.Y0_();return z2S.m68("5",1);}l8=+"0";if(V6 == p5){l8=1;}else if(!isNaN(V6) && !isNaN(p5)){z2S.O2S(10);l8=z2S.z95(V6,p5);}else if(isNaN(V6)){V_B="da";V_B+="y";i3v="we";i3v+="ek";E9c="mon";E9c+="t";E9c+="h";if(V6 == E9c){if(p5 == "week"){l8=O0(O6,Q2);}else if(p5 == "day"){l8=K8(O6,Q2);}else if(!isNaN(p5)){l8=K8(O6,Q2) * e7(O6,Q2) / p5;}}else if(V6 == i3v){z8X="mo";z8X+="nt";z8X+="h";if(p5 == z8X){l8=+"1" / O0(O6,Q2);}z2S.N94(40);u0w=z2S.z95(0,"398600888");z2S.N94(21);w91=-z2S.z95("601512975",1);z2S.O2S(29);Z3d=z2S.z95("2",32);for(var w5F=1;z2S.a9Z(w5F.toString(),w5F.toString().length,+"24332") !== u0w;w5F++){M1B="d";M1B+="a";M1B+="y";if(p5 == M1B){l8=I9(O6,Q2);}else if(!isNaN(p5)){l8=I9(O6,Q2) * e7(O6,Q2) / p5;}Z3d+=2;}if(z2S.j$g(Z3d.toString(),Z3d.toString().length,87554) !== w91){if(p5 != ""){l8=I9(O6,Q2);}else if(+isNaN(p5)){l8=I9(O6,Q2) + e7(O6,Q2) - p5;}}}else if(V6 == V_B){if(p5 == "week"){z2S.N94(11);var W6E=z2S.m68(1,0,19,18);l8=W6E / I9(O6,Q2);}else if(p5 == "month"){z2S.O2S(46);var N9D=z2S.m68(8,416,376);l8=("1" << N9D) / K8(O6,Q2);}else if(!isNaN(p5)){l8=e7(O6,Q2) / p5;}}}else if(!isNaN(V6)){v6d="d";v6d+="a";v6d+="y";if(p5 == "month"){l8=V6 / (K8(O6,Q2) * e7(O6,Q2));}else if(p5 == "week"){l8=V6 / (I9(O6,Q2) * e7(O6,Q2));}else if(p5 == v6d){l8=V6 / e7(O6,Q2);}}z2S.N94(10);l8*=z2S.z95(o3,Z8);function K8(v7,Z6){z2S.Y0_();return 30;}function O0(k_,b1){return 5;}function e7(g3,V_){if(y9.Market.Symbology.isForexSymbol(V_)){return 1440;}return 390;}return l8;};y9.Drawing.freeform.prototype.render=function(l4){var c$,m8,D$,l3,g4,H5,L2,p7,y7,e2,r5,q4,A1,j$;c$=this.stx;m8=c$.panels[this.panelName];D$=c$.getYAxisByField(m8,this.field);if(!m8 || this.field && !D$){return;}D$=D$ || m8.yAxis;l3=this.intervalRatio(this.interval,c$.layout.interval,this.periodicity,c$.layout.periodicity,this.d0,m8.chart.symbol);if(l3 === 0){return;}g4=c$.layout.candleWidth / this.candleWidth;H5=D$.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,m8.chart);L2=c$.pixelFromTick(this.p0[0],m8.chart);p7=this.pixelFromValue(m8,this.p0[0],this.p0[1],D$);z2S.M17();y7=[];e2=this.lineWidth;r5=this.getLineColor();q4={pattern:this.pattern,lineWidth:e2};for(var H8=0;H8 < this.pNodes.length;H8++){A1=l3 * g4 * this.pNodes[H8][0] + L2;z2S.O2S(7);var U9y=z2S.m68(0,14,13);j$=H5 * this.pNodes[H8][U9y];if(D$.flipped){z2S.N94(3);j$=z2S.z95(p7,j$);}else {j$+=p7;}y7.push(A1,j$);}if(!y7.length){return;}if(this.splineTension < 0){c$.connectTheDots(y7,r5,this.name,l4,m8,q4);}else {c$.plotSpline(y7,this.splineTension,r5,this.name,l4,!!"1",q4);}};y9.Drawing.freeform.prototype.adjust=function(){var V$,Z0,p0t,L_,F4,z0,g_,S4,k0,k1;V$=this.stx;Z0=V$.panels[this.panelName];if(!Z0){return;}p0t=[this.nodes[0],this.nodes[1]];this.pNodes=[p0t];this.lowX=this.nodes[0];z2S.O2S(29);this.hiX=this.nodes[z2S.m68("0",32)];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var B2=+"2";B2 < this.nodes.length;B2+=2){z2S.O2S(2);L_=[this.nodes[B2],this.nodes[z2S.m68(B2,1)]];this.pNodes.push(L_);this.lowX=Math.min(this.lowX,L_[0]);this.hiX=Math.max(this.hiX,L_[0]);this.lowY=Math.max(this.lowY,L_[1]);this.hiY=Math.min(this.hiY,L_["1" * 1]);}F4=this.intervalRatio(this.interval,V$.layout.interval,this.periodicity,V$.layout.periodicity,this.d0,Z0.chart.symbol);if(F4 === 0){return;}z0=V$.getYAxisByField(Z0,this.field) || Z0.yAxis;g_=V$.layout.candleWidth / this.candleWidth;S4=z0.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Z0.chart);k0=V$.pixelFromTick(this.p0[0],Z0.chart);k1=this.pixelFromValue(Z0,this.p0[+"0"],this.p0[1],z0);this.lowX=V$.tickFromPixel(Math.floor(F4 * g_ * this.lowX) + k0,Z0.chart);this.hiX=V$.tickFromPixel(Math.ceil(F4 * g_ * this.hiX) + k0,Z0.chart);if(z0.flipped){this.lowY=this.valueFromPixel(k1 - Math.floor(S4 * this.lowY),Z0,z0);this.hiY=this.valueFromPixel(k1 - Math.ceil(S4 * this.hiY),Z0,z0);}else {this.lowY=this.valueFromPixel(Math.floor(S4 * this.lowY) + k1,Z0,z0);this.hiY=this.valueFromPixel(Math.ceil(S4 * this.hiY) + k1,Z0,z0);}};y9.Drawing.freeform.prototype.serialize=function(){z2S.M17();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};y9.Drawing.freeform.prototype.reconstruct=function(W2V,s5Y){this.stx=W2V;this.color=s5Y.col;this.panelName=s5Y.pnl;z2S.Y0_();this.pattern=s5Y.ptrn;this.lineWidth=s5Y.lw;this.candleWidth=s5Y.cw;this.multiplier=s5Y.mlt;this.d0=s5Y.d0;this.tzo0=s5Y.tzo0;this.v0=s5Y.v0;this.interval=s5Y.inter;this.periodicity=s5Y.pd;this.nodes=s5Y.nodes;this.field=s5Y.fld;this.adjust();};y9.Drawing.callout=function(){var r1J;r1J="c";r1J+="a";r1J+="llo";r1J+="ut";this.name=r1J;this.arr=[];this.w=0;this.h=0;this.padding=5;this.text="";this.ta=null;this.border=!({});this.fontSize=12;this.font={};this.stemEntry="";this.defaultWidth=35;;};y9.inheritsFrom(y9.Drawing.callout,y9.Drawing.annotation);y9.Drawing.callout.prototype.configs=["color",D4I,H4L,C2r,"font"];y9.Drawing.callout.prototype.copyConfig=function(B31){y9.Drawing.copyConfig(this,B31);this.borderColor=this.color;};y9.Drawing.callout.prototype.move=function(m2Y,X15,U8d){if(!this.penDown){return;}this.copyConfig();this.p0=[X15,U8d];this.render(m2Y);};y9.Drawing.callout.prototype.onChange=function(B0Z){var i9Z,Z9q,v$y;i9Z=this.stx.panels[this.panelName];if(!i9Z){return;}Z9q=B0Z.target;this.w=Z9q.clientWidth;this.h=Z9q.clientHeight;z2S.Y0_();v$y=this.context || this.stx.chart.tempCanvas.context;y9.clearCanvas(v$y.canvas,this.stx);this.render(v$y);this.edit(v$y);};y9.Drawing.callout.prototype.repositionTextArea=function(I3R){var T_Y;z2S.Y0_();z2S.N94(47);var j9m=z2S.m68(13,58,5,9,5);T_Y=this.defaultWidth * ("2" << j9m) + this.whitespace + this.padding;T_Y=Math.max(this.w,T_Y);z2S.N94(48);var P4m=z2S.z95(2,12,26);z2S.N94(49);var a1n=z2S.m68(34,34,1);I3R.style.left=y9.stripPX(I3R.style.left) - (!isNaN(T_Y)?T_Y / P4m:this.defaultWidth * a1n) + "px";this.ta=I3R;};y9.Drawing.callout.prototype.render=function(v67){var z8a,H8I,g71,h3v,x8z,d5p,y8s,F2b,k9r,D05,E6d,i$x,G1O,A8o,a3l,s$9,i6L,F25,w8M,a34,O$i,X6T,Z6v,M_i,n6_,E44,C6P;z8a="t";z8a+="o";z8a+="p";H8I=this.stx;g71=H8I.panels[this.panelName];h3v=H8I.getYAxisByField(g71,this.field);if(!g71 || this.field && !h3v){return;}this.context=v67;z2S.Y0_();x8z=H8I.pixelFromTick(this.p0[0],g71.chart);d5p=this.pixelFromValue(g71,this.p0[0],this.p0[1],h3v);if(isNaN(d5p)){return;}v67.font=this.fontString;v67.textBaseline=z8a;y8s=x8z;F2b=d5p;z2S.N94(30);var l6T=z2S.m68(18,11,28,124,44);k9r=this.w / l6T;z2S.O2S(50);var v_t=z2S.m68(3,16,722,15);D05=this.h / v_t;if(this.penDown){z2S.O2S(51);var F01=z2S.z95(11,6,11,18);z2S.O2S(16);var u7c=z2S.m68(3,6,1,5);k9r=this.defaultWidth + this.whitespace / F01 + this.padding / u7c;D05=this.fontSize + this.fontModifier;}E6d=this.lineWidth;if(!E6d){z2S.O2S(3);E6d=z2S.z95("1.1",0);}i$x=this.getLineColor();G1O=this.getLineColor(this.borderColor);F25=Math.min(Math.min(k9r,D05) / 2,"8" << 64);if(this.stem){if(this.stem.t){A8o=H8I.pixelFromTick(this.stem.t);s$9=this.pixelFromValue(g71,this.stem.t,this.stem.v,h3v);}else if(this.stem.x){A8o=y8s;s$9=F2b;y8s+=this.stem.x;F2b+=this.stem.y;}w8M="";if(A8o >= y8s + k9r){z2S.O2S(2);a3l=z2S.m68(y8s,k9r);w8M=3550 >= 6480?(0x1504,0x1d3):"r";}else if(A8o > y8s - k9r && A8o < y8s + k9r){a3l=y8s;w8M="4020" >> 0 == ("2350" - 0,+"368")?("9869" ^ 0,322.27) <= (4200,289.12)?("j",0x443):("g","S"):"c";}else if(A8o <= y8s - k9r){z2S.N94(3);a3l=z2S.m68(y8s,k9r);w8M=(4390,765.89) != (573.61,194)?"l":900.81 == (9221,"8614" << 64)?0x198b:(13.95,534.5) <= 7250?(3.99e+3,"0x5d0" >> 64):"0xe9d" | 4;}if(s$9 >= F2b + D05){z2S.O2S(2);i6L=z2S.z95(F2b,D05);w8M+=(298,6334) != 7900?(4.32,8650) > 890.09?"b":6894 < 8390?(2.52e+2,624.23):(!!"1","K"):1.77e+3;}else if(s$9 > F2b - D05 && s$9 < F2b + D05){i6L=F2b;w8M+=(3.71,6146) !== 3260?"m":("3.30e+3" ^ 0,"F");}else if(s$9 <= F2b - D05){z2S.N94(3);i6L=z2S.z95(F2b,D05);w8M+=(133.74,2019) <= +"5790"?(401.06,217.16) == (5424,"4540" << 32)?(4750,8492) == ("2660" ^ 0)?("S",0x10f):0x933:"t":136.78;}this.stemEntry=w8M;if(w8M != "cm"){A8o=Math.round(A8o);a3l=Math.round(a3l);s$9=Math.round(s$9);i6L=Math.round(i6L);}}if(this.highlighted){H8I.canvasColor("stx_annotation_highlight_bg",v67);}else {if(this.fillColor){v67.fillStyle=this.fillColor;v67.globalAlpha=+"0.4";}else if(this.stem){v67.fillStyle=H8I.containerColor;}}v67.strokeStyle=G1O;if(v67.setLineDash){v67.setLineDash(y9.borderPatternToArray(E6d,this.pattern));v67.lineDashOffset=0;;}if(G1O){a34="l";a34+="t";O$i="l";O$i+="m";X6T="r";X6T+="t";v67.beginPath();v67.lineWidth=E6d;z2S.O2S(7);v67.moveTo(z2S.m68(y8s,k9r,F25),z2S.z95(F2b,D05,z2S.N94(3)));if(this.stemEntry != X6T){z2S.N94(2);v67.quadraticCurveTo(z2S.m68(y8s,k9r),z2S.z95(F2b,D05,z2S.N94(3)),z2S.m68(y8s,k9r,z2S.O2S(2)),z2S.m68(F2b,F25,D05,z2S.O2S(1)));;}else {v67.lineTo(A8o,s$9);z2S.O2S(2);v67.lineTo(z2S.z95(y8s,k9r),z2S.z95(F2b,F25,D05,z2S.O2S(1)));}z2S.N94(2);v67.lineTo(z2S.m68(y8s,k9r),z2S.m68(F25,2,F2b,z2S.N94(52)));if(this.stemEntry == "rm"){v67.lineTo(A8o,s$9);}z2S.N94(2);v67.lineTo(z2S.z95(y8s,k9r),z2S.z95(F2b,2,F25,z2S.O2S(53)));z2S.O2S(2);v67.lineTo(z2S.z95(y8s,k9r),z2S.z95(F2b,D05,F25,z2S.N94(7)));if(this.stemEntry != "rb"){Z6v=523879961;M_i=-1054927363;n6_=2;for(var U7d=1;z2S.a9Z(U7d.toString(),U7d.toString().length,19715) !== Z6v;U7d++){z2S.N94(2);v67.quadraticCurveTo(z2S.m68(y8s,k9r),z2S.m68(F2b,D05,z2S.N94(2)),z2S.m68(y8s,k9r,F25,z2S.O2S(7)),z2S.z95(F2b,D05,z2S.O2S(2)));;n6_+=+"2";}if(z2S.j$g(n6_.toString(),n6_.toString().length,42075) !== M_i){z2S.N94(54);v67.quadraticCurveTo(z2S.m68(y8s,k9r),z2S.z95(F2b,D05,z2S.O2S(10)),z2S.z95(F25,y8s,k9r,z2S.N94(55)),z2S.m68(F2b,D05,z2S.N94(21)));;}}else {v67.lineTo(A8o,s$9);z2S.N94(7);v67.lineTo(z2S.z95(y8s,k9r,F25),z2S.m68(F2b,D05,z2S.O2S(2)));}z2S.O2S(56);v67.lineTo(z2S.z95(F25,y8s,64,"2"),z2S.z95(F2b,D05,z2S.N94(2)));if(this.stemEntry == "cb"){v67.lineTo(A8o,s$9);}z2S.N94(52);v67.lineTo(z2S.m68(F25,2,y8s),z2S.m68(F2b,D05,z2S.N94(2)));z2S.N94(1);v67.lineTo(z2S.m68(y8s,F25,k9r),z2S.z95(F2b,D05,z2S.O2S(2)));if(this.stemEntry != "lb"){z2S.N94(3);v67.quadraticCurveTo(z2S.m68(y8s,k9r),z2S.z95(F2b,D05,z2S.N94(2)),z2S.z95(y8s,k9r,z2S.O2S(3)),z2S.z95(F2b,D05,F25,z2S.N94(7)));;}else {v67.lineTo(A8o,s$9);z2S.O2S(3);v67.lineTo(z2S.m68(y8s,k9r),z2S.z95(F2b,D05,F25,z2S.N94(7)));}z2S.N94(3);v67.lineTo(z2S.m68(y8s,k9r),z2S.z95(F2b,2,F25,z2S.O2S(53)));if(this.stemEntry == O$i){v67.lineTo(A8o,s$9);}z2S.O2S(3);v67.lineTo(z2S.m68(y8s,k9r),z2S.z95(F25,2,F2b,z2S.O2S(52)));z2S.O2S(3);v67.lineTo(z2S.z95(y8s,k9r),z2S.z95(F2b,F25,D05,z2S.N94(1)));if(this.stemEntry != a34){z2S.O2S(3);v67.quadraticCurveTo(z2S.z95(y8s,k9r),z2S.m68(F2b,D05,z2S.N94(3)),z2S.z95(y8s,F25,k9r,z2S.N94(1)),z2S.m68(F2b,D05,z2S.N94(3)));;}else {v67.lineTo(A8o,s$9);z2S.N94(1);v67.lineTo(z2S.m68(y8s,F25,k9r),z2S.m68(F2b,D05,z2S.N94(3)));}z2S.N94(52);v67.lineTo(z2S.m68(F25,2,y8s),z2S.m68(F2b,D05,z2S.N94(3)));if(this.stemEntry == "ct"){v67.lineTo(A8o,s$9);}z2S.N94(53);v67.lineTo(z2S.z95(y8s,2,F25),z2S.m68(F2b,D05,z2S.N94(3)));z2S.N94(7);v67.lineTo(z2S.m68(y8s,k9r,F25),z2S.m68(F2b,D05,z2S.N94(3)));v67.fill();v67.globalAlpha=1;if(this.pattern != "none"){v67.stroke();}}if(this.highlighted){H8I.canvasColor("stx_annotation_highlight",v67);}else {v67.fillStyle=i$x;}F2b+=this.padding;if(!this.ta){for(var m7q=+"0";m7q < this.arr.length;m7q++){v67.fillText(this.arr[m7q],y8s - k9r + this.padding,F2b - D05);F2b+=this.fontSize;}}v67.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){E44="p";E44+="0";C6P=this.highlighted == E44?!![]:!({});this.littleCircle(v67,A8o,s$9,C6P);};};y9.Drawing.callout.prototype.click=function(d$Q,m3k,H5L){var O$G,P_x,o7Q,m5v;if(this.stx.overXAxis || this.stx.overYAxis){return;}O$G=this.stx.panels[this.panelName];this.copyConfig();P_x=840265357;o7Q=-1167323041;m5v=2;for(var G65=1;z2S.a9Z(G65.toString(),G65.toString().length,24086) !== P_x;G65++){this.setPoint(3,m3k,H5L,O$G.chart);m5v+=2;}if(z2S.a9Z(m5v.toString(),m5v.toString().length,50815) !== o7Q){this.setPoint(6,m3k,H5L,O$G.chart);}z2S.M17();this.setPoint(0,m3k,H5L,O$G.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!!({});this.adjust();return !"1";}this.adjust();this.edit(d$Q);this.penDown=!!0;return !"1";};y9.Drawing.callout.prototype.reposition=function(E$q,v6t,A0C,M09){var P1W,i9D,I$y,j$F,O46,c37,q7T,V$N,G4v,T_6,a1E;if(!v6t){return;}P1W=this.stx.panels[this.panelName];i9D=v6t.tick - A0C;I$y=v6t.value - M09;if(v6t.stem){j$F="mo";j$F+="v";j$F+="e";O46="dra";O46+="g";if(v6t.action == O46){this.stem={d:this.stx.dateFromTick(A0C,P1W.chart,!""),v:M09};}else if(v6t.action == j$F){this.setPoint(0,v6t.p0[0] - i9D,v6t.p0[1] - I$y,P1W.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(v6t.stem.d,P1W.chart) - i9D),v:v6t.stem.v - I$y};}this.adjust();}else {c37=-1395402918;q7T=-1634842145;V$N=2;for(var g0r=1;z2S.a9Z(g0r.toString(),g0r.toString().length,"92847" >> 0) !== c37;g0r++){this.setPoint(1,v6t.p0[1] / i9D,v6t.p0[9] / I$y,P1W.chart);V$N+=+"2";}if(z2S.a9Z(V$N.toString(),V$N.toString().length,85311) !== q7T){this.setPoint(0,v6t.p0[0] - i9D,v6t.p0[1] - I$y,P1W.chart);}}G4v=-+"1644100168";T_6=-1559307648;a1E=2;for(var z3R=1;z2S.j$g(z3R.toString(),z3R.toString().length,+"61517") !== G4v;z3R++){this.render(E$q);a1E+=2;}if(z2S.a9Z(a1E.toString(),a1E.toString().length,61339) !== T_6){this.render(E$q);}};y9.Drawing.callout.prototype.lineIntersection=function(L29,r4o,w8Q,H5j){var E59,h2s,j48,M4J,i5d,R70,S5H,M8j,k3n,j8m,s50,h$i;E59="stri";E59+="ng";h2s=this.stem;j48=this.p0;M4J=this.stx;i5d=M4J.panels[this.panelName];if(!j48 || !h2s || !i5d){return !!"";}R70=h2s.t || M4J.tickFromDate(h2s.d,i5d.chart);S5H={x0:j48[0],x1:R70,y0:j48[1],y1:h2s.v};M8j=this.boxToPixels(M4J,this.panelName,S5H,M4J.getYAxisByField(i5d,this.field));z2S.M17();k3n=M8j.x0;j8m=M8j.y0;s50=M8j.x1;h$i=M8j.y1;if(typeof this.stemEntry == E59){if(this.stemEntry.indexOf((792.45,7640) > (8.56,863.91)?"l":+"7880" !== (3460,2291)?+"6.14e+3":(![],"A")) > -1){k3n-=this.w / ("2" | 0);}else if(this.stemEntry.indexOf("r") > -("1" * 1)){z2S.N94(46);var B8N=z2S.z95(15,21,4);k3n+=this.w / B8N;}if(this.stemEntry.indexOf("t") > -1){z2S.O2S(49);var j6Y=z2S.m68(4,4,1);j8m-=this.h / j6Y;}else if(this.stemEntry.indexOf("b") > -1){z2S.O2S(2);var l4d=z2S.z95(0,2);j8m+=this.h / l4d;}}return y9.boxIntersects(w8Q.cx0,w8Q.cy0,w8Q.cx1,w8Q.cy1,k3n,j8m,s50,h$i,H5j);};y9.Drawing.callout.prototype.intersected=function(v7D,U4r,J_0){var Q1E,U$X,u8C,N1I,S7D,X5M,F6M,q1d,m8c,f0y,y$e,I27,E5_,c8B;Q1E=this.stx;U$X=Q1E.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,J_0)){u8C="p";u8C+="0";this.highlighted=u8C;return {action:"drag",stem:!!1};}N1I=Q1E.pixelFromTick(this.p0[0],U$X.chart) - this.w / ("2" ^ 0);S7D=Q1E.getYAxisByField(U$X,this.field);z2S.O2S(57);var j$$=z2S.z95(11,8,11,93,10);X5M=this.pixelFromValue(U$X,this.p0[0],this.p0[+"1"],S7D) - this.h / j$$;z2S.Y0_();F6M=N1I + this.w;q1d=X5M + this.h;if(this.stem && this.stem.x){N1I+=this.stem.x;F6M+=this.stem.x;X5M+=this.stem.y;q1d+=this.stem.y;}m8c=Q1E.pixelFromTick(v7D,U$X.chart);f0y=Q1E.pixelFromValueAdjusted(U$X,v7D,U4r);if(m8c + J_0.r >= N1I && m8c - J_0.r <= F6M && f0y + J_0.r >= X5M && f0y - J_0.r <= q1d){this.highlighted=!!1;return {p0:y9.clone(this.p0),tick:v7D,value:this.valueOnDrawingAxis(v7D,U4r)};}y$e=-116518107;I27=390846672;E5_=2;for(var X1t=+"1";z2S.a9Z(X1t.toString(),X1t.toString().length,"98506" * 1) !== y$e;X1t++){c8B=this.lineIntersection(v7D,U4r,J_0,"");E5_+=2;}if(z2S.j$g(E5_.toString(),E5_.toString().length,69124) !== I27){c8B=this.lineIntersection(v7D,U4r,J_0,"segment");}if(c8B){this.highlighted=!!({});return {action:"move",stem:y9.clone(this.stem),p0:y9.clone(this.p0),tick:v7D,value:this.valueOnDrawingAxis(v7D,U4r)};}return null;};y9.Drawing.fibonacci=function(){var J$o;J$o="fi";J$o+="bona";J$o+="cci";this.name="fibonacci";this.configurator=J$o;};y9.inheritsFrom(y9.Drawing.fibonacci,y9.Drawing.BaseTwoPoint);y9.Drawing.fibonacci.mapping={trend:(5350,9040) == 8785?![]:"t",color:"c",parameters:"p",pattern:"pt",opacity:8330 <= (31.85,"9990" << 32)?"o":3386 > 689?(1834,6800) <= (821.59,3152)?"E":("R","J"):859,lineWidth:J7h,level:(6420,8896) >= 2425?(440.13,"5070" | 2) < (182,938.02)?(0xdda,0x215d):"l":("c","M"),extendLeft:(653.68,9830) > 764.54?8250 !== (3906,627.42)?"e":(1.21,99.21) == +"3400"?(59.07,513.00):"96.20" - 0:("R",929.95),printLevels:"pl",printValues:"pv",timezone:"tz",display:(67.71,"734.29" * 1) !== (804,635)?("568.32" - 0,968) >= ("7410" ^ 0)?(+"9418",2020) > 952.8?0x807:("0x19c0" << 0,0x14fa):"d":107.39};y9.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,+"0.382",0.5,0.618,+"1",1.382,1.618];y9.Drawing.fibonacci.prototype.configs=[C4f,S0e,"lineWidth","pattern",s3B];y9.Drawing.fibonacci.prototype.initializeSettings=function(h7$){z2S.Y0_();var B1r,v$h;B1r=this.recommendedLevels;if(B1r && !h7$.currentVectorParameters.fibonacci.fibsAlreadySet){v$h=h7$.currentVectorParameters.fibonacci.fibs;for(var m6K="0" | 0;m6K < v$h.length;m6K++){delete v$h[m6K].display;for(var B23=0;B23 < B1r.length;B23++){if(v$h[m6K].level == B1r[B23]){v$h[m6K].display=!0;}}}}};y9.Drawing.fibonacci.prototype.setOuter=function(){var s$a,z0g,y8N,x$8,a2p,w_1,V44,L_S,R1F,y28,M5A,K4L,g3t,h8h,D0f;s$a=this.stx;z0g=s$a.panels[this.panelName];if(!z0g){return;}y8N=Math.max(this.p0["1" >> 64],this.p1[1]);x$8=Math.min(this.p0[1],this.p1[1]);z2S.N94(3);a2p=z2S.z95(y8N,x$8);this.outer={p0:y9.clone(this.p0),p1:y9.clone(this.p1)};w_1=s$a.pixelFromTick(this.p0[0],z0g.chart);V44=s$a.pixelFromTick(this.p1[0],z0g.chart);L_S=s$a.getYAxisByField(z0g,this.field);R1F=this.pixelFromValue(z0g,this.p0[0],this.p0[1],L_S);y28=this.pixelFromValue(z0g,this.p1[+"0"],this.p1[+"1"],L_S);M5A=0;K4L=+"1";for(var v5v=0;v5v < this.parameters.fibs.length;v5v++){g3t=this.parameters.fibs[v5v];if(g3t.level >= M5A && g3t.level <= K4L || !g3t.display)continue;h8h=this.pixelFromValue(z0g,this.p0[0],y28 < R1F?y8N - a2p * g3t.level:x$8 + a2p * g3t.level,L_S);D0f=y9.xIntersection({x0:w_1,x1:V44,y0:R1F,y1:y28},h8h);if(g3t.level < M5A){M5A=g3t.level;this.outer.p1[1]=this.valueFromPixel(h8h,z0g,L_S);this.outer.p1[0]=s$a.tickFromPixel(D0f,z0g.chart);}else if(g3t.level > K4L){K4L=g3t.level;this.outer.p0[1]=this.valueFromPixel(h8h,z0g,L_S);z2S.O2S(40);this.outer.p0[z2S.z95(0,"0")]=s$a.tickFromPixel(D0f,z0g.chart);}}};y9.Drawing.fibonacci.prototype.click=function(E7L,A9n,x9E){var f45;f45=this.stx.panels[this.panelName];if(!f45){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,A9n,x9E,f45.chart);this.penDown=!!1;return !1;}if(this.accidentalClick(A9n,x9E)){return !"";}z2S.O2S(3);this.setPoint(z2S.m68("1",0),A9n,x9E,f45.chart);this.setOuter();this.parameters=y9.clone(this.parameters);this.penDown=!!0;return !!({});;};y9.Drawing.fibonacci.prototype.render=function(J7B){var A$m,X7j,C3H,h$Y,o3U,L5c,i4l,d44,d7v,n1_,m_m,t$t,W0c,F6a,U4B,A0e,u0A,o$x,k0a,p0W,i6Y,q0K,o2R,A6e,l6G,O5M,t_A,G31,e6R,K8$,O9T,V9Z,o6D,V2_,F$M,H6R,t_k,Q4N,P0H,W4j,P1I,g2D,h33,t83,E7s,A86;A$m="se";A$m+="gm";A$m+="ent";X7j="16";X7j+="1.";X7j+="8";X7j+="%";C3H="st";C3H+="x_yaxis";h$Y="m";h$Y+="i";h$Y+="ddl";h$Y+="e";o3U="sol";o3U+="id";L5c=this.stx;i4l=L5c.panels[this.panelName];d44=L5c.getYAxisByField(i4l,this.field);if(!i4l || this.field && !d44){return;}d44=d44 || i4l.yAxis;if(!this.p1){return;}d7v=Math.max(this.p0["1" * 1],this.p1[+"1"]);n1_=Math.min(this.p0[1],this.p1[1]);m_m=d44.flipped?n1_ - d7v:d7v - n1_;t$t=L5c.pixelFromTick(this.p0[0],i4l.chart);W0c=L5c.pixelFromTick(this.p1[0],i4l.chart);F6a=this.pixelFromValue(i4l,this.p0[0],this.p0[+"1"],d44);U4B=this.pixelFromValue(i4l,this.p1[0],this.p1[1],d44);A0e=Math.min(U4B,F6a);u0A=Math.max(U4B,F6a);z2S.O2S(3);o$x=z2S.m68(u0A,A0e);z2S.N94(58);k0a=z2S.m68(t$t,0,W0c,F6a,U4B);p0W={color:"auto",parameters:{pattern:o3U,opacity:"0.25" - 0,lineWidth:"1" * 1}};if(!this.parameters.trend){this.parameters.trend=p0W;}i6Y=this.getLineColor(this.parameters.trend.color);z2S.Y0_();J7B.textBaseline=h$Y;L5c.canvasFont(C3H,J7B);z2S.O2S(59);var F1c=z2S.z95(22,20,4766,12,19);q0K=J7B.measureText(X7j).width + F1c;o2R=Number.MAX_VALUE;A6e=Number.MAX_VALUE;z2S.N94(20);var L7w=z2S.z95(9,10);l6G=Number.MAX_VALUE * L7w;z2S.N94(60);var k$t=z2S.m68(15,19,5,21);O5M=Number.MAX_VALUE * k$t;t_A=this.getLineColor();this.rays=[];for(var f7i=0;f7i < this.parameters.fibs.length;f7i++){G31="a";G31+="u";G31+="t";G31+="o";e6R="a";e6R+="uto";K8$="le";K8$+="f";K8$+="t";J7B.textAlign=K8$;J7B.fillStyle=t_A;O9T=this.parameters.fibs[f7i];if(!O9T.display)continue;V9Z=this.pixelFromValue(i4l,this.p0[0],U4B < F6a?d7v - m_m * O9T.level:n1_ + m_m * O9T.level,d44);o6D=y9.xIntersection({x0:t$t,x1:W0c,y0:F6a,y1:U4B},V9Z);V2_=this.parameters.extendLeft?0:o6D;F$M=i4l.left + i4l.width;if(this.parameters.printLevels){z2S.O2S(16);var c$A=z2S.m68(999,10,59,49);z2S.N94(2);var r1f=z2S.m68(3,7);z2S.O2S(61);var s5H=z2S.m68(377750,22665,17);z2S.N94(62);var R2G=z2S.m68(3475,7,8466,11,59262);z2S.N94(2);var u$i=z2S.m68(740,11);z2S.N94(63);var H6a=z2S.z95(6,470,7041,1,20);z2S.O2S(64);var Z18=z2S.m68(9,82620,5,738648,3);z2S.N94(2);var i1x=z2S.z95(7288,3);z2S.N94(65);var q$h=z2S.z95(2247,141,9,2,429);H6R=Math.round(O9T.level * c$A) / r1f + (s5H <= R2G?"C":u$i <= (H6a,227.15)?"k":Z18 !== (i1x,q$h)?"%":"o");F$M-=q0K;if(this.parameters.printValues){t_k="stx_y";t_k+="axi";t_k+="s";J7B.fillStyle=t_A;L5c.canvasFont(t_k,J7B);;}if(F$M < V2_){J7B.textAlign="right";}J7B.fillText(H6R,F$M,V9Z);if(F$M < V2_){F$M+=5;}else {F$M-=5;}}if(this.parameters.printValues){if(o6D < i4l.width){Q4N=this.valueFromPixel(V9Z,i4l,d44);if(d44.priceFormatter){Q4N=d44.priceFormatter(L5c,i4l,Q4N);}else {Q4N=L5c.formatYAxisPrice(Q4N,i4l,null,d44);}if(J7B == L5c.chart.context){L5c.endClip();}L5c.createYAxisLabel(i4l,Q4N,V9Z,this.getLineColor(null,!!1),null,J7B,d44);if(J7B == L5c.chart.context){L5c.startClip(i4l.name);}}}P0H=O9T.color;if(P0H == e6R || y9.isTransparent(P0H)){P0H=this.getLineColor();}W4j=O9T.color;if(W4j == "auto" || y9.isTransparent(W4j)){W4j=this.fillColor;}if(W4j == G31 || y9.isTransparent(W4j)){W4j=L5c.defaultColor;}J7B.fillStyle=W4j;P1I=y9.clone(O9T.parameters);if(this.highlighted){P1I.opacity=+"1";}L5c.plotLine(V2_,F$M,V9Z,V9Z,P0H,"segment",J7B,i4l,P1I);this.rays.push([[V2_,V9Z],[F$M,V9Z]]);J7B.globalAlpha=0.05;J7B.beginPath();J7B.moveTo(F$M,V9Z);J7B.lineTo(V2_,V9Z);if(V2_){J7B.lineTo(W0c,U4B);}else {J7B.lineTo(V2_,U4B);}J7B.lineTo(F$M,U4B);if(typeof W4j != "undefined"){J7B.fill();}z2S.O2S(21);J7B.globalAlpha=z2S.z95("1",1);if(V9Z < A6e){o2R=o6D;A6e=V9Z;}if(V9Z > O5M){l6G=o6D;O5M=V9Z;}}for(var G2M=0;G2M <= ("1" ^ 0);G2M++){g2D=k0a?u0A - o$x * G2M:A0e + o$x * G2M;g2D=Math.round(g2D);if(g2D < A6e){o2R=y9.xIntersection({x0:t$t,x1:W0c,y0:F6a,y1:U4B},g2D);A6e=g2D;}if(g2D > O5M){l6G=y9.xIntersection({x0:t$t,x1:W0c,y0:F6a,y1:U4B},g2D);O5M=g2D;}}h33=y9.clone(this.parameters.trend.parameters);if(this.highlighted){h33.opacity=1;}L5c.plotLine(o2R,l6G,A6e,O5M,i6Y,A$m,J7B,i4l,h33);if(this.highlighted){t83="p";t83+="1";E7s=this.highlighted == "p0"?!!1:!({});A86=this.highlighted == t83?!!1:![];this.littleCircle(J7B,t$t,F6a,E7s);this.littleCircle(J7B,W0c,U4B,A86);}};y9.Drawing.fibonacci.prototype.reposition=function(c45,Q5x,J2C,T_r){z2S.Y0_();if(!Q5x){return;}y9.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};y9.Drawing.fibonacci.prototype.intersected=function(F95,R$4,h6t){var X$0,T$8,B$4,W$h,c3O,Q3S,o_Z,e10,P5_;X$0="se";X$0+="g";X$0+="m";X$0+="ent";T$8=this.p0;z2S.Y0_();B$4=this.p1;if(!T$8 || !B$4){return null;}W$h={0:T$8,1:B$4};for(var d7O in W$h){if(this.pointIntersection(W$h[d7O][0],W$h[d7O][1],h6t)){c3O="d";c3O+="r";c3O+="a";c3O+="g";z2S.N94(2);this.highlighted=z2S.z95("p",d7O);return {action:c3O,point:(664.73 != 5820?9740 >= "962.33" - 0?"p":"E":(0x150e,2.87e+3)) + d7O};}}Q3S=this.outer;o_Z=this.rays;e10=Q3S && this.lineIntersection(F95,R$4,h6t,X$0,Q3S.p0,Q3S.p1);if(!e10){for(var w$L=+"0";w$L < o_Z.length;w$L++){P5_="r";P5_+="a";P5_+="y";if(this.lineIntersection(F95,R$4,h6t,P5_,o_Z[w$L][0],o_Z[w$L][1],!!({}))){e10=!"";break;}}}if(e10){this.highlighted=!![];return {action:"move",p0:y9.clone(T$8),p1:y9.clone(B$4),tick:F95,value:this.valueOnDrawingAxis(F95,R$4)};}return null;};y9.Drawing.fibonacci.prototype.reconstruct=function(G9i,W_J){W_J=y9.replaceFields(W_J,y9.reverseObject(y9.Drawing.fibonacci.mapping));this.stx=G9i;this.parameters=W_J.parameters;if(!this.parameters){this.parameters=y9.clone(this.stx.currentVectorParameters.fibonacci);}this.color=W_J.col;this.fillColor=W_J.fc;this.panelName=W_J.pnl;this.d0=W_J.d0;this.d1=W_J.d1;this.d2=W_J.d2;this.tzo0=W_J.tzo0;this.tzo1=W_J.tzo1;this.tzo2=W_J.tzo2;this.v0=W_J.v0;this.v1=W_J.v1;this.v2=W_J.v2;this.field=W_J.fld;this.adjust();};y9.Drawing.fibonacci.prototype.adjust=function(){var M4c,z69,t5x,x2_;M4c=this.stx.panels[this.panelName];z69=-1647251648;t5x=-+"1754564000";x2_=2;z2S.Y0_();for(var s$2=1;z2S.a9Z(s$2.toString(),s$2.toString().length,"38039" | 18) !== z69;s$2++){if(+M4c){return;}this.setPoint(1,this.d0,this.v0,M4c.chart);x2_+=2;}if(z2S.a9Z(x2_.toString(),x2_.toString().length,39125) !== t5x){if(!M4c){return;}this.setPoint(0,this.d0,this.v0,M4c.chart);}this.setPoint(1,this.d1,this.v1,M4c.chart);this.setOuter();};y9.Drawing.fibonacci.prototype.serialize=function(){var K1R;K1R={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return y9.replaceFields(K1R,y9.Drawing.fibonacci.mapping);};y9.Drawing.retracement=function(){z2S.Y0_();this.name="retracement";};y9.inheritsFrom(y9.Drawing.retracement,y9.Drawing.fibonacci);y9.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=![];this.p2=null;};y9.inheritsFrom(y9.Drawing.fibprojection,y9.Drawing.fibonacci);z2S.O2S(25);y9.Drawing.fibprojection.prototype.recommendedLevels=[z2S.z95(0,"0"),0.618,1,1.272,z2S.m68("1.618",0,z2S.O2S(3)),2.618,z2S.z95("4.236",0,z2S.N94(3))];y9.Drawing.fibprojection.prototype.click=function(J6K,T0p,c1N){var x33,W0j;z2S.Y0_();x33=this.stx;W0j=x33.panels[this.panelName];if(!W0j){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,T0p,c1N,W0j.chart);this.penDown=!!"1";return !!0;}if(this.accidentalClick(T0p,c1N)){x33.undo();return !"";}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],W0j.chart);this.parameters=y9.clone(this.parameters);return !!"1";}this.setPoint(1,T0p,c1N,W0j.chart);this.p2=[this.p1[0],this.p1[+"1"]];return !1;;};y9.Drawing.fibprojection.prototype.render=function(S8S){var t19,A74,S1m,G6S,E8w,A2k,f4r,G59,Q2a,u5n,r0F,o4n,I5d,G4h,G8q,b8_,w35,E0X,Z9B,n_i,f8C,W$V,P5x,H_J,t1s,P3A,M3Y,J75,W22,h50,R9F,U0X,S38,t7P,k0s;t19="s";t19+="egme";t19+="nt";A74="au";A74+="to";S1m=this.stx;G6S=S1m.panels[this.panelName];E8w=S1m.getYAxisByField(G6S,this.field);if(!G6S || this.field && !E8w){return;}E8w=E8w || G6S.yAxis;z2S.M17();if(!this.p1){return;}z2S.N94(66);var o4y=z2S.z95(1,2,5,8);z2S.O2S(43);var p1e=z2S.m68(7,19,215,11);A2k=this.p1[o4y] - this.p0[p1e];f4r=S1m.pixelFromTick(this.p0[0],G6S.chart);G59=S1m.pixelFromTick(this.p1[0],G6S.chart);Q2a=this.pixelFromValue(G6S,this.p0[0],this.p0[+"1"],E8w);u5n=this.pixelFromValue(G6S,this.p1[0],this.p1[1],E8w);r0F=null;o4n=null;if(this.p2){r0F=S1m.pixelFromTick(this.p2[0],G6S.chart);o4n=this.pixelFromValue(G6S,this.p2[0],this.p2[1],E8w);}I5d={color:A74,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=I5d;}G4h=this.getLineColor(this.parameters.trend.color);S8S.textBaseline="middle";S1m.canvasFont("stx_yaxis",S8S);z2S.O2S(7);var i9O=z2S.m68(12,6,8);G8q=S8S.measureText("161.8%").width + i9O;b8_=this.getLineColor();if(this.p2){this.rays=[];for(var S0S=0;S0S < this.parameters.fibs.length;S0S++){w35="au";w35+="to";E0X="a";E0X+="u";E0X+="t";E0X+="o";Z9B="l";Z9B+="e";Z9B+="f";Z9B+="t";S8S.textAlign=Z9B;S8S.fillStyle=b8_;n_i=this.parameters.fibs[S0S];if(!n_i.display)continue;f8C=this.pixelFromValue(G6S,this.p2[0],this.p2[1] + A2k * n_i.level,E8w);W$V=y9.xIntersection({x0:f4r,x1:G59,y0:Q2a,y1:u5n},f8C);P5x=this.parameters.extendLeft?+"0":f4r;H_J=G6S.left + G6S.width;if(this.parameters.printLevels){t1s="rig";t1s+="ht";z2S.O2S(49);var M31=z2S.z95(1003,1003,999);z2S.O2S(67);var q4b=z2S.m68(16,17,8,9);P3A=Math.round(n_i.level * M31) / q4b + "%";H_J-=G8q;if(this.parameters.printValues){S8S.fillStyle=b8_;S1m.canvasFont("stx_yaxis",S8S);;}if(H_J < P5x){S8S.textAlign=t1s;}S8S.fillText(P3A,H_J,f8C);if(H_J < P5x){H_J+=5;}else {H_J-=+"5";}}if(this.parameters.printValues){if(W$V < G6S.width){M3Y=this.valueFromPixel(f8C,G6S,E8w);if(E8w.priceFormatter){M3Y=E8w.priceFormatter(S1m,G6S,M3Y);}else {M3Y=S1m.formatYAxisPrice(M3Y,G6S,null,E8w);}if(S8S == S1m.chart.context){S1m.endClip();}S1m.createYAxisLabel(G6S,M3Y,f8C,this.getLineColor(null,!!({})),null,S8S,E8w);if(S8S == S1m.chart.context){S1m.startClip(G6S.name);}}}J75=n_i.color;if(J75 == E0X || y9.isTransparent(J75)){J75=this.getLineColor();}W22=n_i.color;if(W22 == "auto" || y9.isTransparent(W22)){W22=this.fillColor;}if(W22 == w35 || y9.isTransparent(W22)){W22=S1m.defaultColor;}S8S.fillStyle=W22;h50=y9.clone(n_i.parameters);if(this.highlighted){h50.opacity=1;}S1m.plotLine(P5x,H_J,f8C,f8C,J75,"segment",S8S,G6S,h50);this.rays.push([[P5x,f8C],[H_J,f8C]]);S8S.globalAlpha=+"0.05";S8S.beginPath();S8S.moveTo(H_J,f8C);S8S.lineTo(P5x,f8C);if(P5x){S8S.lineTo(f4r,o4n);}else {S8S.lineTo(P5x,o4n);}S8S.lineTo(H_J,o4n);if(typeof W22 != "undefined"){S8S.fill();}S8S.globalAlpha=1;}}R9F=y9.clone(this.parameters.trend.parameters);if(this.highlighted){R9F.opacity=1;}S1m.plotLine(f4r,G59,Q2a,u5n,G4h,"segment",S8S,G6S,R9F);if(this.p2){S1m.plotLine(G59,r0F,u5n,o4n,G4h,t19,S8S,G6S,R9F);}if(this.highlighted){U0X="p";U0X+="0";S38=this.highlighted == U0X?!0:![];t7P=this.highlighted == "p1"?!0:!!0;k0s=this.highlighted == "p2"?!0:![];this.littleCircle(S8S,f4r,Q2a,S38);this.littleCircle(S8S,G59,u5n,t7P);this.littleCircle(S8S,r0F,o4n,k0s);}};y9.Drawing.fibprojection.prototype.move=function(x6X,Y$1,W9i){z2S.M17();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[Y$1,W9i];}else {this.p2=[Y$1,W9i];}this.render(x6X);};y9.Drawing.fibprojection.prototype.reposition=function(s0t,s1W,W7a,T51){var o0b,F5j,R3z;if(!s1W){return;}o0b=this.stx.panels[this.panelName];F5j=s1W.tick - W7a;R3z=s1W.value - T51;if(s1W.action == "move"){z2S.N94(12);this.setPoint(z2S.z95(32,"0"),s1W.p0[0] - F5j,s1W.p0[1] - R3z,o0b.chart);this.setPoint(1,s1W.p1[0] - F5j,s1W.p1[1] - R3z,o0b.chart);this.setPoint(2,s1W.p2[0] - F5j,s1W.p2[1] - R3z,o0b.chart);this.render(s0t);}else if(s1W.action == "drag"){this[s1W.point]=[W7a,T51];this.setPoint(+"0",this.p0[0],this.p0[1],o0b.chart);this.setPoint(+"1",this.p1[0],this.p1[+"1"],o0b.chart);this.setPoint(2,this.p2[0],this.p2[+"1"],o0b.chart);this.render(s0t);}};y9.Drawing.fibprojection.prototype.intersected=function(h8m,F59,D4L){var Y6U,J4x,P6S,T$v,p1b,O9t;z2S.M17();Y6U=this.p0;J4x=this.p1;P6S=this.p2;if(!Y6U || !J4x || !P6S){return null;}T$v={0:Y6U,1:J4x,2:P6S};for(var s9p in T$v){if(this.pointIntersection(T$v[s9p][0],T$v[s9p][1],D4L)){z2S.O2S(2);this.highlighted=z2S.m68((7719,+"9286") > 1080?"p":(3470,210) >= +"568.67"?974.57:("7.64e+3" >> 32,224.01),s9p);return {action:"drag",point:(680.87 == (+"1980",244.52)?("P",4.82e+3):"p") + s9p};}}p1b=this.rays;O9t=this.lineIntersection(h8m,F59,D4L,"segment",Y6U,J4x) || this.lineIntersection(h8m,F59,D4L,"segment",J4x,P6S);if(!O9t){for(var D5m=0;D5m < p1b.length;D5m++){if(this.lineIntersection(h8m,F59,D4L,"ray",p1b[D5m][0],p1b[D5m][1],!"")){O9t=!!"1";break;}}}if(O9t){this.highlighted=!!({});return {action:"move",p0:y9.clone(Y6U),p1:y9.clone(J4x),p2:y9.clone(P6S),tick:h8m,value:this.valueOnDrawingAxis(h8m,F59)};}return null;};y9.Drawing.fibprojection.prototype.adjust=function(){var z9j;z9j=this.stx.panels[this.panelName];if(!z9j){return;}this.setPoint(0,this.d0,this.v0,z9j.chart);this.setPoint(1,this.d1,this.v1,z9j.chart);this.setPoint(2,this.d2,this.v2,z9j.chart);};y9.Drawing.fibarc=function(){this.name="fibarc";z2S.Y0_();;};y9.inheritsFrom(y9.Drawing.fibarc,y9.Drawing.fibonacci);z2S.O2S(3);y9.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,+"0.618",z2S.m68("1",0)];y9.Drawing.fibarc.prototype.setOuter=function(){var D$L,c07,v5e,v5h,q4m,G9F,c_H,s4k,d9f;D$L=this.stx;c07=D$L.panels[this.panelName];if(!c07){return;}this.outer={p0:y9.clone(this.p0),p1:y9.clone(this.p1)};v5e=D$L.getYAxisByField(c07,this.field);v5h=this.pixelFromValue(c07,this.p0[0],this.p0[1],v5e);q4m=this.pixelFromValue(c07,this.p1[0],this.p1[1],v5e);G9F=D$L.pixelFromTick(this.p0[0],c07.chart);c_H=D$L.pixelFromTick(this.p1[0],c07.chart);z2S.O2S(61);s4k=z2S.z95(q4m,2,v5h);d9f=y9.xIntersection({x0:G9F,x1:c_H,y0:v5h,y1:q4m},s4k);this.outer.p0[1]=this.valueFromPixel(s4k,c07,v5e);z2S.O2S(25);this.outer.p0[z2S.z95(0,"0")]=D$L.tickFromPixel(d9f,c07.chart);};y9.Drawing.fibarc.prototype.intersected=function(N0W,v_c,Y3T){var N13,c9t,i7p,e2i,m7M,Z7k,B8n,P6u,N5R,T4N,e8k,Z08,K$a,d1Z;N13=this.stx;c9t=N13.panels[this.panelName];if(!c9t){return;}i7p=this.p0;e2i=this.p1;m7M=this.outer;if(!i7p || !e2i){return null;}Z7k={0:i7p,1:e2i};for(var V2O in Z7k){if(this.pointIntersection(Z7k[V2O][0],Z7k[V2O][+"1"],Y3T)){B8n="d";B8n+="r";B8n+="ag";z2S.O2S(2);this.highlighted=z2S.m68(2270 > (5750,+"3140")?("708.45" - 0,6.54) <= (2530,1560)?"T":(!"1",791.84):"p",V2O);return {action:B8n,point:(1810 >= (3380,925)?"p":(0x1d3a,2.25e+2)) + V2O};}}P6u=this.valueOnDrawingAxis(N0W,v_c);if(this.lineIntersection(N0W,P6u,Y3T,"segment",m7M.p0,m7M.p1)){this.highlighted=!!({});return {action:"move",p0:y9.clone(i7p),p1:y9.clone(e2i),tick:N0W,value:P6u};}N5R=N13.getYAxisByField(c9t,this.field);T4N={x0:i7p[0],x1:e2i[0],y0:i7p["1" << 96],y1:e2i[1]};e8k=this.boxToPixels(N13,this.panelName,T4N,N5R);Z08={x:Math.abs(Math.sqrt(2) * (e8k.x1 - e8k.x0)),y:Math.abs(Math.sqrt(2) * (e8k.y1 - e8k.y0))};z2S.Y0_();K$a=N13.pixelFromTick(N0W,c9t.chart);d1Z=N13.pixelFromValueAdjusted(c9t,N0W,v_c);if(K$a + Y3T.r < e8k.x1 - Z08.x || K$a - Y3T.r > e8k.x1 + Z08.x){return null;}if(d1Z + Y3T.r < e8k.y1 - Z08.y || d1Z - Y3T.r > e8k.y1 + Z08.y){return null;}if(e8k.y0 < e8k.y1 && d1Z - Y3T.r > e8k.y1){return null;}if(e8k.y0 > e8k.y1 && d1Z + Y3T.r < e8k.y1){return null;}this.highlighted=!!({});return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:N0W,value:P6u};};y9.Drawing.fibarc.prototype.render=function(N3V){var p1c,t5r,J6y,K_l,O7y,Z1$,p9w,k8K,l6F,c3t,b_i,w9Y,b$c,O9P,m7H,L62,S0w,c1M,X$O,G6$,X70,l_8,L6S,o4K,z_A,b$x,b89;p1c="l";p1c+="e";p1c+="f";p1c+="t";t5r="stx_";t5r+="ya";t5r+="xis";J6y=this.stx;K_l=J6y.panels[this.panelName];O7y=J6y.getYAxisByField(K_l,this.field);if(!K_l || this.field && !O7y){return;}O7y=O7y || K_l.yAxis;if(!this.p1){return;}Z1$=J6y.pixelFromTick(this.p0[0],K_l.chart);p9w=J6y.pixelFromTick(this.p1[0],K_l.chart);k8K=this.pixelFromValue(K_l,this.p0[0],this.p0[1],O7y);l6F=this.pixelFromValue(K_l,this.p1[0],this.p1[1],O7y);z2S.N94(68);c3t=z2S.z95(k8K,l6F);z2S.N94(69);b_i=Math.abs(z2S.z95(k8K,l6F,p9w,Z1$));w9Y=this.getLineColor(this.parameters.trend.color);N3V.textBaseline="middle";J6y.canvasFont(t5r,N3V);b$c=this.getLineColor();for(var s5G=0;s5G < this.parameters.fibs.length;s5G++){O9P="au";O9P+="to";m7H="le";m7H+="ft";N3V.fillStyle=b$c;L62=this.parameters.fibs[s5G];if(L62.level < "0" >> 32 || !L62.display)continue;z2S.N94(37);var o$5=z2S.m68(9,17,15,12);z2S.N94(3);var m0d=z2S.m68(13,12);z2S.O2S(70);var L5Y=z2S.m68(326,10,14,18,8);S0w=Math.abs(this.p1[o$5] - this.p0[m0d]) * Math.sqrt(L5Y) * L62.level;z2S.N94(46);var y5f=z2S.m68(10,15,4);z2S.N94(45);var b0Y=z2S.m68(3,17,19);z2S.O2S(3);var i38=z2S.z95(3,2);z2S.N94(7);var n1w=z2S.m68(6,9,16);z2S.O2S(71);var b76=z2S.m68(15,19,16,0,11);c1M=this.p1[y5f] + S0w * (c3t?b0Y:i38) * (O7y.flipped?n1w:b76);X$O=this.pixelFromValue(K_l,this.p0[0],c1M,O7y);G6$=y9.xIntersection({x0:Z1$,x1:p9w,y0:k8K,y1:l6F},X$O);if(this.parameters.printLevels){N3V.textAlign="center";z2S.N94(49);var h8o=z2S.z95(1012,1012,999);z2S.N94(72);var X1y=z2S.m68(5,12,19,2);X70=Math.round(L62.level * h8o) / X1y + "%";if(this.parameters.printValues){N3V.fillStyle=b$c;J6y.canvasFont("stx_yaxis",N3V);;}N3V.fillText(X70,p9w,Math.round(X$O - 5));}N3V.textAlign=m7H;if(this.parameters.printValues){if(G6$ < K_l.width){l_8=c1M;if(O7y.priceFormatter){l_8=O7y.priceFormatter(J6y,K_l,l_8);}else {l_8=J6y.formatYAxisPrice(l_8,K_l,null,O7y);}if(N3V == J6y.chart.context){J6y.endClip();}J6y.createYAxisLabel(K_l,l_8,X$O,this.getLineColor(null,!""),null,N3V,O7y);if(N3V == J6y.chart.context){J6y.startClip(K_l.name);}}}L6S=L62.color;if(L6S == "auto" || y9.isTransparent(L6S)){L6S=this.getLineColor();}N3V.strokeStyle=L6S;o4K=L62.color;if(o4K == O9P || y9.isTransparent(o4K)){o4K=this.fillColor;}if(o4K == "auto" || y9.isTransparent(o4K)){o4K=J6y.defaultColor;}N3V.fillStyle=o4K;N3V.globalAlpha=this.highlighted?1:L62.parameters.opacity;N3V.lineWidth=L62.parameters.lineWidth;if(N3V.setLineDash){N3V.setLineDash(y9.borderPatternToArray(N3V.lineWidth,L62.parameters.pattern));N3V.lineDashOffset=0;;}N3V.save();N3V.beginPath();z2S.N94(73);N3V.scale(z2S.m68(b_i,"1"),z2S.z95("1",0,z2S.N94(3)));z2S.N94(21);N3V.arc(z2S.z95(p9w,b_i),l6F,Math.abs(X$O - l6F),0,Math.PI,!c3t);if(this.pattern != "none"){N3V.stroke();}N3V.globalAlpha=0.05;N3V.fill();N3V.restore();if(N3V.setLineDash){N3V.setLineDash([]);}N3V.globalAlpha=1;}N3V.textAlign=p1c;z_A=y9.clone(this.parameters.trend.parameters);if(this.highlighted){z2S.N94(25);z_A.opacity=z2S.m68(1,"1");}z2S.O2S(61);J6y.plotLine(p9w,z2S.z95(p9w,2,Z1$),l6F,z2S.z95(l6F,2,k8K),w9Y,"segment",N3V,K_l,z_A);if(this.highlighted){b$x=this.highlighted == "p0"?!!"1":!1;b89=this.highlighted == "p1"?!0:!({});this.littleCircle(N3V,Z1$,k8K,b$x);this.littleCircle(N3V,p9w,l6F,b89);}};y9.Drawing.fibfan=function(){var k5j;k5j="fi";k5j+="bf";k5j+="an";this.name=k5j;;};y9.inheritsFrom(y9.Drawing.fibfan,y9.Drawing.fibonacci);z2S.O2S(3);y9.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,z2S.m68("0.5",0),0.618,1];y9.Drawing.fibfan.prototype.setOuter=function(){};y9.Drawing.fibfan.prototype.render=function(h0R){var i7n,v72,T7Q,r7R,I32,q4d,j0o,x87,j00,T1Q,P5G,P3i,n8X,x1b,f6k,Y0v,F9U,V2P,M8U,M0r,q_9,x0y,t2_,u30,Z3C,F_I,r0i,G7o,K6S,C_k,o$U,Z6e,r30,P7D,j5b,d8F,S_H;i7n="stx_ya";i7n+="x";i7n+="i";i7n+="s";v72="midd";v72+="le";T7Q=this.stx;r7R=T7Q.panels[this.panelName];I32=T7Q.getYAxisByField(r7R,this.field);if(!r7R || this.field && !I32){return;}I32=I32 || r7R.yAxis;if(!this.p1){return;}q4d=T7Q.pixelFromTick(this.p0[0],r7R.chart);j0o=T7Q.pixelFromTick(this.p1[0],r7R.chart);x87=this.pixelFromValue(r7R,this.p0[+"0"],this.p0["1" * 1],I32);j00=this.pixelFromValue(r7R,this.p1[0],this.p1[1],I32);T1Q=Math.min(j00,x87);P5G=Math.max(j00,x87);z2S.N94(3);P3i=z2S.z95(P5G,T1Q);z2S.N94(58);n8X=z2S.z95(q4d,0,j0o,x87,j00);x1b=this.getLineColor(this.parameters.trend.color);h0R.textBaseline=v72;T7Q.canvasFont(i7n,h0R);z2S.N94(74);var W55=z2S.m68(20,29430,4,180,8);f6k=h0R.measureText("161.8%").width + W55;Y0v=Number.MAX_VALUE;z2S.O2S(48);var H9v=z2S.z95(8,8,63);F9U=Number.MAX_VALUE * H9v;z2S.Y0_();V2P=this.getLineColor();this.rays=[];for(var U43=0;U43 < this.parameters.fibs.length;U43++){M8U="s";M8U+="egm";M8U+="ent";M0r="l";M0r+="e";M0r+="f";M0r+="t";h0R.fillStyle=V2P;q_9=this.parameters.fibs[U43];if(!q_9.display)continue;x0y=this.pixelFromValue(r7R,this.p0[+"0"],(this.p0["1" >> 0] - this.p1[1]) * q_9.level + this.p1[1],I32);t2_=y9.xIntersection({x0:j0o,x1:j0o,y0:x87,y1:j00},x0y);u30=r7R.left;if(j0o > q4d){u30+=r7R.width;}z2S.N94(75);Z3C=z2S.z95(x87,x0y,q4d,u30,x87,t2_,q4d);if(q4d > u30 - (this.parameters.printLevels?f6k + 5:"0" >> 96) && j0o > q4d)continue;else if(q4d < u30 + (this.parameters.printLevels?f6k + ("5" >> 64):0) && j0o < q4d)continue;if(this.parameters.printLevels){z2S.O2S(76);var n1a=z2S.m68(16,1010,202,920);z2S.N94(77);var M9r=z2S.z95(3,5,12,11,34);F_I=Math.round(q_9.level * n1a) / M9r + "%";if(j0o > q4d){u30-=f6k;h0R.textAlign="left";}else {r0i="r";r0i+="i";r0i+="g";r0i+="ht";u30+=f6k;h0R.textAlign=r0i;}if(this.parameters.printValues){G7o="stx_y";G7o+="axi";G7o+="s";h0R.fillStyle=V2P;T7Q.canvasFont(G7o,h0R);;}z2S.O2S(75);Z3C=z2S.z95(x87,x0y,q4d,u30,x87,t2_,q4d);h0R.fillText(F_I,u30,Z3C);if(j0o > q4d){z2S.O2S(3);u30-=z2S.m68("5",0);}else {u30+=5;}}h0R.textAlign=M0r;if(this.parameters.printValues){if(t2_ < r7R.width){K6S=this.valueFromPixel(x0y,r7R,I32);if(I32.priceFormatter){K6S=I32.priceFormatter(T7Q,r7R,K6S);}else {K6S=T7Q.formatYAxisPrice(K6S,r7R,null,I32);}if(h0R == T7Q.chart.context){T7Q.endClip();}T7Q.createYAxisLabel(r7R,K6S,x0y,this.getLineColor(null,!0),null,h0R,I32);if(h0R == T7Q.chart.context){T7Q.startClip(r7R.name);}}}C_k=q_9.color;if(C_k == "auto" || y9.isTransparent(C_k)){C_k=this.getLineColor();}o$U=q_9.color;if(o$U == "auto" || y9.isTransparent(o$U)){o$U=this.fillColor;}if(o$U == "auto" || y9.isTransparent(o$U)){o$U=T7Q.defaultColor;}h0R.fillStyle=o$U;if(this.parameters.printLevels){z2S.O2S(75);Z3C=z2S.m68(x87,x0y,q4d,u30,x87,t2_,q4d);}Z6e=y9.clone(q_9.parameters);if(this.highlighted){Z6e.opacity=1;}T7Q.plotLine(q4d,u30,x87,Z3C,C_k,M8U,h0R,r7R,Z6e);this.rays.push([[q4d,x87],[u30,Z3C]]);h0R.globalAlpha=0.05;h0R.beginPath();h0R.moveTo(u30,Z3C);h0R.lineTo(q4d,x87);h0R.lineTo(u30,x87);h0R.fill();h0R.globalAlpha=1;if(x0y < Y0v){Y0v=x0y;}if(x0y > F9U){F9U=x0y;}}for(var M9z=0;M9z <= 1;M9z++){r30=n8X?P5G - P3i * M9z:T1Q + P3i * M9z;r30=Math.round(r30);if(r30 < Y0v){Y0v=r30;}if(r30 > F9U){F9U=r30;}}if(this.highlighted){P7D="p";P7D+="1";j5b="p";j5b+="0";d8F=this.highlighted == j5b?!0:!({});S_H=this.highlighted == P7D?!!({}):!"1";this.littleCircle(h0R,q4d,x87,d8F);this.littleCircle(h0R,j0o,j00,S_H);}};y9.Drawing.fibtimezone=function(){var Z9z,r3R,N7V,y2$;Z9z="fib";Z9z+="timezone";z2S.M17();this.name=Z9z;r3R=819459965;N7V=320724975;y2$=2;for(var m_q=1;z2S.j$g(m_q.toString(),m_q.toString().length,"18930" >> 64) !== r3R;m_q++){;y2$+=2;}if(z2S.a9Z(y2$.toString(),y2$.toString().length,45275) !== N7V){;}};y9.inheritsFrom(y9.Drawing.fibtimezone,y9.Drawing.fibonacci);y9.Drawing.fibtimezone.prototype.render=function(n1T){var r0A,H$M,I$k,g_E,T0O,k6_,D_p,C1f,B5o,k5M,d1c,r7D,O0I,y4i,x4A,c5q,y07,M6N,L8K,e7b,A_W,D2Y,G_C,P4I;r0A="a";r0A+="ut";r0A+="o";z2S.M17();var {stx:Q11}=this;H$M=Q11.panels[this.panelName];I$k=Q11.getYAxisByField(H$M,this.field);if(!H$M || this.field && !I$k){return;}I$k=I$k || H$M.yAxis;if(!this.p1){return;}var {chart:b67, left:B58, width:b1q}=H$M;var {p0:Q50, p1:V14, parameters:v$t, highlighted:n05}=this;g_E=Q11.pixelFromTick(Q50[+"0"],b67);T0O=Q11.pixelFromTick(V14[0],b67);k6_=this.pixelFromValue(H$M,Q50[+"0"],Q50[1],I$k);D_p=this.pixelFromValue(H$M,V14[0],V14[+"1"],I$k);C1f=[1,0];B5o=this.getLineColor(v$t.trend.color);n1T.textBaseline="middle";Q11.canvasFont("stx_yaxis",n1T);k5M=20;d1c=this.p1[0] - this.p0[0];r7D=this.getLineColor();n1T.textAlign="center";O0I=g_E;y4i=0;var {top:Y14}=I$k;x4A=I$k.bottom;var {printLevels:S96, timezone:K22}=v$t;c5q=K22.color;if(c5q == "auto" || y9.isTransparent(c5q)){c5q=this.getLineColor();}y07=K22.color;if(y07 == r0A || y9.isTransparent(y07)){y07=this.fillColor;}if(y07 == "auto" || y9.isTransparent(y07)){y07=Q11.defaultColor;}if(S96){z2S.O2S(3);x4A-=z2S.m68(k5M,7);}M6N=y9.clone(v$t.timezone.parameters);if(n05){M6N.opacity=1;}while(!![]){L8K="s";L8K+="eg";L8K+="ment";O0I=Q11.pixelFromTick(Q50[+"0"] + y4i * d1c,b67);if(g_E < T0O && O0I > B58 + b1q || g_E > T0O && O0I < B58)break;if(S96){n1T.fillStyle=r7D;n1T.fillText(T0O > g_E?y4i:y4i * -1,O0I,x4A + 7);}n1T.fillStyle=y07;z2S.O2S(21);Q11.plotLine(O0I,O0I,z2S.z95("0",1),x4A,c5q,L8K,n1T,H$M,M6N);n1T.globalAlpha=0.05;n1T.beginPath();n1T.moveTo(g_E,Y14);n1T.lineTo(O0I,Y14);n1T.lineTo(O0I,x4A);n1T.lineTo(g_E,x4A);n1T.fill();n1T.globalAlpha=1;z2S.O2S(78);var J1z=z2S.m68(16,15,0,2,1);y4i=C1f["0" ^ 0] + C1f[J1z];C1f.unshift(y4i);if(!d1c)break;}n1T.textAlign="left";Q11.plotLine(g_E,T0O,k6_,D_p,B5o,"segment",n1T,H$M,M6N);if(this.highlighted){e7b="p";e7b+="1";A_W="p";A_W+="0";D2Y=n05 == A_W?!!1:!({});G_C=n05 == e7b?!0:!1;this.littleCircle(n1T,g_E,k6_,D2Y);this.littleCircle(n1T,T0O,D_p,G_C);}else {P4I=this.valueFromPixel(H$M.height / 2,H$M,I$k);this.setPoint(0,Q50[+"0"],P4I,b67);z2S.N94(25);this.setPoint(z2S.m68(1,"1"),V14[+"0"],P4I,b67);}};y9.Drawing.fibtimezone.prototype.intersected=function(T4X,W0o,j99){var M7I,Z3S,B56,k0v,U$$;M7I=this.p0;Z3S=this.p1;B56=this.stx.panels[this.panelName];if(!M7I || !Z3S || !B56){return null;}k0v={0:M7I,1:Z3S};for(var l9a in k0v){if(this.pointIntersection(k0v[l9a][+"0"],k0v[l9a][1],j99)){z2S.O2S(2);this.highlighted=z2S.m68(("8443" ^ 0,69.41) != (7309,6046)?"p":(536.23,!!""),l9a);return {action:"drag",point:"p" + l9a};}}U$$=this.lineIntersection(T4X,W0o,j99,"segment");if(U$$ || j99.x0 <= this.p0[0] && j99.x1 >= M7I[0]){this.highlighted=!"";return {action:"move",p0:y9.clone(M7I),p1:y9.clone(Z3S),tick:T4X,value:this.valueOnDrawingAxis(T4X,W0o)};}return null;};y9.Drawing.arrow_v0=function(){var U6F;U6F="ar";U6F+="r";U6F+="o";U6F+="w";this.name=U6F;this.dimension=[11,11];z2S.M17();this.points=[["M",3,0,162.59 < (9140,5560)?"L":("m",!"1"),7,0,(703.52,688) !== 9755?(8937,6925) >= ("7347" | 18,"3875" ^ 0)?"L":(4.10e+2,0x16eb):(957,921.28),7,5,"L",10,5,"8309" * 1 >= (51.14,1686)?"L":(1.98e+3,"3.35e+3" >> 64),5,+"10","L",0,5,(9978,3970) == (600.14,3304)?6.61e+2:(7920,+"1366") !== ("475.26" * 1,5640)?(3710,"361.1" - 0) <= (444.98,3236)?"L":"i":("i",!""),3,5,"1610" >> 0 != (8.52,"94.2" - 0)?7338 >= (635,7310)?"L":0x2032:(0x133f,609.09),3,0]];;};y9.inheritsFrom(y9.Drawing.arrow_v0,y9.Drawing.shape);y9.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];z2S.N94(25);this.points=[[(3381,802.01) == (8360,+"6336")?348.51:(21,2080) < (11.58,8854)?"M":7251 >= (5760,877.83)?0x1e7e:(7.35e+3,1.61e+3),z2S.m68(1,"1"),z2S.z95(0,"0",z2S.O2S(12)),(7417,+"6630") == 3797?![]:"L",3,+"2","L",5,0,5967 >= (6525,95.85)?846.54 > 329.89?"L":(718,624.18) == (180.31,7004)?0x1064:65.52:9.72e+3,6,1,"L",+"4",3,"L",6,5,(476.43,970) >= (5206,5868)?0x1ef7:481 >= (5224,1190)?(!!({}),+"0xe03"):"L",5,6,"L",3,z2S.z95(4,"4",z2S.O2S(25)),"L",+"1",6,(4220,907.92) <= (42.31,8520)?976.64 <= (2420,9802)?8310 === 5055?("V",+"141"):"L":(0x3e3,0x2263):(!![],"x"),0,5,"L",2,3,1510 <= 8740?("1840" << 0,2690) === 632.31?(5.00e+3,0x16b0):(+"6740",811.55) == 2367?0x13a8:"L":(8.22e+2,!""),+"0",1,"L",+"1",0]];;};y9.inheritsFrom(y9.Drawing.xcross,y9.Drawing.shape);y9.Drawing.check=function(){this.name="check";this.dimension=[8,9];z2S.O2S(12);this.points=[["M",1,5,(398.93,809.79) !== 3380?9300 >= ("7180" ^ 0,583.33)?"L":(0x1101,565.46):(0x1069,"568.87" * 1),0,6,(4510,3027) < (+"3070",2892)?!0:"L",2,8,(610.49,"773.43" * 1) != (614.42,7660)?57.98 !== (2344,412.81)?"L":("2.04e+3" << 64,"i"):(!![],!""),+"7",1,(39.91,2958) === 4980?8.42e+3:496 >= (3970,449.96)?"L":0x574,6,z2S.m68(32,"0"),"L",2,z2S.z95(2,"6",z2S.N94(25)),(351,"93.85" - 0) < (601.52,790.02)?(805.15,1460) < 5860?"L":"Z":"U",+"1",+"5"]];;};y9.inheritsFrom(y9.Drawing.check,y9.Drawing.shape);y9.Drawing.star=function(){var H57;H57="s";H57+="t";H57+="a";H57+="r";this.name=H57;z2S.N94(3);this.dimension=[z2S.z95("12",0),12];z2S.O2S(29);this.points=[["M",0,4,(134.41,6020) < +"590.25"?"k":"L",4,4,("9081" | 9,6740) != 3899?87 < 3650?"L":(5850,+"62") == 5150?("u",8.91e+2):"P":("49.18" * 1,"C"),5.5,0,"51.37" - 0 > (2443,6016)?("t",506.11):"4000" - 0 != (7030,7660)?"L":2824 != (+"6933",8270)?("o",!({})):(0x153,0x23b0),z2S.m68("7",0),+"4",(6210,83.79) != 293.6?"L":!![],11,4,8615 >= 453.81?"L":(+"0x15aa","919.98" - 0),8,7,+"238.76" < (6646,3990)?"L":(9260,+"4537") === (7727,1800)?(!!0,"A"):(172.28,276.73) < (6440,75.46)?("5.40e+3" ^ 0,!!""):("3.89e+3" << 64,5.99e+3),9,11,"L",5.5,z2S.z95(0,"9",z2S.O2S(25)),4229 == 3235?("V","f"):(+"8089","1202" - 0) >= (+"3830",+"6895")?("b",591.82):"L",+"2",11,"L",3,+"7","L",0,4]];;};y9.inheritsFrom(y9.Drawing.star,y9.Drawing.shape);y9.Drawing.heart=function(){var I0i;z2S.M17();I0i="he";I0i+="art";this.name=I0i;this.dimension=[+"23",20];z2S.O2S(21);this.points=[[788 >= (4845,875.92)?"e":"M",11,3,"B",11,2.4,10,0,6,+"0","B",+"0",0,0,7.5,0,7.5,(+"244",836.08) === (4210,178.45)?!0:"B",0,11,4,15.4,11,19,(187.79,"76.52" * 1) !== +"187.1"?435 == (6710,6320)?(9.21e+3,694.26):"B":("X",0x1fd0),18,z2S.z95("15.4",1),22,11,22,7.5,("731" >> 0,+"9066") === (4071,4910)?"9790" >> 64 === ("675.38" - 0,347)?!!({}):("1.51e+2" << 32,830.87):"B",z2S.z95(22,"22",z2S.N94(25)),7.5,22,z2S.z95("0",0,z2S.N94(3)),16,0,(4660,+"2822") == (+"272.48",9270)?"0xe47" ^ 0:"B",13,0,z2S.z95(10,"11",z2S.N94(25)),z2S.z95("2.4",1,z2S.O2S(21)),11,+"3"]];;};y9.inheritsFrom(y9.Drawing.heart,y9.Drawing.shape);y9.Drawing.focusarrow=function(){var P62;P62="f";P62+="oc";P62+="usarro";z2S.M17();P62+="w";this.name=P62;this.dimension=[7,5];this.points=[["M",+"0",0,(+"1995",125) === +"492.07"?4770 == (+"2479",441.33)?(+"0x1f5",632.33):(4.98e+3,0x24ad):"L",2,2,"L",0,4,"L",0,0],["M",6,0,(9351,415) < 422.44?"L":6.37e+3,4,2,(6340,8382) != 182.79?"L":"P",6,4,222 == 210.63?("G","z"):(1430,9448) == 3844?112.17:(+"822.83",+"156") != (26.9,"8430" - 0)?"L":(0x312,"0xc17" * 1),6,0]];;};y9.inheritsFrom(y9.Drawing.focusarrow,y9.Drawing.shape);y9.Drawing.crossline=function(){z2S.Y0_();this.name="crossline";};y9.inheritsFrom(y9.Drawing.crossline,y9.Drawing.horizontal);y9.extend(y9.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(y9t,U_y){z2S.M17();return !"1";},adjust:function(){var u0D;u0D=this.stx.panels[this.panelName];if(!u0D){return;}z2S.M17();this.setPoint(+"0",this.d0,this.v0,u0D.chart);this.p1=y9.clone(this.p0);},intersected:function(k5f,Z0S,F3U){z2S.M17();var G0U,K0m,x9a,Z2s;if(!this.p0 || !this.p1){return null;}this.p1[+"0"]+=1;G0U=this.lineIntersection(k5f,Z0S,F3U,"line");this.p1=y9.clone(this.p0);if(!G0U){this.p1[1]+=1;G0U=this.lineIntersection(k5f,Z0S,F3U,"line");this.p1=y9.clone(this.p0);if(!G0U){return null;}}this.highlighted=!!({});if(this.pointIntersection(this.p0[0],this.p0[1],F3U)){z2S.O2S(3);K0m=z2S.z95("220379096",0);x9a=186410085;Z2s=2;for(var G6p="1" | 1;z2S.a9Z(G6p.toString(),G6p.toString().length,+"83050") !== K0m;G6p++){this.highlighted="";Z2s+=2;}if(z2S.j$g(Z2s.toString(),Z2s.toString().length,19750) !== x9a){this.highlighted="p0";}}return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:k5f,value:this.valueOnDrawingAxis(k5f,Z0S)};},render:function(G1g){var u0Y,D_f,n4w,B_D,X7f,f95,Q$z,p0a,T0h,v34,A8y,g9B,r1m,J$I,y1i,f7j,v6I,I8o,W9s,A$H;u0Y="v";u0Y+="ert";u0Y+="ic";u0Y+="al";D_f=this.stx;n4w=D_f.panels[this.panelName];B_D=D_f.getYAxisByField(n4w,this.field);if(!n4w || this.field && !B_D){return;}B_D=B_D || n4w.yAxis;X7f=D_f.pixelFromTick(this.p0[0],n4w.chart);f95=this.pixelFromValue(n4w,this.p0[+"0"],this.p0[1],B_D);Q$z=this.getLineColor();p0a={pattern:this.pattern,lineWidth:this.lineWidth};z2S.O2S(79);D_f.plotLine(X7f,z2S.m68("100",X7f),f95,f95,Q$z,"horizontal",G1g,n4w,p0a);z2S.N94(80);D_f.plotLine(X7f,X7f,f95,z2S.z95("100",f95,96),Q$z,u0Y,G1g,n4w,p0a);if(this.axisLabel && !this.repositioner){D_f.endClip();T0h=this.p0[1];if(n4w.chart.transformFunc){T0h=n4w.chart.transformFunc(D_f,n4w.chart,T0h);}if(B_D.priceFormatter){T0h=B_D.priceFormatter(D_f,n4w,T0h);}else {T0h=D_f.formatYAxisPrice(T0h,n4w,null,B_D);}D_f.createYAxisLabel(n4w,T0h,f95,Q$z,null,null,B_D);D_f.startClip(n4w.name);if(this.p0[0] >= 0 && !D_f.chart.xAxis.noDraw){v34=D_f.dateFromTick(this.p0[0],n4w.chart,!"");if(!y9.ChartEngine.isDailyInterval(D_f.layout.interval)){z2S.O2S(2);var u2G=z2S.m68(63,937);g9B=v34.getSeconds() * u2G + v34.getMilliseconds();if(L5.Date && D_f.displayZone){A8y=new L5.Date(v34.getTime(),D_f.displayZone);v34=new Date(A8y.getFullYear(),A8y.getMonth(),A8y.getDate(),A8y.getHours(),A8y.getMinutes());r1m=1872917995;J$I=-1301829974;y1i=2;for(var B$G=1;z2S.j$g(B$G.toString(),B$G.toString().length,228) !== r1m;B$G++){v34=new Date(v34.getTime() + g9B);y1i+=2;}if(z2S.j$g(y1i.toString(),y1i.toString().length,67464) !== J$I){v34=new Date(v34.getTime() % g9B);}}}else {v34.setHours(0,0,+"0",0);}f7j=y9.mmddhhmm(y9.yyyymmddhhmm(v34));if(n4w.chart.xAxis.formatter){f7j=n4w.chart.xAxis.formatter(v34,this.name,null,null,f7j);}else if(this.stx.internationalizer){v6I=1871831347;I8o=2057164808;W9s=2;for(var n_c="1" * 1;z2S.a9Z(n_c.toString(),n_c.toString().length,62849) !== v6I;n_c++){f7j=y9.displayableDate(D_f,D_f.chart,v34);W9s+=2;}if(z2S.a9Z(W9s.toString(),W9s.toString().length,88684) !== I8o){f7j=y9.displayableDate(D_f,D_f.chart,v34);}}D_f.endClip();D_f.createXAxisLabel({panel:n4w,txt:f7j,x:X7f,backgroundColor:Q$z,color:null,pointed:!![],padding:2});D_f.startClip(n4w.name);}}if(this.highlighted){A$H=this.highlighted == "p0"?!![]:!({});this.littleCircle(G1g,X7f,f95,A$H);}}},!![]);y9.Drawing.speedarc=function(){z2S.Y0_();this.name="speedarc";this.printLevels=!!({});};y9.inheritsFrom(y9.Drawing.speedarc,y9.Drawing.segment);y9.extend(y9.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor",w4e,"pattern"],copyConfig:function(){var u8b;u8b=this.stx.currentVectorParameters;this.color=u8b.currentColor;this.fillColor=u8b.fillColor;this.lineWidth=u8b.lineWidth;this.pattern=u8b.pattern;},intersected:function(U8w,o9c,W$B){var q_J,J4I,I9w,T$H,v2l,l_H,T25;if(!this.p0 || !this.p1){return null;}q_J={0:this.p0,1:this.p1};z2S.Y0_();for(var l9d in q_J){if(this.pointIntersection(q_J[l9d][0],q_J[l9d][1],W$B)){z2S.N94(2);this.highlighted=z2S.m68("p",l9d);return {action:"drag",point:((7781,1204) <= 31.41?"H":(610,1169) !== (4454,9160)?9810 == ("5742" | 14,952.42)?(0x4da,"a"):"p":("r",!({}))) + l9d};}}J4I=this.valueOnDrawingAxis(U8w,o9c);I9w=this.lineIntersection(U8w,o9c,W$B,this.name);if(I9w){this.highlighted=!!1;return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:U8w,value:J4I};}T$H=this.p1[0] - (this.p0[0] - this.p1[+"0"]);v2l=this.p0[0];l_H=this.p1[1];T25=this.p0[1];if(U8w > Math.max(T$H,v2l) || U8w < Math.min(T$H,v2l)){return null;}if(J4I > Math.max(T25,l_H) || J4I < Math.min(T25,l_H)){return null;}this.highlighted=!![];return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:U8w,value:J4I};},render:function(m37){var p4p,F73,r3u,I2i,v1w,K2P,B72,Y2Y,N1d,R6w,i$4,X16,E1n,O7k,E_W,f2t,L8n,g_n,o3q,j8X,q1Q,g9V;p4p="s";p4p+="egme";p4p+="n";p4p+="t";F73="l";F73+="e";F73+="f";F73+="t";r3u=this.stx;I2i=r3u.panels[this.panelName];v1w=r3u.getYAxisByField(I2i,this.field);if(!I2i || this.field && !v1w){return;}v1w=v1w || I2i.yAxis;if(!this.p1){return;}K2P=r3u.pixelFromTick(this.p0[0],I2i.chart);B72=r3u.pixelFromTick(this.p1[+"0"],I2i.chart);Y2Y=this.pixelFromValue(I2i,this.p0[+"0"],this.p0[1],v1w);N1d=this.pixelFromValue(I2i,this.p1[0],this.p1[1],v1w);z2S.N94(68);R6w=z2S.m68(Y2Y,N1d);z2S.O2S(69);i$4=Math.abs(z2S.z95(Y2Y,N1d,B72,K2P));X16=this.getLineColor();m37.strokeStyle=X16;E1n=this.fillColor;if(E1n == "auto" || y9.isTransparent(E1n)){E1n=r3u.defaultColor;}m37.fillStyle=E1n;if(m37.setLineDash){m37.setLineDash(y9.borderPatternToArray(this.lineWidth,this.pattern));m37.lineDashOffset=+"0";;}r3u.canvasFont("stx_yaxis",m37);for(var M2a=+"1";M2a < +"3";M2a++){z2S.O2S(3);var a4v=z2S.z95(1,0);z2S.O2S(81);var p1K=z2S.z95(23,3,0,8,18);O7k=Math.abs(this.p1[a4v] - this.p0[p1K]) * Math.sqrt(+"2") * M2a / +"3";z2S.O2S(3);var z2Y=z2S.m68(20,19);z2S.O2S(2);var z29=z2S.z95(0,1);z2S.N94(82);var g9v=z2S.m68(1,5,4,14,279);z2S.O2S(20);var p0B=z2S.m68(10,9);E_W=this.p1[z2Y] + O7k * (R6w?-("1" * z29):+"1") * (v1w.flipped?g9v:p0B);f2t=this.pixelFromValue(I2i,this.p0[0],E_W,v1w);m37.save();m37.beginPath();z2S.N94(10);m37.scale(z2S.z95(1,i$4),1);z2S.N94(21);m37.arc(z2S.z95(B72,i$4),N1d,Math.abs(f2t - N1d),0,Math.PI,!R6w);m37.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){m37.stroke();}m37.globalAlpha=0.1;m37.fill();m37.restore();z2S.O2S(25);m37.globalAlpha=z2S.z95(0,"1");if(this.printLevels){L8n="ce";L8n+="n";L8n+="ter";m37.fillStyle=X16;m37.textAlign=L8n;z2S.N94(2);g_n=z2S.z95(M2a,"/3");m37.fillText(g_n,B72,Math.round(f2t - ("5" << 32)));m37.fillStyle=E1n;}}z2S.Y0_();m37.textAlign=F73;o3q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};r3u.plotLine(K2P,B72,Y2Y,N1d,X16,p4p,m37,I2i,o3q);if(m37.setLineDash){m37.setLineDash([]);}if(this.highlighted){j8X="p";j8X+="0";q1Q=this.highlighted == j8X?!![]:!({});g9V=this.highlighted == "p1"?!!({}):!({});this.littleCircle(m37,K2P,Y2Y,q1Q);this.littleCircle(m37,B72,N1d,g9V);}},reconstruct:function(I0d,q2D){this.stx=I0d;this.color=q2D.col;this.fillColor=q2D.fc;this.panelName=q2D.pnl;this.pattern=q2D.ptrn;this.lineWidth=q2D.lw;this.d0=q2D.d0;this.d1=q2D.d1;this.tzo0=q2D.tzo0;this.tzo1=q2D.tzo1;this.v0=q2D.v0;z2S.Y0_();this.v1=q2D.v1;this.field=q2D.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},!!"1");y9.Drawing.speedline=function(){this.name="speedline";this.printLevels=!!1;};y9.inheritsFrom(y9.Drawing.speedline,y9.Drawing.speedarc);y9.extend(y9.Drawing.speedline.prototype,{intersected:function(X6H,L69,d0e){var r$9,H8d,s5S,I$c,c$N,A5T,Z8r;r$9=this.p0;H8d=this.p1;if(!r$9 || !H8d){return null;}s5S={0:r$9,1:H8d};for(var S$e in s5S){if(this.pointIntersection(s5S[S$e][0],s5S[S$e][1],d0e)){z2S.N94(2);this.highlighted=z2S.z95("p",S$e);return {action:"drag",point:((7333,5700) === (+"788.3",986.2)?0x245d:"p") + S$e};}}I$c=this.rays;for(var Q7$=0;Q7$ < I$c.length;Q7$++){if(this.lineIntersection(X6H,L69,d0e,"ray",I$c[Q7$][0],I$c[Q7$][1],!!"1")){this.highlighted=!![];return {action:"move",p0:y9.clone(r$9),p1:y9.clone(H8d),tick:X6H,value:this.valueOnDrawingAxis(X6H,L69)};}}c$N=-830819428;A5T=-+"1275021036";Z8r=2;for(var e1A=1;z2S.j$g(e1A.toString(),e1A.toString().length,80864) !== c$N;e1A++){return 1;}if(z2S.j$g(Z8r.toString(),Z8r.toString().length,18518) !== A5T){return null;}},render:function(u4a){var p7r,E_T,B_$,d4B,k$V,X97,x5g,J8q,L_o,O6f,j3H,U_J,b1_,a_t,v1u,X2k,B$5,Q6X,g1Q,X5T,F3h,d1t,I_0,Y34,f9w,f6j,O21;p7r="3";p7r+="/";p7r+="2";E_T="1";E_T+="/";E_T+="3";B_$=this.stx;d4B=B_$.panels[this.panelName];k$V=B_$.getYAxisByField(d4B,this.field);if(!d4B || this.field && !k$V){return;}if(!this.p1){return;}X97=B_$.pixelFromTick(this.p0[0],d4B.chart);x5g=B_$.pixelFromTick(this.p1["0" * 1],d4B.chart);J8q=this.pixelFromValue(d4B,this.p0[+"0"],this.p0[1],k$V);L_o=this.pixelFromValue(d4B,this.p1[0],this.p1[1],k$V);B_$.canvasFont("stx_yaxis",u4a);O6f=this.getLineColor();u4a.strokeStyle=O6f;j3H=this.fillColor;if(j3H == "auto" || y9.isTransparent(j3H)){j3H=B_$.defaultColor;}u4a.fillStyle=j3H;U_J={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};v1u=[(906.27,15.7) < (5520,1140)?"1":(305.42,2677) >= 387?160 <= (218.68,"9530" << 32)?!"":(8.63e+3,"8.45e+3" ^ 0):888.23,"2/3",E_T,p7r,"3"];z2S.O2S(83);X2k=[1,z2S.z95(64,"2","3"),z2S.z95("3",1,z2S.O2S(84)),z2S.m68(3,2,z2S.O2S(10)),+"3"];B$5=[];this.rays=[];for(var R49=0;R49 < X2k.length;R49++){Q6X=X2k[R49];if(Q6X > +"1" && !this.extension)continue;g1Q=this.pixelFromValue(d4B,this.p0[0],this.p0[1] - (this.p0[1] - this.p1["1" << 0]) * Q6X,k$V);if(Q6X > 1){X5T=y9.xIntersection({x0:X97,x1:x5g,y0:J8q,y1:g1Q},L_o);B$5.push(X5T);}else {X5T=y9.xIntersection({x0:x5g,x1:x5g,y0:J8q,y1:L_o},g1Q);B$5.push(g1Q);}F3h=Q6X > 1?X5T:x5g;d1t=Q6X > 1?L_o:g1Q;if(!this.confineToGrid){F3h=d4B.left;if(x5g > X97){F3h+=d4B.width;}z2S.N94(75);d1t=z2S.m68(J8q,g1Q,X97,F3h,J8q,x5g,X97);}if(this.printLevels){if(Q6X != "1" - 0 || this.extension){u4a.fillStyle=O6f;I_0=0;Y34=0;if(J8q > L_o){z2S.N94(12);Y34=-z2S.z95(0,"5");u4a.textBaseline="bottom";}else {Y34=+"5";u4a.textBaseline="top";}if(X97 > x5g){I_0=+"5";u4a.textAlign="right";}else {f9w="l";f9w+="e";f9w+="f";f9w+="t";I_0=-5;u4a.textAlign=f9w;}if(Q6X > 1){u4a.fillText(v1u[R49],X5T + (this.confineToGrid?0:I_0),L_o);}else {u4a.fillText(v1u[R49],x5g,g1Q + (this.confineToGrid?0:Y34));}u4a.fillStyle=j3H;}}B_$.plotLine(X97,F3h,J8q,d1t,O6f,"segment",u4a,d4B,U_J);if(Q6X == +"1"){b1_=F3h;a_t=d1t;}this.rays.push([[X97,J8q],[F3h,d1t]]);z2S.O2S(21);u4a.globalAlpha=z2S.m68("0.1",1);u4a.beginPath();u4a.moveTo(F3h,d1t);u4a.lineTo(X97,J8q);u4a.lineTo(b1_,a_t);u4a.fill();u4a.globalAlpha=1;}u4a.textAlign="left";u4a.textBaseline="middle";if(this.confineToGrid){z2S.O2S(21);u4a.globalAlpha=z2S.z95("0.3",1);u4a.beginPath();z2S.N94(3);u4a.strokeRect(X97,J8q,z2S.m68(x5g,X97),z2S.m68(L_o,J8q));u4a.moveTo(X97,B$5[1]);u4a.lineTo(x5g,B$5[1]);u4a.moveTo(X97,B$5[2]);u4a.lineTo(x5g,B$5[2]);if(this.extension){u4a.moveTo(B$5[3],J8q);u4a.lineTo(B$5[3],L_o);u4a.moveTo(B$5[4],J8q);u4a.lineTo(B$5[4],L_o);}u4a.stroke();u4a.globalAlpha=1;}if(this.highlighted){f6j=this.highlighted == "p0"?!![]:![];O21=this.highlighted == "p1"?!"":!({});this.littleCircle(u4a,X97,J8q,f6j);this.littleCircle(u4a,x5g,L_o,O21);}}},!!({}));y9.Drawing.gannfan=function(){z2S.Y0_();this.name="gannfan";this.printLevels=!!1;};y9.inheritsFrom(y9.Drawing.gannfan,y9.Drawing.speedline);y9.extend(y9.Drawing.gannfan.prototype,{render:function(W_W){var d4W,z2U,U9M,b7l,j$B,p$O,p5e,G$p,b99,d9M,j5_,j2z,t_C,Q6F,A8A,l1s,r_L,u9Y,e6Y,S1Q,w5j,p57,Y8N,K9s,w$e;d4W="stx_yax";d4W+="i";d4W+="s";z2U=this.stx;U9M=z2U.panels[this.panelName];b7l=z2U.getYAxisByField(U9M,this.field);z2S.M17();if(!U9M || this.field && !b7l){return;}if(!this.p1){return;}j$B=z2U.pixelFromTick(this.p0[+"0"],U9M.chart);p$O=z2U.pixelFromTick(this.p1[0],U9M.chart);p5e=this.pixelFromValue(U9M,this.p0[0],this.p0[+"1"],b7l);G$p=this.pixelFromValue(U9M,this.p1[0],this.p1[+"1"],b7l);z2U.canvasFont(d4W,W_W);b99=this.getLineColor();W_W.strokeStyle=b99;d9M=this.fillColor;if(d9M == "auto" || y9.isTransparent(d9M)){d9M=z2U.defaultColor;}W_W.fillStyle=d9M;j5_={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};z2S.N94(84);Q6F=[1,2,3,4,8,z2S.z95("2",1),z2S.m68(1,3,z2S.O2S(10)),z2S.m68("4",1,z2S.N94(84)),z2S.m68(1,8,z2S.N94(10))];this.rays=[];for(var H1c="0" ^ 0;H1c < Q6F.length;H1c++){A8A=Q6F[H1c];z2S.O2S(85);l1s=z2S.m68(j$B,j$B,A8A,p$O);z2S.N94(86);r_L=z2S.m68(p5e,A8A,p5e,G$p);u9Y=U9M.left;if(p$O > j$B){u9Y+=U9M.width;}z2S.N94(75);e6Y=z2S.m68(p5e,r_L,j$B,u9Y,p5e,p$O,j$B);if(this.printLevels){W_W.fillStyle=b99;S1Q=0;w5j=0;if(p5e > G$p){w5j=5;W_W.textBaseline="top";}else {p57="bot";p57+="tom";w5j=-5;W_W.textBaseline=p57;}if(j$B > p$O){S1Q=5;W_W.textAlign="left";}else {S1Q=-5;W_W.textAlign="right";}if(A8A > 1){z2S.N94(2);W_W.fillText(z2S.z95(A8A,"x1"),z2S.m68(l1s,S1Q),G$p);}else {z2S.N94(53);W_W.fillText(z2S.z95("1x",A8A,1),p$O,z2S.m68(r_L,w5j,z2S.N94(2)));}W_W.fillStyle=d9M;}z2U.plotLine(j$B,u9Y,p5e,e6Y,b99,"segment",W_W,U9M,j5_);this.rays.push([[j$B,p5e],[u9Y,e6Y]]);if(A8A == 1){j2z=u9Y;t_C=e6Y;}W_W.globalAlpha=0.1;W_W.beginPath();W_W.moveTo(u9Y,e6Y);W_W.lineTo(j$B,p5e);W_W.lineTo(j2z,t_C);W_W.fill();W_W.globalAlpha=1;}W_W.textAlign="left";W_W.textBaseline="middle";if(this.highlighted){Y8N="p";Y8N+="1";K9s=this.highlighted == "p0"?!!({}):!({});w$e=this.highlighted == Y8N?!!"1":!({});this.littleCircle(W_W,j$B,p5e,K9s);this.littleCircle(W_W,p$O,G$p,w$e);}}},!!({}));y9.Drawing.timecycle=function(){z2S.Y0_();this.name="timecycle";this.printLevels=!![];};y9.inheritsFrom(y9.Drawing.timecycle,y9.Drawing.speedarc);y9.extend(y9.Drawing.timecycle.prototype,{intersected:function(V5r,n4V,i0z){var P8d,q_m,J54,m1R,X1j;P8d=this.p0;q_m=this.p1;J54=this.stx.panels[this.panelName];if(!P8d || !q_m || !J54){return null;}z2S.M17();m1R={0:P8d,1:q_m};for(var F3z in m1R){if(this.pointIntersection(m1R[F3z][0],m1R[F3z][1],i0z)){z2S.O2S(2);this.highlighted=z2S.m68(856.36 !== (7580,9890)?"p":(4.31e+3,!!""),F3z);return {action:"drag",point:"p" + F3z};}}X1j=this.lineIntersection(V5r,n4V,i0z,"segment");if(X1j || i0z.x0 <= this.p0[0] && i0z.x1 >= P8d[0]){this.highlighted=!"";return {action:"move",p0:y9.clone(P8d),p1:y9.clone(q_m),tick:V5r,value:this.valueOnDrawingAxis(V5r,n4V)};}return null;},render:function(W6D){var C0O,J5N,Y3R,Q$L,A7s,u9b,N_V,S51,E1Z,f7k,i74,p55,M3P,m9v,U_j,k5X,S1G,Y_f,P8D,J1B,Q0v,c1t,H2f,r_E,t1f,H0N;C0O="a";C0O+="u";C0O+="to";J5N="m";J5N+="iddle";Y3R=this.stx;Q$L=Y3R.panels[this.panelName];A7s=Y3R.getYAxisByField(Q$L,this.field);if(!Q$L || this.field && !A7s){return;}A7s=A7s || Q$L.yAxis;if(!this.p1){return;}u9b=Y3R.pixelFromTick(this.p0[0],Q$L.chart);N_V=Y3R.pixelFromTick(this.p1[0],Q$L.chart);S51=this.pixelFromValue(Q$L,this.p0[0],this.p0[1],A7s);E1Z=this.pixelFromValue(Q$L,this.p1[+"0"],this.p1[1],A7s);z2S.M17();f7k=0;W6D.textBaseline=J5N;Y3R.canvasFont("stx_yaxis",W6D);z2S.O2S(21);i74=z2S.z95("20",1);p55=this.p1[0] - this.p0[0];W6D.textAlign="center";M3P=u9b;m9v=A7s.top;U_j=A7s.bottom;k5X=this.getLineColor();S1G=this.fillColor;if(S1G == C0O || y9.isTransparent(S1G)){S1G=Y3R.defaultColor;}if(this.printLevels){z2S.N94(3);U_j-=z2S.z95(i74,7);}Y_f={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};P8D=[];W6D.save();W6D.fillStyle=S1G;z2S.O2S(3);W6D.globalAlpha=z2S.z95("0.05",0);while(!![]){M3P=Y3R.pixelFromTick(this.p0[0] + f7k * p55,Q$L.chart);f7k++;if(u9b < N_V && M3P > Q$L.left + Q$L.width)break;else if(u9b > N_V && M3P < Q$L.left)break;else if(M3P < Q$L.left || M3P > Q$L.left + Q$L.width)continue;W6D.beginPath();W6D.moveTo(u9b,m9v);W6D.lineTo(M3P,m9v);W6D.lineTo(M3P,U_j);W6D.lineTo(u9b,U_j);W6D.fill();P8D.push({c:f7k,x:M3P});if(!p55)break;}z2S.O2S(21);W6D.globalAlpha=z2S.z95("1",1);z2S.N94(25);J1B=z2S.z95(0,"0");for(var T9u=0;T9u < P8D.length;T9u++){Y3R.plotLine(P8D[T9u].x,P8D[T9u].x,0,U_j,k5X,"segment",W6D,Q$L,Y_f);if(this.printLevels){W6D.fillStyle=k5X;Q0v=Y3R.chart.context.measureText(P8D[T9u].c).width + ("3" ^ 0);if(Q0v < Y3R.layout.candleWidth + J1B){W6D.fillText(P8D[T9u].c,P8D[T9u].x,U_j + +"7");J1B=0;}else {J1B+=Y3R.layout.candleWidth;}}}W6D.restore();W6D.textAlign="left";Y3R.plotLine(u9b,N_V,S51,E1Z,k5X,"segment",W6D,Q$L,Y_f);if(this.highlighted){c1t="p";c1t+="1";H2f="p";H2f+="0";r_E=this.highlighted == H2f?!!1:!({});t1f=this.highlighted == c1t?!!({}):!!0;this.littleCircle(W6D,u9b,S51,r_E);this.littleCircle(W6D,N_V,E1Z,t1f);}else {H0N=this.valueFromPixel(Q$L.height / 2,Q$L,A7s);this.setPoint(0,this.p0[+"0"],H0N,Q$L.chart);this.setPoint(1,this.p1[0],H0N,Q$L.chart);}}},!0);y9.Drawing.regression=function(){z2S.Y0_();var S4g;S4g="regr";S4g+="essi";S4g+="on";this.name=S4g;};y9.inheritsFrom(y9.Drawing.regression,y9.Drawing.segment);y9.extend(y9.Drawing.regression.prototype,{configs:[e7S,"lineWidth","pattern","active1","color1","lineWidth1","pattern1","active2","color2",h2Q,"pattern2","active3","color3",x3P,"pattern3"],copyConfig:function(S0L){var p2k,X$Y,X69;p2k="a";p2k+="uto";X$Y="au";X$Y+="t";X$Y+="o";y9.Drawing.copyConfig(this,S0L);X69=this.stx.currentVectorParameters;this.active1=!!X69.active1;this.active2=!!X69.active2;this.active3=!!X69.active3;this.color1=X69.color1 || "auto";this.color2=X69.color2 || X$Y;this.color3=X69.color3 || p2k;this.lineWidth1=X69.lineWidth1;this.lineWidth2=X69.lineWidth2;this.lineWidth3=X69.lineWidth3;this.pattern1=X69.pattern1;this.pattern2=X69.pattern2;this.pattern3=X69.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]',A__,D2g],click:function(F$R,p7e,s$Z){var H2C,s9C;if(p7e < 0){return;}this.copyConfig();H2C=this.stx;s9C=H2C.panels[this.panelName];if(!this.penDown){this.setPoint(0,p7e,s$Z,s9C.chart);if(!this.isAllowed(H2C,this.field)){H2C.undo();return !!({});}this.penDown=!!({});return ![];}if(this.accidentalClick(p7e,s$Z)){return !!1;}z2S.M17();this.setPoint(1,p7e,s$Z,s9C.chart);this.penDown=!"1";return !!({});;},getYValue:function(x3r){var q97,N6_,J9M,k9P,Y5p,w_N,v4H,e8z;q97=this.stx;N6_=q97.chart.dataSet[x3r];J9M=q97.chart.dataSet[x3r];if(!N6_){return null;}k9P=q97.panels[this.panelName];Y5p=q97.getYAxisByField(k9P,this.field) || k9P.yAxis;if(q97.charts[k9P.name] && k9P.chart.transformFunc && Y5p == k9P.yAxis){J9M=N6_.transform;}if(!J9M){return null;}w_N=null;v4H=null;e8z=q97.defaultPlotField || "Close";if(this.field){v4H=y9.existsInObjectChain(J9M,this.field);if(!v4H){return null;}w_N=v4H=v4H.obj[v4H.member];if(N6_ != J9M){w_N=y9.existsInObjectChain(N6_,this.field);w_N=w_N.obj[w_N.member];}if(typeof v4H == "object"){v4H=v4H[e8z];w_N=w_N[e8z];}}else {v4H=J9M[e8z];w_N=N6_[e8z];}z2S.Y0_();return {transformed:v4H,untransformed:w_N};},render:function(y$K){var E_L,h0$,H6A,x1m,x7j,P_z,J$V,n6L,p7l,E8$,p5r,U6x,v4Z,e9s,D0m,I87,M2y,h28,T28,d$e,n3a,n0m,o18,c_B,T4P,K_8,e0O,q_1,M_F,h4w,t5i,A3E,O$6,e2W,r2u,t33,C0F,b$Z,o3J;E_L=this.stx;h0$=E_L.panels[this.panelName];H6A=E_L.getYAxisByField(h0$,this.field);if(!h0$ || this.field && !H6A){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < +"0"){return;}x1m=E_L.pixelFromTick(this.p0[0],h0$.chart);x7j=E_L.pixelFromTick(this.p1[0],h0$.chart);if(x1m < h0$.left && x7j < h0$.left){return;}if(x1m > h0$.right && x7j > h0$.right){return;}P_z=[];J$V=[];n6L=0;p7l=0;E8$=0;p5r=0;U6x=Math.min(this.p1["0" * 1],this.p0[0]);z2S.O2S(3);var b_6=z2S.m68(20,19);v4Z=Math.max(this.p1[0],this.p0[0]) + b_6;z2S.N94(3);e9s=z2S.m68(v4Z,U6x);for(var o6K=U6x;o6K < v4Z;o6K++){D0m=this.getYValue(o6K);if(D0m){P_z.push(D0m.transformed);J$V.push(D0m.untransformed);}}I87=P_z.length;z2S.N94(87);M2y=z2S.m68("1",2,I87,I87);h28=Math.pow(M2y,2);z2S.N94(88);T28=z2S.z95(2,I87,1,M2y,3);for(o6K=0;o6K < I87;o6K++){E8$+=I87 * P_z[o6K] - n6L;n6L+=P_z[o6K];p5r+=I87 * J$V[o6K] - p7l;p7l+=J$V[o6K];}z2S.O2S(89);d$e=z2S.m68(I87,I87,T28,M2y,n6L,h28,E8$);z2S.N94(90);n3a=z2S.z95(d$e,n6L,M2y,I87);z2S.O2S(89);n0m=z2S.z95(I87,I87,T28,M2y,p7l,h28,p5r);z2S.N94(90);o18=z2S.m68(d$e,p7l,M2y,I87);if(this.p0[0] < this.p1[0]){c_B=n3a;z2S.O2S(91);T4P=z2S.m68(n3a,d$e,e9s);this.p0[1]=o18;z2S.N94(91);this.p1[1]=z2S.m68(o18,n0m,e9s);}else {z2S.O2S(91);c_B=z2S.z95(n3a,d$e,e9s);T4P=n3a;z2S.N94(91);this.p0[1]=z2S.m68(o18,n0m,e9s);z2S.O2S(12);this.p1[z2S.z95(64,"1")]=o18;}K_8=E_L.pixelFromTransformedValue(c_B,h0$,H6A);e0O=E_L.pixelFromTransformedValue(T4P,h0$,H6A);q_1=this.getLineColor();M_F={pattern:this.pattern,lineWidth:this.lineWidth};E_L.plotLine(x1m,x7j,K_8,e0O,q_1,"segment",y$K,h0$,M_F);z2S.O2S(17);E_L.plotLine(x1m,x1m,z2S.m68("20",K_8),z2S.z95(K_8,20,z2S.O2S(2)),q_1,"segment",y$K,h0$,M_F);z2S.O2S(3);E_L.plotLine(x7j,x7j,z2S.z95(e0O,20),z2S.z95(e0O,20,z2S.N94(2)),q_1,"segment",y$K,h0$,M_F);if(this.active1 || this.active2 || this.active3){z2S.O2S(10);h4w=z2S.z95(n6L,I87);t5i=0;for(o6K=0;o6K < I87;o6K++){t5i+=Math.pow(P_z[o6K] - h4w,"2" - 0);}z2S.O2S(10);A3E=Math.sqrt(z2S.z95(t5i,I87));O$6={context:y$K,panel:h0$,points:{0:{x:x1m,v:c_B},1:{x:x7j,v:T4P}},stddev:A3E,yAxis:H6A};this.lines={};if(this.active1){this.renderStddev(7530 < +"296.47"?9.17e+3:(665.37,6176) <= (+"814.89",94.81)?("283.04" - 0,"V"):(3600,"4090" >> 32) == (1590,8150)?("751.65" * 1,699.99):"1",(+"216.66",7739) > (521.22,102.5)?(1170,407.58) != ("997" << 0,396.7)?"p":(!!"1",0x1abf):+"2.40e+1",O$6);e2W=-804939062;z2S.N94(12);r2u=-z2S.z95(96,"1174090525");t33=2;for(var Y_G=1;z2S.j$g(Y_G.toString(),Y_G.toString().length,94135) !== e2W;Y_G++){this.renderStddev(("137148" - 0,5254) <= (142679,+"507294")?(0xf7e,475):"n",+"4965" < "733086" >> 32?8212 > (753084,3185)?(31251,"5300" ^ 0) == +"8020"?("J","7341074" >> 32):"J":"3593929" << 64:"n",O$6);t33+=2;}if(z2S.a9Z(t33.toString(),t33.toString().length,39631) !== r2u){this.renderStddev((224989,7973) < (786005,948463)?(+"0xf84",508):"J",1114 > +"969172"?6965 <= (531048,"2116" ^ 0)?(16265,6639) != 2143?("J",8120737):"J":1546210:"J",O$6);}this.renderStddev((995.87,6556) < (720.05,779.11)?(0x237,796):"1",4270 <= "284.23" - 0?1110 <= (+"112.68",5494)?(95.31,"4217" << 0) != 8.37?("J",1.49e+3):"J":6.47e+3:"n",O$6);}if(this.active2){this.renderStddev("2",8080 === 369.96?(1.13e+3,3.09e+3):"p",O$6);this.renderStddev((2232,4792) == (992.57,2823)?(+"9.13e+3","C"):(+"3380",723.49) > 424?"2":("m",269),("2777" ^ 0,6605) > 3294?(829,191.88) !== (2882,216)?"n":(!"",0x543):(0x11cf,7.51e+3),O$6);}if(this.active3){this.renderStddev("3",(8090,7610) < 3709?(861.94,323.67):"p",O$6);this.renderStddev(3933 != 743?"3":(752,7120) != (578.07,8850)?"p":+"5.76e+3","n",O$6);}}if(!this.highlighted){this.pixelX=[x1m,x7j];this.pixelY=[K_8,e0O];}else {C0F="p";C0F+="0";b$Z=this.highlighted == C0F?!!({}):!({});o3J=this.highlighted == "p1"?!0:!!0;this.littleCircle(y$K,x1m,K_8,b$Z);this.littleCircle(y$K,x7j,e0O,o3J);}},renderStddev:function(a5G,A60,K6w){var B8_,f02,q$6,n89,V0Q,T4x,r6i,L6P,E0b,W8F,q_b,j7I,E_R,y8y,H9f,g9U,U2g,s1J,Q76,T_E,A2I;B8_="m";B8_+="id";B8_+="d";B8_+="le";z2S.O2S(92);f02=z2S.m68(a5G,A60,"stddev");z2S.N94(2);z2S.Y0_();q$6=z2S.m68("color",a5G);z2S.N94(2);n89=z2S.m68("pattern",a5G);z2S.O2S(2);V0Q=z2S.m68("lineWidth",a5G);T4x=K6w.points;r6i=T4x[0].v;L6P=T4x[1].v;E0b=K6w.stddev;W8F=A60 === "n"?a5G * -1:a5G * ("1" - 0);q_b=this.stx;j7I=K6w.panel;E_R=K6w.yAxis;y8y={name:f02,color:this.getLineColor(this[q$6]),type:"segment",y0:q_b.pixelFromTransformedValue(r6i + E0b * W8F,j7I,E_R),y1:q_b.pixelFromTransformedValue(L6P + E0b * W8F,j7I,E_R),params:{pattern:this[n89],lineWidth:this[V0Q]}};if(this.lines){this.lines[f02]=y8y;}H9f=K6w.context;g9U=T4x[+"0"].x;U2g=T4x[1].x;q_b.plotLine(g9U,U2g,y8y.y0,y8y.y1,y8y.color,y8y.type,H9f,j7I,y8y.params);q_b.plotLine(g9U,g9U,y8y.y0 - "10" * 1,y8y.y0 + 10,y8y.color,y8y.type,H9f,j7I,y8y.params);q_b.plotLine(U2g,U2g,y8y.y1 - 10,y8y.y1 + 10,y8y.color,y8y.type,H9f,j7I,y8y.params);z2S.N94(2);s1J=z2S.m68(a5G,"\u03c3");z2S.N94(93);var j7S=z2S.m68(25,12,13,5,9);Q76=Math.max(g9U,U2g) + j7S;T_E=g9U < U2g?y8y.y1:y8y.y0;H9f.fillStyle=y8y.color;H9f.save();H9f.textBaseline=B8_;H9f.fillText(s1J,Q76,T_E);H9f.restore();if(K6w.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(g9U >= j7I.chart.left && g9U <= j7I.chart.right || U2g >= j7I.chart.left && U2g <= j7I.chart.right){z2S.O2S(22);A2I=z2S.m68(E0b,g9U < U2g?L6P:r6i,W8F);q_b.endClip();q_b.createYAxisLabel(j7I,K6w.formatPrice(A2I,E_R),T_E,y8y.color,null,H9f,E_R);q_b.startClip(j7I.name);}}},intersected:function(J7D,b7E,V9e){var x$T,R83,c27,I3b,O3g,Q6J,Q1Q;if(!this.pixelX || !this.pixelY){return null;}z2S.M17();x$T=this.repositionIntersection(J7D,b7E);if(x$T){return x$T;}R83={0:this.pixelX,1:this.pixelY};for(var p1k=0;p1k < 2;p1k++){if(this.pointIntersection(R83["0" >> 64][p1k],R83[1][p1k],V9e,!![])){z2S.O2S(2);this.highlighted=z2S.m68(("2525" | 85,9131) > (+"6440",4520)?"p":(835.10,866.19),p1k);return {action:"drag",point:((564,7560) <= 7270?(!({}),"47.61" - 0):(715,821.86) < (1560,5170)?"p":(+"8.37e+3","n")) + p1k};}}c27=this;I3b=this.pixelX[0];O3g=this.pixelX[1];Q6J=function(C8T){var X0H,U9q;X0H=[I3b,C8T.y0];U9q=[O3g,C8T.y1];return c27.lineIntersection(J7D,b7E,V9e,c27.name,X0H,U9q,!!({}));};Q1Q=Q6J({y0:this.pixelY[0],y1:this.pixelY[1]});if(!Q1Q && this.lines){for(var w9L in this.lines){if(Q6J(this.lines[w9L])){Q1Q=!!({});break;}}}if(Q1Q){this.highlighted=!![];return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:J7D,value:this.valueOnDrawingAxis(J7D,b7E)};}return null;},repositionIntersection:function(E1i,W4v){var d_G,z6J,w8u,B87;d_G=-954725337;z6J=-743456101;z2S.Y0_();w8u=2;for(var l6H=1;z2S.a9Z(l6H.toString(),l6H.toString().length,+"60471") !== d_G;l6H++){if(!this.p0 || !this.p1){return !({});}w8u+=2;}if(z2S.j$g(w8u.toString(),w8u.toString().length,33132) !== z6J){if(+this.p0 && +this.p1){return !!({});}}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !!({})){B87="m";B87+="o";B87+="v";B87+="e";return {action:B87,p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:E1i,value:this.valueOnDrawingAxis(E1i,W4v)};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(S9O,P$b,U0D,u8z,c_m,C6A,n8D){var R4r,j_5;if(!n8D){z2S.N94(2);console.log(z2S.z95(u8z," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return ![];}if(!c_m){c_m=this.p0;}if(!C6A){C6A=this.p1;}if(!(c_m && C6A)){return !({});}z2S.Y0_();R4r=this.stx;if(U0D.cx0 === undefined){return !"1";}j_5={x0:c_m[0],x1:C6A[0],y0:c_m[1],y1:C6A[1]};return y9.boxIntersects(U0D.cx0,U0D.cy0,U0D.cx1,U0D.cy1,j_5.x0,j_5.y0,j_5.x1,j_5.y1);},boxIntersection:function(k4J,g0P,c7J){if(c7J.cx0 > Math.max(this.pixelX[0],this.pixelX[+"1"]) || c7J.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !!"";}if(!this.stx.repositioningDrawing && (c7J.cy1 < this.pixelY[0] || c7J.cy0 > this.pixelY[+"1"])){return !!0;}return !0;},reconstruct:function(p_l,T8G){var s_7,H1g,x6e;this.stx=p_l;this.color=T8G.col;z2S.Y0_();this.color1=T8G.col1;this.color2=T8G.col2;this.color3=T8G.col3;this.active1=T8G.dev1;s_7=920662759;z2S.O2S(3);H1g=-z2S.m68("548592026",0);x6e=2;for(var P9p=1;z2S.j$g(P9p.toString(),P9p.toString().length,71063) !== s_7;P9p++){this.active2=T8G.dev2;this.active3=T8G.dev3;this.panelName=T8G.pnl;this.pattern=T8G.ptrn;this.pattern1=T8G.ptrn1;this.pattern2=T8G.ptrn2;this.pattern3=T8G.ptrn3;x6e+=2;}if(z2S.j$g(x6e.toString(),x6e.toString().length,49408) !== H1g){this.active2=T8G.dev2;this.active3=T8G.dev3;this.panelName=T8G.pnl;this.pattern=T8G.ptrn;this.pattern1=T8G.ptrn1;this.pattern2=T8G.ptrn2;this.pattern3=T8G.ptrn3;}this.lineWidth=T8G.lw;this.lineWidth1=T8G.lw1;this.lineWidth2=T8G.lw2;this.lineWidth3=T8G.lw3;this.d0=T8G.d0;this.d1=T8G.d1;this.tzo0=T8G.tzo0;this.tzo1=T8G.tzo1;this.field=T8G.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!![]);y9.Drawing.trendline=function(){this.name="trendline";};y9.inheritsFrom(y9.Drawing.trendline,y9.Drawing.segment);y9.Drawing.trendline.prototype.configs=["color",S7H,"lineWidth",Y3Z,"font"];y9.Drawing.trendline.prototype.measure=function(){z2S.Y0_();;};y9.Drawing.trendline.prototype.reconstruct=function(x$W,r$i){y9.Drawing.segment.prototype.reconstruct.call(this,x$W,r$i);this.callout=new y9.Drawing.callout();this.callout.reconstruct(x$W,r$i.callout);};y9.Drawing.trendline.prototype.serialize=function(){z2S.M17();var Q31;Q31=y9.Drawing.segment.prototype.serialize.call(this);Q31.callout=this.callout.serialize();return Q31;};y9.Drawing.trendline.prototype.render=function(a5W){var m08,X8_,a9o,V3x,C_X,V3t,G6k,f10,k5Q,Z4N,V0l,q_e,O9Q,n0y,f4V,H3V,z6N,X7z,R88,c9T,X2W,Y4v,Z1l,R2v;m08=" B";m08+="a";m08+="r";m08+="s";X8_="%";X8_+=") ";a9o=this.stx;V3x=a9o.panels[this.panelName];C_X=a9o.getYAxisByField(V3x,this.field);if(!V3x || this.field && !C_X){return;}y9.Drawing.segment.prototype.render.call(this,a5W);if(!this.callout){this.callout=new y9.Drawing.callout();V3t=y9.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(a9o,V3t);}this.callout.p0=y9.clone(this.p0);G6k=a9o.pixelFromTick(this.p0[0],V3x.chart);f10=a9o.pixelFromTick(this.p1[0],V3x.chart);k5Q=this.pixelFromValue(V3x,this.p0[0],this.p0[1],C_X);Z4N=this.pixelFromValue(V3x,this.p1[0],this.p1[1],C_X);if(!isFinite(k5Q) || !isFinite(Z4N)){return;}z2S.N94(9);V0l=z2S.z95(f10,2,G6k);z2S.O2S(9);q_e=z2S.z95(Z4N,2,k5Q);this.fontSize=y9.stripPX(this.font && this.font.size || 13);z2S.N94(3);var x0Y=z2S.z95(5388,17);z2S.O2S(94);var a$f=z2S.z95(31200,1,6,7,184642);z2S.O2S(3);var I_b=z2S.z95(62,12);O9Q=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (140.51 != x0Y?a$f > 166.99?"c":!!0:!"1")?0:I_b);n0y=Math.sqrt(Math.pow(f10 - G6k,+"2") + Math.pow(Z4N - k5Q,2));z2S.N94(95);var s6v=z2S.z95(2,6,18,4);z2S.N94(20);var n58=z2S.z95(6,5);z2S.N94(96);var a3K=z2S.m68(6,20,17,8,2769);f4V=O9Q / (n0y || O9Q) * (this.p1[s6v] < this.p0[+"1"]?n58:a3K);z2S.O2S(97);H3V=z2S.z95(f4V,Z4N,q_e,V0l);z2S.N94(98);z6N=z2S.m68(V0l,f4V,f10,q_e);this.callout.p0[0]=a9o.tickFromPixel(H3V,V3x.chart);z2S.N94(3);this.callout.p0[z2S.z95("1",0)]=this.valueFromPixel(z6N,V3x,C_X);this.callout.v0=this.callout.p0[1];this.callout.p1=y9.clone(this.p0);this.callout.stx=a9o;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!0;z2S.N94(93);var f0N=z2S.m68(0,13,13,18,20);X7z=this.p1[f0N] - this.p0["1" >> 0];z2S.N94(2);var w_V=z2S.m68(0,1);this.callout.text="" + Number(X7z).toFixed("2" - 0) + (this.p0[w_V] === 0?"":" (" + Number(100 * X7z / this.p0["1" ^ 0]).toFixed(+"2") + X8_) + "" + Math.abs(this.p1[0] - this.p0[0]) + m08;R88=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[+"0"] - this.p1[0]) < 20){X2W=a9o.pixelFromTick(R88,V3x.chart);z2S.N94(99);Y4v=z2S.z95(Z4N,k5Q,k5Q,G6k,f10,X2W,G6k);c9T=this.valueFromPixel(Y4v,V3x,C_X) || q_e;}else {c9T=this.valueFromPixel(q_e,V3x,C_X);}this.callout.stem={t:R88,v:c9T};this.callout.renderText();this.callout.render(a5W);if(this.highlighted){Z1l=this.highlighted == "p0"?!!({}):!"1";R2v=this.highlighted == "p1"?!!({}):![];this.littleCircle(a5W,G6k,k5Q,Z1l);this.littleCircle(a5W,f10,Z4N,R2v);}};y9.Drawing.trendline.prototype.lineIntersection=function(w$C,g$f,z6D,i8I){var Q47;Q47="segm";Q47+="ent";return y9.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,w$C,g$f,z6D,Q47);};y9.Drawing.trendline.prototype.intersected=function(v$f,D0z,M3o){var a5$,j2S,v59;if(!this.p0 || !this.p1){return null;}a5$=this.callout.intersected(v$f,D0z,M3o);j2S=y9.Drawing.segment.prototype.intersected.call(this,v$f,D0z,M3o);this.callout.highlighted=!!(a5$ || j2S);z2S.Y0_();if(j2S){return j2S;}else if(a5$){v59="mo";v59+="v";v59+="e";return {action:v59,p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:v$f,value:this.valueOnDrawingAxis(v$f,D0z)};}return null;};y9.Drawing.average=function(){this.name="average";};y9.inheritsFrom(y9.Drawing.average,y9.Drawing.regression);y9.extend(y9.Drawing.average.prototype,{configs:y9.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var f9z,D9l,U_B,w5Q,h6b,o3d,E4J,S14;f9z=this.stx;z2S.M17();if(this.p0 && this.p1){D9l=" ";D9l+="&";D9l+="sigma";D9l+=";";f9z.setMeasure(+"0",!({}),this.p0[0],this.p1["0" << 64],!!"1",this.name);U_B=[];w5Q="";if(this.active1){U_B.push(1328 < 1085?0x18f1:"1");}if(this.active2){U_B.push(1590 <= 99?0x1ef8:3183 >= 1411?(58,114.26) !== (+"4253",+"9410")?"2":("949.38" * 1,398.11):(0x17e8,!({})));}if(this.active3){U_B.push((2300,"1810" ^ 0) == (5831,7118)?(0x1ed9,7.09e+3):(913.89,746.42) > 8504?"8.09e+3" | 24:"3");}if(U_B.length){w5Q="&ensp;" + U_B.join(", ") + D9l;}h6b=(f9z.drawingContainer || document).querySelector(".mMeasure");o3d=f9z.controls.mSticky;E4J=o3d && o3d.querySelector(".mStickyInterior");if(h6b){h6b.innerHTML+=w5Q;}if(E4J){S14=[];S14.push(y9.capitalize(this.name));S14.push(this.field || f9z.defaultPlotField || "Close");S14.push(E4J.innerHTML + w5Q);E4J.innerHTML=S14.join("<br>");}}},render:function(M6n){var c$U,R0L,h9e,X38,q2Z,U9O,d4g,e_v,G7u,r20,i73,g6p,N5Z,g5l,H1t,F30,I_B,V94,E1e,w$z,Y7b;c$U=this.stx;R0L=c$U.panels[this.panelName];h9e=c$U.getYAxisByField(R0L,this.field);if(!R0L || this.field && !h9e){return;}h9e=h9e || R0L.yAxis;if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}X38=c$U.pixelFromTick(this.p0[0],R0L.chart);q2Z=c$U.pixelFromTick(this.p1["0" ^ 0],R0L.chart);if(X38 < R0L.left && q2Z < R0L.left){return;}if(X38 > R0L.right && q2Z > R0L.right){return;}U9O=Math.min(this.p1[+"0"],this.p0[0]);function Q9u(k_z,P6G){if(P6G && P6G.priceFormatter){k_z=P6G.priceFormatter(c$U,R0L,k_z);}else {k_z=c$U.formatYAxisPrice(k_z,R0L,null,P6G);}return k_z;}z2S.O2S(51);var m1b=z2S.m68(12,14,12,11);d4g=Math.max(this.p1[0],this.p0[0]) + m1b;e_v=0;G7u=[];for(r20=U9O;r20 < d4g;r20++){i73=this.getYValue(r20);if(i73 !== null){e_v+=i73.transformed;G7u.push(i73);}}g6p=G7u.length;if(!g6p){return;}z2S.N94(10);N5Z=z2S.m68(e_v,g6p);g5l=c$U.pixelFromTransformedValue(N5Z,R0L,h9e);z2S.M17();H1t=this.getLineColor();F30={pattern:this.pattern,lineWidth:this.lineWidth};c$U.plotLine(X38,q2Z,g5l,g5l,H1t,"segment",M6n,R0L,F30);z2S.O2S(3);c$U.plotLine(X38,X38,z2S.z95(g5l,20),z2S.m68(g5l,20,z2S.O2S(2)),H1t,"segment",M6n,R0L,F30);z2S.N94(3);c$U.plotLine(q2Z,q2Z,z2S.z95(g5l,20),z2S.z95(g5l,20,z2S.O2S(2)),H1t,"segment",M6n,R0L,F30);if(this.axisLabel && !this.highlighted && !this.penDown){if(X38 >= R0L.chart.left && X38 <= R0L.chart.right || q2Z >= R0L.chart.left && q2Z <= R0L.chart.right){c$U.endClip();c$U.createYAxisLabel(R0L,Q9u(N5Z,h9e),g5l,H1t,null,M6n,h9e);c$U.startClip(R0L.name);}}if(this.active1 || this.active2 || this.active3){I_B=+"0";for(r20=0;r20 < g6p;r20++){i73=G7u[r20];I_B+=Math.pow(i73.transformed - N5Z,+"2");}z2S.N94(10);V94=Math.sqrt(z2S.m68(I_B,g6p));E1e={context:M6n,formatPrice:Q9u,panel:R0L,points:{0:{x:X38,v:N5Z},1:{x:q2Z,v:N5Z}},stddev:V94,yAxis:h9e};this.lines={};if(this.active1){this.renderStddev("1",(+"8887",2990) > 995.56?"p":0xa81,E1e);this.renderStddev("1",8810 < (5280,9424)?(832.5,369.89) <= (5660,599)?"n":(+"3275",4330) !== (542.08,7890)?0x185a:(6.37e+3,!1):"Q",E1e);}if(this.active2){this.renderStddev("2","p",E1e);this.renderStddev("2","n",E1e);}if(this.active3){this.renderStddev("914.63" - 0 != (718,9566)?"3":(5244,5065) <= ("292.27" * 1,"4813" >> 32)?"K":(![],!![]),+"285.3" != 151.23?"p":0x145e,E1e);this.renderStddev(5177 !== 7688?"3":(0x25f0,"P"),(855,"8132" << 0) < (678.72,"921.43" * 1)?318.74:"n",E1e);}}if(!this.highlighted){this.pixelX=[X38,q2Z];this.pixelY=[g5l,g5l];}else {w$z=this.highlighted == "p0"?!![]:!!"";Y7b=this.highlighted == "p1"?!"":!"1";this.littleCircle(M6n,X38,g5l,w$z);this.littleCircle(M6n,q2Z,g5l,Y7b);}},reconstruct:function(I4x,T2L){z2S.Y0_();this.axisLabel=T2L.al;y9.Drawing.regression.prototype.reconstruct.call(this,I4x,T2L);},serialize:function(){var f7H;f7H=y9.Drawing.regression.prototype.serialize.call(this);f7H.al=this.axisLabel;return f7H;}},!"");y9.Drawing.quadrant=function(){z2S.M17();this.name="quadrant";};y9.inheritsFrom(y9.Drawing.quadrant,y9.Drawing.regression);y9.extend(y9.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth",a7V],copyConfig:function(){var I7l;I7l=this.stx.currentVectorParameters;this.color=I7l.currentColor;this.fillColor=I7l.fillColor;this.lineWidth=I7l.lineWidth;this.pattern=I7l.pattern;},$controls:[],render:function(o2A){var e_7,Z6U,w6Q,l4s,e0E,D88,V8M,O5L,s_z,O_9,y$G,F9s,J$W,V2t,z4Z,O1t,H0Q,V1p,l5c,d3l,V0c,q77,C1d,y4K,M$0;e_7="t";e_7+="i";e_7+="r";e_7+="one";Z6U="t";Z6U+="irone";w6Q="s";w6Q+="eg";w6Q+="me";w6Q+="nt";l4s=this.stx;e0E=l4s.panels[this.panelName];D88=l4s.getYAxisByField(e0E,this.field);if(!e0E || this.field && !D88){return;}if(!this.p1){return;}V8M=l4s.pixelFromTick(this.p0[0],e0E.chart);O5L=l4s.pixelFromTick(this.p1[0],e0E.chart);if(V8M < e0E.left && O5L < e0E.left){return;}if(V8M > e0E.right && O5L > e0E.right){return;}s_z=null;O_9=null;for(var s7b=Math.max(+"0",Math.min(this.p1[0],this.p0[0]));s7b <= Math.min(l4s.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));s7b++){y$G=this.getYValue(s7b);if(y$G !== null){if(s_z === null || y$G.transformed > s_z){s_z=y$G.transformed;}if(O_9 === null || y$G.transformed < O_9){O_9=y$G.transformed;}}}F9s=l4s.pixelFromTransformedValue(s_z,e0E,D88);z2S.N94(100);J$W=l4s.pixelFromTransformedValue(z2S.m68(O_9,s_z,4,3),e0E,D88);z2S.O2S(100);V2t=l4s.pixelFromTransformedValue(z2S.m68(O_9,s_z,3,2),e0E,D88);z2S.O2S(9);z4Z=l4s.pixelFromTransformedValue(z2S.m68(O_9,2,s_z),e0E,D88);z2S.O2S(101);O1t=l4s.pixelFromTransformedValue(z2S.m68(O_9,3,s_z,2),e0E,D88);z2S.N94(101);H0Q=l4s.pixelFromTransformedValue(z2S.z95(O_9,4,s_z,3),e0E,D88);V1p=l4s.pixelFromTransformedValue(O_9,e0E,D88);this.p0[1]=0;this.p1[1]=!({});l5c=this.getLineColor();d3l=this.fillColor;if(d3l == "auto" || y9.isTransparent(d3l)){d3l=l4s.defaultColor;}o2A.fillStyle=d3l;V0c={pattern:this.pattern,lineWidth:this.lineWidth};l4s.plotLine(V8M,O5L,F9s,F9s,l5c,"segment",o2A,e0E,V0c);l4s.plotLine(V8M,O5L,V1p,V1p,l5c,w6Q,o2A,e0E,V0c);if(this.name == "quadrant"){q77="segm";q77+="en";q77+="t";l4s.plotLine(V8M,O5L,J$W,J$W,l5c,q77,o2A,e0E,V0c);l4s.plotLine(V8M,O5L,H0Q,H0Q,l5c,"segment",o2A,e0E,V0c);}else if(this.name == Z6U){C1d="segme";C1d+="nt";l4s.plotLine(V8M,O5L,V2t,V2t,l5c,C1d,o2A,e0E,V0c);l4s.plotLine(V8M,O5L,O1t,O1t,l5c,"segment",o2A,e0E,V0c);}l4s.plotLine(V8M,V8M,F9s,V1p,l5c,"segment",o2A,e0E,V0c);l4s.plotLine(O5L,O5L,F9s,V1p,l5c,"segment",o2A,e0E,V0c);l4s.plotLine(V8M,O5L,z4Z,z4Z,l5c,"segment",o2A,e0E,y9.extend(V0c,{opacity:this.name == e_7?0.2:1}));z2S.O2S(3);o2A.globalAlpha=z2S.z95("0.1",0);o2A.beginPath();z2S.O2S(3);o2A.fillRect(V8M,F9s,z2S.z95(O5L,V8M),z2S.m68(V1p,F9s));if(this.name == "quadrant"){z2S.O2S(3);o2A.fillRect(V8M,J$W,z2S.z95(O5L,V8M),z2S.z95(H0Q,J$W));}else if(this.name == "tirone"){z2S.N94(3);o2A.fillRect(V8M,V2t,z2S.z95(O5L,V8M),z2S.z95(O1t,V2t));}o2A.globalAlpha=+"1";if(!this.highlighted){this.pixelX=[V8M,O5L];this.pixelY=[F9s,V1p,z4Z];if(this.name === "quadrant"){this.pixelY.push(J$W,H0Q);}if(this.name === "tirone"){this.pixelY.push(V2t,O1t);}}else {y4K=this.highlighted == "p0"?!!1:!!"";M$0=this.highlighted == "p1"?!"":!({});this.littleCircle(o2A,V8M,z4Z,y4K);this.littleCircle(o2A,O5L,z4Z,M$0);}},intersected:function(i0m,y2e,r9n){var Q7S,f7G,Z9I,R7L;var {pixelX:q_i, pixelY:Q_x}=this;if(!q_i || !Q_x){return null;}Q7S=this.repositionIntersection(i0m,y2e);if(Q7S){return Q7S;}for(var g54=0;g54 < 2;g54++){if(this.pointIntersection(q_i[g54],Q_x[2],r9n,!![])){z2S.O2S(2);this.highlighted=z2S.z95((203.64,+"6684") > (9709,+"36")?(498.14,555) >= (+"5831","445.46" - 0)?"p":(!!0,!![]):("M","99.79" - 0),g54);return {action:"drag",point:"p" + g54};}}f7G=[];q_i.forEach(d5r=>{f7G.push({p0:[d5r,Q_x[0]],p1:[d5r,Q_x["1" ^ 0]]});});Q_x.forEach(M20=>{z2S.M17();f7G.push({p0:[q_i[0],M20],p1:[q_i[1],M20]});});Z9I=f7G.some(({p0:K3m, p1:P94})=>{z2S.Y0_();return this.lineIntersection(i0m,y2e,r9n,this.name,K3m,P94,!"");});if(Z9I){R7L="m";R7L+="o";R7L+="v";R7L+="e";this.highlighted=!!({});return {action:R7L,p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:i0m,value:this.valueOnDrawingAxis(i0m,y2e)};}return null;},reconstruct:function(p21,A5E){this.stx=p21;this.color=A5E.col;this.fillColor=A5E.fc;this.panelName=A5E.pnl;this.pattern=A5E.ptrn;this.lineWidth=A5E.lw;z2S.M17();this.d0=A5E.d0;this.d1=A5E.d1;this.tzo0=A5E.tzo0;this.tzo1=A5E.tzo1;this.field=A5E.fld;this.adjust();},serialize:function(){z2S.Y0_();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!![]);y9.Drawing.tirone=function(){z2S.M17();this.name="tirone";};y9.inheritsFrom(y9.Drawing.tirone,y9.Drawing.quadrant);y9.Drawing.volumeprofile=function(){this.name="volumeprofile";};y9.inheritsFrom(y9.Drawing.volumeprofile,y9.Drawing.regression);y9.extend(y9.Drawing.volumeprofile.prototype,{configs:["color","fillColor","lineWidth",d5Q,"parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;z2S.Y0_();this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(K30,L_U){z2S.Y0_();return !L_U || typeof K30.getFirstLastDataRecord(K30.chart.dataSegment,L_U)[L_U] === "object";},render:function(L1a){var y1Z,H1z,p3I,E5$,m$Q,k4a,v0M,R1X,D2M,T1c,d$x,p64,F3B,p_x,L2Q,v7U,J8O,K1X,g3_,B8O,l7q,v2K,R4m,L$_,g1H,h4b,D9Y,K3v,a6I,D31,G_f,S7a,l2R,Y4G,N0J,p77,p0p,L1k,o6i,X7C,Q6z,c_b,l50,u3s,j$C,r$L,f78,K1e,C99,n9k;var {stx:F3R}=this;var {dataSet:w84}=F3R.chart;y1Z=F3R.panels[this.panelName];H1z=F3R.getYAxisByField(y1Z,this.field);if(!y1Z || this.field && !H1z){return;}if(!this.p1){return;}H1z=H1z || y1Z.yAxis;p3I=F3R.pixelFromTick(this.p0[0],y1Z.chart);E5$=F3R.pixelFromTick(this.p1[0],y1Z.chart);if(p3I < y1Z.left && E5$ < y1Z.left){return;}if(p3I > y1Z.right && E5$ > y1Z.right){return;}var {flipped:D_r}=H1z;m$Q=null;k4a=null;v0M=Math.min(this.p1[0],this.p0[0]);R1X=Math.max(this.p1[0],this.p0[0]);z2S.M17();for(var E8B=v0M;E8B <= R1X;E8B++){D2M=w84[E8B];if(D2M[this.field]){D2M=D2M[this.field];}if(!D2M)continue;var {High:Q9R, Low:i6T}=D2M;if(m$Q === null || Q9R > m$Q){m$Q=Q9R;}if(k4a === null || i6T < k4a){k4a=i6T;}}var {priceBuckets:I_1}=this;z2S.O2S(27);T1c=z2S.z95(k4a,m$Q,I_1);d$x=[];if(D_r){[m$Q,k4a]=[k4a,m$Q];}p64=D_r?-1:1;for(var d1E=k4a,U7w=0;U7w <= I_1;(d1E+=T1c * p64,U7w++)){d$x.push([d1E,0]);if(k4a === m$Q)break;}F3B=0;for(var i_X=v0M;i_X <= R1X;i_X++){p_x=w84[i_X];if(p_x[this.field] || p_x[this.field] === 0){p_x=p_x[this.field];}if(!p_x)continue;var {High:J5R, Low:h0p, Volume:U2e}=p_x;if(!U2e && U2e !== 0)continue;L2Q=[];v7U=d$x[0][0];J8O=null;for(var I10=1;I10 < d$x.length;I10++){J8O=d$x[I10][0];K1X=h0p >= v7U && h0p <= J8O;g3_=J5R >= v7U && J5R <= J8O;B8O=h0p < v7U && J5R > J8O;if(K1X || g3_ || B8O){L2Q.push(I10);}v7U=J8O;}if(L2Q.length){l7q=U2e / L2Q.length;for(var M5t=0;M5t < L2Q.length;M5t++){v2K=d$x[L2Q[M5t]][1]+=l7q;if(v2K > F3B){F3B=v2K;}}}}R4m=F3B === 0 && d$x.length > 1;if(R4m){F3R.displayErrorAsWatermark("chart",F3R.translateIf("Not enough data to render the Volume Profile"));}L$_=o82=>{return Math.round(o82) + 0.5;};g1H=(R1X - v0M) * F3R.layout.candleWidth;z2S.N94(102);var m9Y=z2S.m68(17,15,1,32);h4b=L$_(F3R.pixelFromTick(v0M)) - m9Y;z2S.O2S(2);D9Y=L$_(z2S.m68(h4b,g1H));z2S.O2S(85);K3v=this.pixelFromValue(y1Z,v0M,z2S.m68(k4a,k4a,2,m$Q),H1z);a6I=h4b;var [y_V]=d$x[0];D31=this.getLineColor();var {fillColor:z0$}=this;if(z0$ === "auto" || y9.isTransparent(z0$)){z0$=F3R.defaultColor;}L1a.fillStyle=z0$;G_f={pattern:this.pattern,lineWidth:this.lineWidth};S7a=0;l2R=0;Y4G=(h_x,Y1o)=>{return [S7a,l2R]=[h_x,Y1o];};N0J=(W3C,f4D,F1G)=>{z2S.Y0_();if(!F1G){F3R.plotLine(S7a,W3C,l2R,f4D,D31,"segment",L1a,y1Z,G_f);}[S7a,l2R]=[W3C,f4D];};if(this.highlighted || R4m){p77="s";p77+="e";p77+="g";p77+="ment";F3R.plotLine(h4b,D9Y,K3v,K3v,F3R.defaultColor,p77,L1a,y1Z,Object.assign({},G_f,{opacity:"0.3" * 1}));}for(var g2q=1;g2q < d$x.length;g2q++){var [d73,c2t]=d$x[g2q];if(c2t){z2S.O2S(103);p0p=z2S.m68(F3B,c2t,g1H);z2S.O2S(2);L1k=L$_(z2S.z95(h4b,p0p));o6i=L$_(this.pixelFromValue(y1Z,v0M,d73,H1z));X7C=L$_(this.pixelFromValue(y1Z,v0M,y_V,H1z));Q6z=Math.max(o6i,H1z.top);c_b=Math.min(X7C,H1z.bottom);z2S.N94(104);l50=z2S.m68(o6i,Q6z);z2S.O2S(104);u3s=z2S.z95(X7C,c_b);j$C=Q6z <= H1z.bottom && c_b >= H1z.top;if(j$C){if(!this.highlighted){L1a.globalAlpha=0.3;}Y4G(h4b,c_b);N0J(h4b,Q6z);N0J(L1k,Q6z,l50);N0J(L1k,c_b);if(L1k > a6I){N0J(a6I,c_b,u3s);}L1a.globalAlpha=0.2;z2S.O2S(3);L1a.fillRect(h4b,Q6z,z2S.z95(L1k,h4b),z2S.m68(c_b,Q6z));L1a.globalAlpha=1;}a6I=L1k;}else {a6I=h4b;;}y_V=d73;}if(this.highlighted){r$L=this.highlighted === "p0";f78=this.highlighted === "p1";K1e=this.p0[0] > this.p1[+"0"];C99=K1e?f78:r$L;n9k=K1e?r$L:f78;this.littleCircle(L1a,h4b,K3v,C99);this.littleCircle(L1a,D9Y,K3v,n9k);}z2S.O2S(2);this.pixelX=[h4b,z2S.m68(h4b,g1H)];this.pixelY=[this.pixelFromValue(y1Z,v0M,m$Q,H1z),this.pixelFromValue(y1Z,v0M,k4a,H1z),K3v];z2S.O2S(29);this.p0[1]=z2S.m68("0",32);this.p1[1]=!({});;},intersected:function(S1y,H1b,b0P){var D$V;var {p0:p_c, p1:f8D, stx:O6l}=this;if(!p_c || !f8D){return null;}var [,,j_L]=this.pixelY || [];if(j_L === undefined){return;}D$V=this.repositionIntersection(S1y,H1b);if(D$V){return D$V;}for(var [E$w,[O3Z]] of [[0,p_c],[1,f8D]]){if(this.pointIntersection(O6l.pixelFromTick(O3Z),j_L,b0P,!0)){z2S.O2S(2);this.highlighted=z2S.m68((+"1941",1477) >= ("5320" | 0)?(3.91e+2,0x19eb):"p",E$w);return {action:"drag",point:((9990,"923.9" * 1) <= 5573?"831.04" - 0 >= 294.54?"p":699 === 208.65?(0x1a66,"E"):!!1:!![]) + E$w};}}if(this.boxIntersection(S1y,H1b,b0P)){this.highlighted=!![];return {action:"move",p0:y9.clone(this.p0),p1:y9.clone(this.p1),tick:S1y,value:H1b};}return null;},reconstruct:function(J4Y,L7P){this.stx=J4Y;this.color=L7P.col;this.fillColor=L7P.fc;this.panelName=L7P.pnl;this.pattern=L7P.ptrn;this.lineWidth=L7P.lw;this.d0=L7P.d0;this.d1=L7P.d1;this.tzo0=L7P.tzo0;this.tzo1=L7P.tzo1;this.field=L7P.fld;this.priceBuckets=L7P.pb;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},!!({}));y9.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];z2S.O2S(21);this.dx=z2S.z95("0",1);this.dy=-20;this.dragToDraw=!({});this.annotationPoints=[];this.edit=null;};y9.inheritsFrom(y9.Drawing.elliottwave,y9.Drawing.annotation);y9.Drawing.elliottwave.defaultTemplate={impulse:["I",c7v,"III",t59,"V"],corrective:["A",571.83 >= 4610?(0x64,"b"):(2138,923) !== (+"2127",5658)?"B":6.02e+3,(230.22,2660) <= (7540,+"2290")?![]:"C"],decoration:k_q,showLines:!![]};y9.Drawing.elliottwave.prototype.initializeSettings=function(d9H){z2S.M17();d9H.currentVectorParameters.waveParameters=y9.clone(y9.Drawing.elliottwave.defaultTemplate);};y9.Drawing.elliottwave.prototype.configs=[D90,"lineWidth","lineColor","pattern","font","waveParameters"];y9.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];y9.Drawing.elliottwave.prototype.construct=function(O0C,L8J){var m27;this.stx=O0C;this.panelName=L8J.name;m27=O0C.currentVectorParameters;Object.assign(this,m27.waveParameters);};y9.Drawing.elliottwave.prototype.serialize=function(){var L9T,x5l,O3Q,L9q,K7H;L9T="f";L9T+="l";x5l="w";x5l+="t";O3Q="s";O3Q+="t";L9q={};for(var r_G=0;r_G < this.points.length;r_G++){K7H="t";K7H+="z";K7H+="o";z2S.O2S(2);L9q[z2S.m68((6955,9102) >= (8870,6350)?+"642" != (4310,530.39)?"d":9588 > (4171,329)?0x9a5:!!({}):7.60e+3,r_G)]=this[z2S.m68(580 > ("549" | 37)?"d":(0x11ce,"X"),r_G)];z2S.O2S(2);L9q[z2S.m68("tzo",r_G)]=this[z2S.z95(K7H,r_G)];z2S.O2S(2);L9q[z2S.m68(5063 === (955,"447.57" - 0)?"590" >> 0:2520 <= 137.82?(!0,0x269a):"v",r_G)]=this[z2S.z95((333.48,8876) != 475.44?+"90.23" < 2289?5968 !== (+"671.39",9020)?"v":7.13e+3:("x",4.91e+2):(![],0x233e),r_G)];}L9q.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:y9.removeNullValues(y9.replaceFields(this.font,{style:O3Q,size:"sz",weight:x5l,family:L9T}))},L9q);};y9.Drawing.elliottwave.prototype.reconstruct=function(f0C,z5P){var t_y,C4N,Y0X;t_y="enclo";t_y+="se";t_y+="d";C4N="s";C4N+="i";C4N+="z";C4N+="e";Y0X="s";Y0X+="tyle";this.stx=f0C;this.color=z5P.col;this.panelName=z5P.pnl;this.pattern=z5P.ptrn;this.lineWidth=z5P.lw;this.font=y9.replaceFields(z5P.fnt,{st:Y0X,sz:C4N,wt:"weight",fl:"family"});this.decoration=z5P.decor;this.showLines=z5P.show;this.dx=z5P.dx;this.dy=z5P.dy;this.trend=z5P.trend;this.field=z5P.fld;this.annotationPoints=z5P.annotations.split((+"970.13",3481) == 826.06?(!"",0x1b2d):",");if(z5P.decor === t_y){this.calculateRadius(f0C.chart.tempCanvas.context);}this.maxSegments=z5P.mxSeg;this.reconstructPoints(z5P);this.adjust();};y9.Drawing.elliottwave.prototype.reconstructPoints=function(P4L){var k92,M$M,E2$;k92=this.stx.panels[this.panelName];z2S.Y0_();if(!k92){return;}for(var n1t=0;n1t < this.annotationPoints.length;n1t++){z2S.O2S(2);this[z2S.m68(8065 >= +"8730"?209.62:(5610,+"6100") != 296.69?"d":944.79,n1t)]=P4L[z2S.z95((4520,8760) != 710.44?3806 == (936,9320)?"x":"d":602.21,n1t)];z2S.N94(2);this[z2S.m68(4527 >= 564.33?"v":542.44,n1t)]=P4L[z2S.m68("v",n1t)];z2S.N94(2);this[z2S.z95("tzo",n1t)]=P4L[z2S.z95("tzo",n1t)];M$M=y9.strToDateTime(P4L["d" + n1t]);E2$=this.stx.tickFromDate(M$M,k92.chart);this.points.push([E2$,P4L[((+"7954",+"2258") >= (6323,8861)?(9060,6555) == (318.27,4060)?(!1,5.30e+3):(390.14,2.16e+3):"v") + n1t]]);}};y9.Drawing.elliottwave.prototype.calculateRadius=function(V$3){z2S.M17();var i5C,K2L;this.getFontString();V$3.font=this.fontString;i5C=0;for(var w1a=0;w1a < this.annotationPoints.length;w1a++){K2L=V$3.measureText(this.annotationPoints[w1a]).width;if(i5C < K2L){i5C=K2L;}}this.enclosedRadius=i5C;};y9.Drawing.elliottwave.prototype.check=function(k5Z,c0r,l4Y){var X4D,D$U;z2S.N94(17);X4D=this.points[z2S.z95("1",l4Y)];function S_U(D4S){z2S.M17();for(var A83=2;A83 < D4S.length;A83++){if(Math.sign(D4S[A83]["1" << 64] - D4S[A83 - 1][1]) == Math.sign(D4S[A83 - 1][1] - D4S[A83 - +"2"][1])){return !!0;}}return !"";}if(X4D && k5Z <= X4D[0]){return !!"";}if(l4Y === 1 && this.points.length === 2){return !!"1";}z2S.O2S(2);D$U=this.points[z2S.m68(l4Y,1)];if(D$U && k5Z >= D$U[0]){return !!"";}if(!S_U(this.points)){return ![];}return !!"1";};y9.Drawing.elliottwave.prototype.move=function(p9n,c9c,Y1G){this.copyConfig();z2S.M17();this.points[this.lastPoint + +"1"]=[c9c,Y1G];this.render(p9n);};y9.Drawing.elliottwave.prototype.adjust=function(){var i40,v0L;i40=this.stx.panels[this.panelName];if(!i40){return;}for(var A8H="0" ^ 0;this.maxSegments + 1 > A8H;A8H++){z2S.N94(2);v0L=this[z2S.m68(7232 === (958.76,8340)?0x1745:307.82 <= (2620,1622)?"d":+"2670" > (3810,4851)?(0x1394,![]):!1,A8H)];this.setPoint(A8H,v0L,this["v" + A8H],i40.chart);this.points[A8H][0]=this.stx.tickFromDate(y9.strToDateTime(v0L),i40.chart);z2S.N94(2);this.points[A8H][1]=this[z2S.m68((+"201.05",594) == "842.14" - 0?0x22c8:"v",A8H)];}};y9.Drawing.elliottwave.prototype.click=function(Z$d,p6p,L7b){z2S.M17();var Y_K;Y_K=this.stx.panels[this.panelName];if(!Y_K){return;}this.copyConfig();if(!this.penDown){z2S.O2S(25);this.setPoint(z2S.z95(0,"0"),p6p,L7b,Y_K.chart);this.points.push(this.p0);this.penDown=!!1;z2S.N94(25);this.segment=z2S.z95(0,"0");this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(("7120" >> 64,4433) > "4050" << 0?7471 == 936.91?(0x9ea,!"1"):"0":(8.51e+3,!!({})));if(this.decoration === "enclosed"){this.calculateRadius(Z$d);}z2S.N94(105);var J2p=z2S.m68(1,40,19,20,3);this.maxSegments=this.annotationPoints.length - J2p;this.trend=+"1";return !!0;}if(this.accidentalClick(p6p,L7b)){this.penDown=!!"1";return ![];}if(this.check(p6p,L7b,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,p6p,L7b,Y_K.chart);if(this.lastPoint === +"1"){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=![];return !!"1";}}return ![];};y9.Drawing.elliottwave.prototype.render=function(S2Z){var h6s,L9P,t67,k02,M_Y,r$7,f1f,s0h,h$g,x19,X9c,D0H,J5p,V96,o5X,z5G,B3F,U5X,e7H,E43,D8x,K3U,X52,M5z,m2P,N8n,V$S,p65,l25,t9o,T0g,g36,M7F;h6s="ce";h6s+="n";h6s+="ter";L9P=this.stx;t67=L9P.panels[this.panelName];k02=L9P.getYAxisByField(t67,this.field);if(!t67 || this.field && !k02){return;}k02=k02 || t67.yAxis;M_Y=this.annotationPoints;r$7=this.pattern?y9.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();z2S.Y0_();S2Z.font=this.fontString;S2Z.textAlign=h6s;S2Z.textBaseline="middle";S2Z.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(S2Z);}this.lastFontString=this.fontString;f1f=this.getLineColor();S2Z.fillStyle=S2Z.strokeStyle=f1f;S2Z.save();S2Z.setLineDash(r$7);s0h=this.dx;h$g=this.dy;x19=this.points;X9c=this.pts;D0H=!this.showLines && this.highlighted;J5p=x19.length;if(this.penDown && this.segment){o5X="l";o5X+="o";o5X+="w";z2S.N94(106);var g6K=z2S.m68(30,2,283,19);V96=this.trend * (J5p % g6K - 0.5) < 0;this.drawDropZone(S2Z,x19[J5p - 2]["1" ^ 0],k02[V96?"high":o5X],x19[J5p - +"2"][0]);}else if(typeof this.highlighted === "string" && L9P.repositioningDrawing){z5G="l";z5G+="o";z5G+="w";B3F="ma";B3F+="x";U5X=parseInt(this.highlighted.substring("1" | 1,this.highlighted.length),10);V96=this.trend * (U5X % +"2" - 0.5) > 0;z2S.N94(3);e7H=x19[z2S.z95(U5X,1)];z2S.O2S(2);E43=x19[z2S.z95(U5X,1)];D8x=U5X > 0?e7H[+"1"]:E43[1];if(E43){D8x=Math[V96?B3F:"min"](D8x,E43[1]);}this.drawDropZone(S2Z,D8x,k02[V96?"high":z5G],e7H?e7H[0]:null,E43?E43[0]:null);}for(var U2F=0;U2F < J5p;U2F++){K3U=x19[U2F];X52=L9P.pixelFromTick(K3U[+"0"],t67.chart);M5z=this.pixelFromValue(t67,K3U[0],K3U[1],L9P.getYAxisByField(t67,this.field));X9c[U2F]=[X52,M5z];}U2F=0;if(this.showLines || D0H){S2Z.beginPath();if(D0H){z2S.O2S(3);S2Z.globalAlpha=z2S.m68("0.3",0);}for(;U2F < X9c.length;U2F++){S2Z.lineTo(X9c[U2F]["0" * 1],X9c[U2F][1]);}S2Z.stroke();U2F=0;}S2Z.restore();for(;U2F < J5p;U2F++){m2P="en";m2P+="c";m2P+="lose";m2P+="d";N8n="pare";N8n+="nthe";N8n+="ses";V$S=U2F % 2?s0h:-s0h;p65=U2F % 2?h$g:-h$g;V$S*=this.trend;p65*=this.trend;if(k02.flipped){V$S*=-1;z2S.N94(40);p65*=-z2S.z95(0,"1");}l25=X9c[U2F];t9o=l25[+"2"]=l25[0] + V$S;z2S.O2S(50);var d03=z2S.m68(20,4,321,4);T0g=l25[3]=l25[d03] + p65;g36=this.enclosedRadius || 8;M7F=M_Y[U2F];if(this.decoration === N8n){z2S.N94(92);M7F=z2S.z95(M7F,1840 != 591.5?"7886" * 1 >= 5680?")":9.81e+3:483.65,"(");}S2Z.fillText(M7F,t9o,T0g);if(this.decoration === m2P){S2Z.beginPath();S2Z.arc(t9o,T0g,g36,0,2 * Math.PI,!1);S2Z.stroke();}if(this.highlighted){S2Z.save();this.littleCircle(S2Z,this.pts[U2F][+"0"],this.pts[U2F]["1" - 0],this.highlighted === (("4650" - 0,3480) != 4190?(8985,6005) === 691.84?"1.02e+3" ^ 0:"p":(4.89e+3,"P")) + U2F);S2Z.restore();}}};y9.Drawing.elliottwave.prototype.reposition=function(B$T,r9j,m6R,B5j){var u5V,A64,B$U,X_u,d38,j2W;if(!r9j){return;}u5V=this.stx.panels[this.panelName];A64=r9j.tick - m6R;B$U=r9j.value - B5j;if(r9j.action === "move"){for(var m83=0;r9j.points.length > m83;m83++){X_u=r9j.points[m83];this.setPoint(m83,X_u[0] - A64,X_u[1] - B$U,u5V.chart);z2S.N94(8);var K8f=z2S.m68(12,19,11,19);this.points[m83]=[X_u[0] - A64,X_u[K8f] - B$U];}}if(r9j.action === "drag"){d38=r9j.point;j2W=this.points;j2W[d38]=[m6R,B5j];if(this.check(m6R,B5j,d38)){this.setPoint(d38,m6R,B5j,u5V.chart);;};}this.render(B$T);};y9.Drawing.elliottwave.prototype.intersected=function(m7X,z3$,O56){var f4q,O0S;z2S.Y0_();if(!this.p0 || !this.p1){return null;}for(var R3I=0;this.points.length > R3I;R3I++){O0S=this.points[R3I];if(this.pointIntersection(O0S[0],O0S[1],O56)){z2S.O2S(2);this.highlighted=z2S.z95("p",R3I);return {action:"drag",point:R3I,tick:m7X,value:this.valueOnDrawingAxis(m7X,z3$)};}if(this.points[R3I + ("1" - 0)] && this.lineIntersection(m7X,z3$,O56,"segment",O0S,this.points[R3I + ("1" << 0)])){this.highlighted=!0;f4q={action:"move",points:y9.clone(this.points),tick:m7X,value:this.valueOnDrawingAxis(m7X,z3$)};}}return f4q;};y9.Drawing.elliottwave.prototype.measure=function(){var P3p,l8W,f7s,l8H;if(this.points.length >= 2){P3p=this.points;this.stx.setMeasure(P3p["0" << 96]["1" - 0],P3p[P3p.length - ("1" - 0)][1],P3p[0][0],P3p[P3p.length - 1][0],!!({}));l8W=this.stx.controls.mSticky;f7s=l8W && l8W.querySelector(".mStickyInterior");if(f7s){l8H=[];l8H.push(y9.capitalize("Elliott Wave"));if(this.getYValue){l8H.push(this.field || this.stx.defaultPlotField || "Close");}l8H.push(f7s.innerHTML);f7s.innerHTML=l8H.join("<br>");}}};y9.Drawing.printProjection=function(v2_,q23,a5l){var h2t,g6A,z2D,d8s,e8p,U4g,B9h,y$R,d$M,j6_,F5B,E8r,r5U,i9$,O26,A8v;h2t=q23.arr;if(h2t.length > 1){g6A=h2t[0][0];z2D=Math.round(v2_.chart.maxTicks * 0.75);for(var e2Z="1" << 0;e2Z < h2t.length;e2Z++){z2S.O2S(17);d8s=h2t[z2S.m68("1",e2Z)][+"0"];e8p=h2t[e2Z][0];U4g=y9.strToDateTime(d8s);B9h=y9.strToDateTime(e8p).getTime();y$R=v2_.standardMarketIterator(U4g);d$M=0;while(U4g.getTime() < B9h){U4g=y$R.next();d$M+=1;}j6_=y9.strToDateTime(d8s).getTime();if(j6_ > y9.strToDateTime(a5l[a5l.length - 1].Date).getTime()){z2S.O2S(11);var G5Y=z2S.z95(2,0,2,0);F5B=a5l.length - G5Y;d$M+=1;}else {for(F5B=a5l.length - +"1";F5B >= 0;F5B--){if(j6_ <= y9.strToDateTime(a5l[F5B].Date).getTime())break;}}E8r={x0:0,x1:d$M,y0:a5l[F5B].Close,y1:h2t[e2Z][1]};g6A=y9.strToDateTime(d8s);y$R=v2_.standardMarketIterator(g6A);r5U=!!0;for(var X4V="0" ^ 0;X4V <= d$M;X4V++){if(!r5U){r5U=!![];}else {g6A=y$R.next();}if(g6A.getTime() <= a5l[a5l.length - +"1"].DT.getTime())continue;i9$=y9.yIntersection(E8r,X4V);if(!i9$){i9$=0;}z2S.N94(61);var d11=z2S.z95(69856,9982,8);z2S.N94(92);var r0Q=z2S.m68(6,14,9980);O26=Math.round(i9$ * d11) / r0Q;if(O26 === +"0"){O26=h2t[e2Z][1];}A8v={Date:y9.yyyymmddhhmmssmmm(g6A),DT:g6A,Open:O26,Close:O26,High:O26,Low:O26,Volume:0,Adj_Close:O26,Split_Close:O26,projection:!0};if(v2_.layout.interval == "minute")if(z2D-- < 0)break;a5l[a5l.length]=A8v;}}}};}};G=E1Q=>{var a5M=r9oI0;var W1S,R8A;W1S="und";W1S+="e";W1S+="fine";a5M.Y0_();W1S+="d";R8A=typeof _CIQ !== W1S?_CIQ:E1Q.CIQ;if(!R8A.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {R8A.formatEquation=function(d_q){var B99,Y2m,s2M,r4I,o3E;B99="";Y2m=[];s2M="";r4I=![];for(var h$y=1;h$y < d_q.length;h$y++){o3E=d_q[h$y];if(o3E == ((3053,1920) > 762?"[":7760 >= (7762,9270)?(0x124e,"0x2662" * 1):7721 > (3951,9539)?(752.83,"0xdb1" >> 0):(+"2.48e+3",0x21e5)) && !r4I){r4I=!![];}else if(o3E == (488.46 < 1580?99.71 == +"6751"?7760 > (504.82,9976)?(3.16e+3,705.41):"c":"]":0x1877) && r4I){r4I=![];if(s2M !== ""){Y2m.push(s2M);a5M.O2S(92);B99+=a5M.m68(s2M,"]",135 > 7130?321.88:1280 === 142.37?(!0,!!({})):"[");}s2M="";}else if(r4I){s2M+=o3E;}else if(o3E == (382.74 <= ("1910" | 0)?"+":830.22) || o3E == ("1280" * 1 != (3245,9316)?"-":(587.83,8130) != ("3380" - 0,+"4200")?5.64e+3:("p","u")) || o3E == ((764.39,214) >= 6697?(+"171.29",0x156e):"*") || o3E == "/" || o3E == (3450 > (6690,70.35)?":":!![]) || o3E == "%" || o3E == "(" || o3E == ")"){if(s2M !== "" && isNaN(s2M)){Y2m.push(s2M);a5M.O2S(92);B99+=a5M.z95(s2M,944.47 !== (+"734","8919" | 20)?(3193,"617.41" - 0) <= (254.08,+"1998")?"]":(7501,3586) > +"7350"?97.57:0x126d:4.84e+3,"[");}else {B99+=s2M;}if(o3E == (5970 < +"9330"?":":0x123)){o3E="/";}B99+=o3E;s2M="";}else if(o3E != (545 <= 9920?(1207,7259) === (8670,6600)?!({}):" ":!"1")){s2M+=o3E;}}if(s2M !== "" && isNaN(s2M)){Y2m.push(s2M);a5M.O2S(92);B99+=a5M.m68(s2M,9140 < (397.53,4514)?(0x10a1,!!0):(425.33,2216) >= +"7570"?+"0.63":6670 > (+"408.72",2580)?"]":(!!({}),+"0x1655"),"[");}else {B99+=s2M;}return {equation:B99,symbols:Y2m};};R8A.fetchEquationChart=function(M9u,I8w){var m7f,M1h,O0c,S6m,f2x;m7f=R8A.formatEquation(M9u.symbol);M1h=m7f.symbols;O0c=[];a5M.Y0_();S6m=M9u.stx;M9u.stx=null;for(var T8v=0;T8v < M1h.length;T8v++){f2x=R8A.shallowClone(M9u);f2x.stx=S6m;f2x.symbol=M1h[T8v];f2x.symbolObject={symbol:M1h[T8v]};O0c.push(f2x);}M9u.stx=S6m;S6m.quoteDriver.multiFetch(O0c,function(g9x){var r6s,w8U,p6w,L2z,r2U,J5S,w$E,L5q;r6s={};a5M.Y0_();w8U=-21420903;p6w=549611396;L2z=2;for(var y0S=1;a5M.a9Z(y0S.toString(),y0S.toString().length,+"29899") !== w8U;y0S++){M9u.loadMoreReplace=!![];L2z+=2;}if(a5M.j$g(L2z.toString(),L2z.toString().length,"72393" - 0) !== p6w){M9u.loadMoreReplace=!({});}r2U={charge:0};for(var n8P=0;n8P < g9x.length;n8P++){J5S=g9x[n8P];if(J5S.dataCallback.error){I8w({error:J5S.dataCallback.error});return;}r6s[J5S.params.symbol]=J5S.dataCallback.quotes;M9u.loadMoreReplace=M9u.loadMoreReplace && J5S.params.loadMoreReplace;M9u.moreToLoad=M9u.moreToLoad || J5S.dataCallback.moreAvailable;w$E=J5S.dataCallback.attribution;if(w$E){if(w$E.charge){r2U.charge+=w$E.charge;}r2U.source=w$E.source;if(r2U.exchange === undefined){r2U.exchange=w$E.exchange;}else if(r2U.exchange != w$E.exchange){r2U.exchange="";};}}if(O0c.length || !(M9u.loadMore || M9u.update)){try{L5q=R8A.computeEquationChart(m7f.equation,r6s);I8w({quotes:L5q,moreAvailable:M9u.moreToLoad,attribution:r2U});}catch(O6e){var s07;s07={error:"Invalid equation: " + m7f.equation};if(O6e.name && O6e.name == "NoException"){s07.suppressAlert=!!"1";}I8w(s07);}}});};}};N=h61=>{var H$P,u5l;H$P="und";H$P+="efined";u5l=typeof _CIQ !== H$P?_CIQ:h61.CIQ;if(!u5l.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!u5l.Marker.Performance){u5l.ChartEngine.prototype.removeDOMMarker=function(L9z){var S7c;S7c="CIQ.ChartEngine#removeDOMM";S7c+="arker is scheduled for deprecation in a future release\n Please use CIQ.M";S7c+="arker.Performance#remove instead.";console.warn(S7c);u5l.Marker.Performance.prototype.removeDOMMarker.call(L9z.params.node,L9z);};u5l.ChartEngine.prototype.drawMarkers=function(){r9oI0.M17();console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");u5l.Marker.Performance.drawMarkers(this);};u5l.ChartEngine.prototype.calculateMarkerStyles=function(j9v,w8J){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");r9oI0.Y0_();u5l.Marker.Performance.calculateMarkerStyles(this,j9v,w8J);};u5l.ChartEngine.prototype.drawCircleMarker=function(D4D,q5w,k93){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");r9oI0.Y0_();u5l.Marker.Performance.drawCircleMarker(D4D,q5w,k93);};u5l.ChartEngine.prototype.drawSquareMarker=function(d2Q,x4c,h00){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");u5l.Marker.Performance.drawSquareMarker(d2Q,x4c,h00);};u5l.ChartEngine.prototype.drawCalloutMarker=function(B3m,E0Q,w1p){var d0i,S$o,s5s;d0i=1930121181;S$o=-1041920052;s5s=2;for(var d8U=1;r9oI0.a9Z(d8U.toString(),d8U.toString().length,58487) !== d0i;d8U++){console.warn("");s5s+=2;}if(r9oI0.a9Z(s5s.toString(),s5s.toString().length,1507) !== S$o){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");}u5l.Marker.Performance.drawCalloutMarker(B3m,E0Q,w1p);};u5l.ChartEngine.prototype.drawMarkerStem=function(C4G,H9V,X7t){r9oI0.Y0_();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");u5l.Marker.Performance.drawMarkerStem(C4G,H9V,X7t);};u5l.ChartEngine.prototype.positionDOMMarkers=function(){r9oI0.M17();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");u5l.Marker.Performance.drawMarkers(this);};u5l.Marker.Performance=function(r8t){var L63=r9oI0;var V1s,R8B,u5T,U75,e$g,z28,D4R,D0s,t0G,f$H,r94,b83,M40,I8z,F6R,s8z;V1s="callo";V1s+="ut";R8B=".stx-visu";R8B+="al";u5T="<di";u5T+="v class=\"stx-";u5T+="stem\"";u5T+="></div>";U75="<div cla";U75+="ss=\"stx-visual\">";L63.M17();e$g="T";e$g+="EMPLATE";this.params={displayCategory:!!({}),displayStem:!![],invert:!({}),story:"",headline:""};u5l.extend(this.params,r8t);z28=this.template=document.createElement(e$g);L63.N94(107);z28.innerHTML=L63.z95('<div class="stx-marker highlight">',"</div>","</div>",u5T,U75,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-marker-content">',"</div>");D4R=this.template.content.cloneNode(!"");D0s=D4R.querySelector(".stx-marker");D0s.classList.add(r8t.type);D0s.classList.add(r8t.category);if(r8t.size){D0s.classList.add(r8t.size);}t0G=D4R.querySelector(R8B);f$H=D4R.querySelector(".stx-marker-expand");r94=D4R.querySelector("h4");b83=D4R.querySelector(6056 != ("850" ^ 0)?695.36 === (9174,3168)?8.79e+3:"p":"l");r94.innerText=this.params.headline;b83.innerText=this.params.story;this.hasText=!!r8t.headline || !!r8t.story;this.deferAttach=!!"1";this.node=D4R.firstChild;M40=-1447042471;I8z=-517541026;F6R=2;for(var R5T=1;L63.a9Z(R5T.toString(),R5T.toString().length,77140) !== M40;R5T++){this.node.params=this.params;F6R+=2;}if(L63.j$g(F6R.toString(),F6R.toString().length,76011) !== I8z){this.node.params=this.params;}this.node.params=this.params;this.visual=t0G;this.expand=f$H;if(r8t.type === V1s){s8z=f$H.removeChild(r94);D4R.querySelector(".stx-marker-content").insertBefore(s8z,f$H);}};u5l.inheritsFrom(u5l.Marker.Performance,u5l.Marker.NodeCreator,!({}));u5l.Marker.Performance.consolidateExpanded=function(K24){var c2q,c1E,r7n,j4Q,j4d;c2q=K24.markerHelper.highlighted;if(!c2q.length){return;}c1E=K24.activeMarker;if(!c1E.consolidated){c1E.consolidated=[];}function u6h(d1_){var t5u,u0P;t5u=d1_.params.node;u0P=t5u.expand;if(!u0P){return null;}r9oI0.M17();return u0P.querySelector(".marker_content") || u0P;}for(var D6t=c2q.length - 1;D6t >= +"0";D6t--){if(c1E === c2q[D6t])continue;r7n=u6h(c2q[D6t]);if(r7n){j4Q="<conso";j4Q+="lidat";j4Q+="ed><";j4Q+="br><br>";j4d=j4Q + r7n.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"") + "</consolidated>";u6h(c1E).innerHTML+=j4d;}}c1E.stxNodeCreator.quickCache(c1E);};u5l.Marker.Performance.reconstituteExpanded=function(e65){r9oI0.Y0_();var f04;f04="co";f04+="nsolidated";if(!e65.markerHelper.highlighted.length || !e65.activeMarker){return;}Array.from(e65.activeMarker.params.node.expand.querySelectorAll(f04)).forEach(b4s=>{return b4s.remove();});};u5l.Marker.Performance.drawMarkers=function(h$q){var V9x,h0F,Y2Q,y$P,U7V,x4j;V9x=h$q.getMarkerArray("all");h0F=h$q.chart;for(var a$$=+"0";a$$ < V9x.length;a$$++){Y2Q=V9x[a$$];y$P=Y2Q.stxNodeCreator;U7V=h0F.dataSegment[0].tick;x4j=h0F.dataSegment[h0F.dataSegment.length - 1].tick;if(U7V <= Y2Q.tick <= x4j){if(y$P && y$P.drawMarker){y$P.drawMarker(Y2Q);}}}};u5l.Marker.Performance.calculateMarkerStyles=function(Y22,v$1,e9o){var c77,R9Y,U8g,V1v,t8$,J_7,R6W,B0f;r9oI0.M17();c77=Y22.container.ownerDocument;R9Y=c77.querySelector(".stx-marker-templates");if(!R9Y){U8g="-";U8g+="1000";U8g+="p";U8g+="x";R9Y=document.createElement("DIV");R9Y.style.visibility="hidden";R9Y.style.left=U8g;V1v=-43923129;t8$=899748992;J_7=2;for(var I9t=1;r9oI0.a9Z(I9t.toString(),I9t.toString().length,96102) !== V1v;I9t++){c77.body.append(R9Y);J_7+=2;}if(r9oI0.a9Z(J_7.toString(),J_7.toString().length,23754) !== t8$){c77.body.append(R9Y);}}R9Y.appendChild(v$1.node);R6W=getComputedStyle(v$1.stxNodeCreator.visual);if(!Y22.styles.stx_marker_stem){B0f=getComputedStyle(v$1.node.querySelector(".stx-stem"));Y22.styles.stx_marker_stem=Y22.cloneStyle(B0f);}Y22.styles[e9o]=Y22.cloneStyle(R6W);R9Y.removeChild(v$1.node);};u5l.Marker.Performance.drawCircleMarker=function(X72,n36,V8N){var y13=r9oI0;var F2P,x_c,R1P,Z4e,l5Q,G48,k8v,S0W,x$G,o9k;F2P="px R";F2P+="oboto, Helvetica, sans-serif";x_c="normal bold";x_c+=" ";R1P=X72.params.stx;Z4e=R1P.chart;y13.M17();l5Q=Z4e.context;G48=V8N.x;k8v=V8N.y;S0W=V8N.radius;x$G=V8N.label;o9k=V8N.color?V8N.color:n36.backgroundColor;l5Q.save();l5Q.beginPath();l5Q.setLineDash([]);l5Q.lineWidth=+"1";l5Q.fillStyle=o9k;l5Q.strokeStyle=o9k;l5Q.textAlign="center";y13.O2S(108);var c_K=y13.m68(9,72,5,180,6);y13.N94(109);var u_n=y13.z95(1,24,20,480);y13.O2S(110);var C2G=y13.m68(2,5,12,46,8);l5Q.font=x_c + Math.min(c_K,u_n * (S0W + C2G)) + F2P;l5Q.arc(G48,k8v,S0W,0,("2" << 64) * Math.PI,!!0);l5Q.fill();l5Q.stroke();l5Q.closePath();if(x$G){l5Q.fillStyle=u5l.chooseForegroundColor(l5Q.fillStyle);y13.N94(2);l5Q.fillText(x$G,G48,y13.m68(k8v,1));}if(X72.highlight || X72.active){if(u5l.isTransparent(o9k)){l5Q.strokeStyle=R1P.defaultColor;}l5Q.beginPath();y13.N94(2);l5Q.arc(G48,k8v,y13.z95(S0W,4),y13.m68(0,"0",y13.O2S(25)),+"2" * Math.PI,!!0);l5Q.stroke();l5Q.closePath();}l5Q.restore();};u5l.Marker.Performance.drawSquareMarker=function(j2E,u0I,H9J){var u6g=r9oI0;var T6Q,J8i,n87,p66,i$d,r3U,p29,u2S,N8C,W4d,d39;T6Q="d";T6Q+="iamond";J8i=j2E.params.stx;n87=J8i.chart;p66=n87.context;i$d=H9J.x;r3U=H9J.y;p29=H9J.half;u2S=H9J.label;N8C=H9J.color?H9J.color:u0I.backgroundColor;u6g.O2S(111);W4d=u6g.z95(p29,"2");p66.setLineDash([]);p66.lineWidth=1;p66.fillStyle=N8C;p66.strokeStyle=N8C;p66.save();p66.beginPath();if(j2E.node.params.type === T6Q){p66.translate(i$d,r3U);p66.rotate(Math.PI / 4);p66.translate(-i$d,-r3U);p29/=1.42;u6g.N94(21);W4d=u6g.z95(p29,2);}u6g.O2S(3);p66.fillRect(u6g.z95(i$d,p29),u6g.z95(r3U,p29),W4d,W4d);if(j2E.highlight || j2E.active){u6g.O2S(46);p66.strokeRect(u6g.z95(p29,i$d,4),u6g.z95(p29,r3U,4,u6g.O2S(46)),u6g.z95(W4d,8,u6g.N94(2)),u6g.z95(W4d,8,u6g.O2S(2)));}p66.closePath();p66.restore();if(u2S){d39="normal b";d39+="old ";p66.save();p66.textAlign="center";u6g.O2S(49);var J8D=u6g.z95(3,3,11);u6g.N94(3);var h8Z=u6g.m68(6,4);p66.font=d39 + Math.min(J8D,h8Z * p29) + "px Roboto, Helvetica, sans-serif";p66.fillStyle=u5l.chooseForegroundColor(p66.fillStyle);u6g.O2S(2);p66.fillText(u2S,i$d,u6g.z95(r3U,1));p66.restore();}};u5l.Marker.Performance.drawCalloutMarker=function(I6g,U5x,d$S){var w5y,w1s,p5_,v66,d0Y,A8M,g8L,G$m,t0W,r3Q,G99,q4j,b5k,t60,J8r;w5y="rg";w5y+="ba(255";w5y+=",255,255,0.65)";w1s=I6g.params.stx;p5_=w1s.chart;v66=p5_.context;d0Y=I6g.params;A8M=d$S.x;g8L=d$S.y;G$m=d$S.half;t0W=d$S.midWidth;r3Q=d$S.headline;G99=d$S.color?d$S.color:U5x.backgroundColor;q4j=G$m * ("2" | 2) || 25;b5k=Math.round(v66.measureText(r3Q).width);t60=t0W?t0W * 2:b5k + 8;v66.beginPath();v66.setLineDash([]);v66.lineWidth=1;v66.fillStyle=G99;v66.strokeStyle=G99;v66.font="normal bold 12px Roboto, Helvetica, sans-serif";v66.rect(d0Y.box.x0,d0Y.box.y0,t60,q4j);v66.fill();v66.stroke();v66.closePath();v66.beginPath();v66.fillStyle=I6g.highlight || I6g.active?"rgba(255,255,255,0.8)":w5y;r9oI0.N94(112);J8r=r9oI0.m68(2,20,b5k,t60);v66.rect(d0Y.box.x0 + J8r,g8L - G$m,b5k + 40,22);v66.fill();v66.stroke();v66.closePath();v66.fillStyle="black";v66.fillText(r3Q,d0Y.box.x0 + J8r + 10,g8L);};u5l.Marker.Performance.drawMarkerStem=function(g1V,P8n,v9e){var q8f,S3g,h5Z,d3C,a50,R6J,u77,T$r;q8f=g1V.params.stx;S3g=q8f.chart;h5Z=S3g.context;d3C=v9e.x;a50=v9e.y;h5Z.beginPath();h5Z.strokeStyle=P8n.borderLeftColor;h5Z.setLineDash([1,1]);R6J=u5l.stripPX(P8n.height);u77=v9e.invert?g1V.params.box.y0:g1V.params.box.y1;T$r=v9e.invert?g1V.params.box.y0 - R6J:g1V.params.box.y1 + R6J;h5Z.moveTo(d3C,u77);h5Z.lineTo(d3C,T$r);h5Z.stroke();h5Z.closePath();};u5l.Marker.Performance.prototype.drawMarker=function(e6D){var V__=r9oI0;var R2K,G3N,Q30,x6T,I0m,N7H,v97,y3m,W7F,t$h,E5C,d5e,x9F,W48,Q2o,B5T,h12,W9S,I2l,z9B,p1n,T0E,N5f,T3Q,d7I,A5y,u9p,u9l,c3M,S6a;R2K="di";R2K+="a";R2K+="mon";R2K+="d";G3N="stx_";G3N+="marke";G3N+="r_";Q30=e6D.params;x6T=e6D.params.stx;if(!x6T){return;}I0m=x6T.chart;N7H=I0m.dataSegment;if(!N7H || !N7H.length){return;}v97=x6T.panels[e6D.params.panelName];if(v97.hidden){return;}y3m=e6D.params.yAxis || v97.yAxis;W7F=e6D.stxNodeCreator.params;if(W7F.hide){return;}t$h=W7F.type;E5C=W7F.category;d5e=W7F.headline;x9F=W7F.displayCategory;W48=W7F.color;Q2o=W7F.displayLabel;B5T=W7F.invert;h12=W7F.size;if(W48 === "auto"){W48=x6T.defaultColor;}V__.O2S(113);W9S=V__.z95(E5C,(8620,3040) < 8541?8050 === (682,1490)?0x24b7:3266 < 558.65?(0x12a9,"a"):"_":("X",!!0),G3N,t$h);if(h12){V__.N94(2);W9S+=V__.m68((5019,7810) != 8710?6040 > (42.56,5234)?"_":(919.99,801.4) > 5170?0x1db9:762.12:+"990.19",h12);}if(!x6T.styles[W9S]){u5l.Marker.Performance.calculateMarkerStyles(x6T,e6D,W9S);}I2l=e6D.style=x6T.styles[W9S];z9B=x6T.styles.stx_marker_stem;V__.N94(96);var O1z=V__.m68(12,4,18,12,998);V__.N94(114);var F2U=V__.z95(12,16,4,4,4);p1n=parseInt(I2l.height,O1z) / F2U;V__.N94(115);var F96=V__.m68(22,1,4,8);V__.O2S(28);var e_q=V__.z95(8,2,12);T0E=parseInt(I2l.width,F96) / e_q;if(t$h === R2K){p1n*=1.42;V__.N94(21);T0E*=V__.z95("1.42",1);}N5f=W7F.displayStem?parseInt(z9B.height,+"10") + parseInt(z9B.marginBottom,10):"0" >> 64;V__.O2S(22);T3Q=V__.m68(p1n,N5f,2);d7I=Q30.offset || 0;A5y=x6T.pixelFromTick(e6D.tick);u9p=Q30.node.calculateYPosition({marker:e6D,panel:v97,yAxis:y3m,height:T3Q,half:p1n,offset:d7I,stemHeight:N5f,inverted:B5T,field:Q30.field,x:A5y});if(!e6D.tick && e6D.tick !== +"0"){return;}Q30.box={x0:A5y - (T0E || p1n),y0:u9p - p1n,x1:A5y + (T0E || p1n),y1:u9p + p1n,midY:p1n,midX:T0E || p1n,stemHeight:N5f};if(!x9F){E5C="";}else {E5C=E5C["0" ^ 0].toUpperCase();}x6T.startClip(v97.name);if(t$h === "circle"){u5l.Marker.Performance.drawCircleMarker(e6D,I2l,{x:A5y,y:u9p,radius:p1n,label:Q2o || E5C,color:W48});}else if(t$h === "square" || t$h === "diamond"){u9l=-2004323314;c3M=920964983;S6a=2;for(var C8r="1" - 0;V__.a9Z(C8r.toString(),C8r.toString().length,54977) !== u9l;C8r++){u5l.Marker.Performance.drawSquareMarker(e6D,I2l,{x:A5y,y:u9p,half:p1n,label:Q2o && E5C,color:W48});S6a+=2;}if(V__.j$g(S6a.toString(),S6a.toString().length,35656) !== c3M){u5l.Marker.Performance.drawSquareMarker(e6D,I2l,{x:A5y,y:u9p,half:p1n,label:Q2o || E5C,color:W48});}}else if(t$h === "callout"){u5l.Marker.Performance.drawCalloutMarker(e6D,I2l,{x:A5y,y:u9p,half:p1n,midWidth:T0E,headline:d5e,color:W48});}else {V__.N94(92);console.warn(V__.m68(t$h," is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, and Callout.","Marker type: "));}if(W7F.displayStem){u5l.Marker.Performance.drawMarkerStem(e6D,z9B,{x:A5y,y:u9p,invert:B5T});}x6T.endClip();if(e6D.attached){this.positionPopUpNode(e6D);}};u5l.Marker.Performance.prototype.positionPopUpNode=function(L_b){var A_c=r9oI0;var n4K,Z0j,r6l,O5q,z6u,G_Q,F5g,f5l,L5N,k11,H$j,X1z,w_d,X8y,j1v,m3J,O9I,X2d,k3F,f1L,f9B,j5T;n4K="px) ";n4K+="translat";n4K+="eY";n4K+="(";Z0j="translat";Z0j+="eX(";if(!L_b.attached || !L_b.params.box){return;}r6l=L_b.params;O5q=r6l.stx;A_c.Y0_();z6u=r6l.box;G_Q=L_b.params.node.expand;F5g=O5q.chart.dataSet;f5l=O5q.chart.dataSegment;L5N=O5q.panels[r6l.panelName];if(L_b.tick){H$j="D";H$j+="ate";X1z=[F5g[f5l[0] && f5l[0].tick - 1],F5g[f5l["0" * 1] && f5l[0].tick - 2]];w_d=O5q.getFirstLastDataRecord(X1z.concat(f5l),"Date");A_c.N94(20);var B95=A_c.m68(14,13);A_c.O2S(3);var j9$=A_c.m68(1,0);A_c.O2S(2);var M2H=A_c.z95(0,1);X8y=[F5g[f5l[f5l.length - B95].tick + j9$],F5g[f5l[f5l.length - M2H].tick + +"2"]];j1v=O5q.getFirstLastDataRecord(f5l.concat(X8y),H$j,!![]);k11=w_d.DT <= F5g[L_b.tick].DT && F5g[L_b.tick].DT <= j1v.DT && L_b.params.box.y0 <= L5N.yAxis.bottom && L_b.params.box.y1 >= L5N.yAxis.top;}else {k11=!1;}if(!L_b.highlight && !L_b.active){k11=![];}G_Q.style.visibility=k11?"":"hidden";if(!k11){return;}if(G_Q.style.height !== ""){G_Q.style.height="";}m3J=G_Q.rects;A_c.N94(93);var J$E=A_c.m68(0,20,2,7,19);O9I=m3J.height / J$E;k3F=L_b.node.params.infoOffset || +"0";if(L_b.node.params.infoOnLeft){X2d=z6u.x0 - m3J.width - k3F < L5N.left?z6u.x1 + k3F:z6u.x0 - m3J.width - k3F;}else {X2d=z6u.x0 + m3J.width > L5N.right?z6u.x0 - m3J.width - k3F:z6u.x1 + k3F;}X2d-=O5q.chart.left;f1L=r6l.avoidFlush?5:"0" | 0;f9B=z6u.y0 - O9I >= L5N.yAxis.top?z6u.y0 + z6u.midY - O9I:L5N.yAxis.top + f1L;if(!r6l.avoidFlush && z6u.y1 + z6u.stemHeight === L5N.yAxis.bottom && m3J.height > z6u.y1 - z6u.y0 + z6u.stemHeight){f9B=z6u.y1 - m3J.height + z6u.stemHeight;}if(z6u.y1 + O9I > L5N.yAxis.bottom){f9B=L5N.yAxis.bottom - m3J.height - f1L;}if(m3J.height > L5N.yAxis.height){f9B=L5N.yAxis.top + f1L;A_c.O2S(8);var e2G=A_c.m68(16,38,45,7);G_Q.style.height=L5N.yAxis.height - e2G * f1L + "px";}f9B-=L5N.yAxis.top;j5T=Z0j + Math.floor(X2d) + n4K + Math.floor(f9B) + "px) translateZ(0)";G_Q.style.transform=j5T;G_Q.transform={translateX:X2d,translateY:f9B};};u5l.Marker.Performance.prototype.quickCache=function(J_W){var C8F,M6h,C0g,a20;C8F=J_W.params.node;M6h=C8F.expand;r9oI0.M17();C0g=J_W.style;a20=u5l.stripPX(C0g.marginLeft) + u5l.stripPX(C0g.marginRight) + u5l.stripPX(C0g.borderRight) + u5l.stripPX(C0g.borderLeft);M6h.rects=M6h.getBoundingClientRect();M6h.scrollBarWidth=M6h.rects.width - M6h.clientWidth - a20;};u5l.Marker.Performance.prototype.calculateYPosition=function(c_v){var e8R=r9oI0;var O9k,B0E,K$M,L1F,o_x,O_l,H8o,J88,h1x,t9X,Q10,v0v,P2d,C7F,P9t,J5n,e1o,Y8t,j4q,A2d,R3i,H$W,D1G,v95,T36,o9J,y2W,P$W,F9I,a_A,U5p,v8T;O9k="bottom_la";O9k+="ne";B0E="to";B0E+="p_lane";K$M="on_";K$M+="ca";K$M+="ndl";K$M+="e";L1F="abov";L1F+="e_candle";o_x="n";o_x+="one";O_l="l";O_l+="o";O_l+="w";H8o="hi";H8o+="g";H8o+="h";J88=c_v.marker;h1x=c_v.panel;t9X=c_v.yAxis;Q10=c_v.height;v0v=c_v.half;P2d=c_v.offset;C7F=c_v.stemHeight;P9t=c_v.inverted;J5n=c_v.field;e1o=J88.params.stx;Y8t=e1o.chart;j4q=e1o.chart.highLowBars;A2d=Y8t.dataSet[J88.tick];if(!A2d){return;}if(J5n){A2d=A2d[J5n];}if(!A2d){return;}if(typeof A2d === "number"){A2d={Close:A2d};A2d[Y8t.defaultPlotField]=A2d.Close;j4q=!"1";}e8R.Y0_();R3i=e1o.getBarBounds(A2d,!!J5n);H$W=j4q?R3i[t9X.flipped?"low":H8o]:A2d[Y8t.defaultPlotField];D1G=j4q?R3i[t9X.flipped?"high":O_l]:A2d[Y8t.defaultPlotField];v95=J88.params.yPositioner;if(isNaN(H$W)){e8R.N94(3);var P2X=e8R.m68(11,9);H$W=(t9X.high + t9X.low) / P2X;}if(isNaN(D1G)){e8R.N94(116);var O86=e8R.m68(1,5,17,12);D1G=(t9X.high + t9X.low) / O86;}o9J=0;if(v95 != o_x){y2W="u";y2W+="n";y2W+="def";y2W+="ined";P$W="un";P$W+="d";P$W+="e";P$W+="fined";e8R.N94(117);var m2_=e8R.z95(15,19,4,95);F9I=v95.indexOf("_lane") > m2_;a_A=e1o.markerHelper.placementMap;e8R.O2S(118);var s_q=e8R.m68(8,83222,12110,18,7);e8R.O2S(61);var b1W=e8R.m68(47377,3384,16);e8R.O2S(119);var e8M=e8R.z95(5664,3,11384,1,14);U5p=v95 + (s_q == +"6102"?"g":321.52 !== (b1W,e8M)?"|":(!!"1",+"221.13")) + h1x.name;if(F9I && typeof a_A[U5p] == P$W){a_A[U5p]=+"2";}e8R.O2S(120);var W7V=e8R.z95(4,9048,72401,7,9);e8R.O2S(92);var E4g=e8R.z95(9,4769,252);e8R.O2S(121);var T3S=e8R.z95(15,79936,3,4,1188999);e8R.O2S(106);var x6$=e8R.m68(7173,1,107608,16);e8R.N94(114);var L_0=e8R.m68(12,5411,5409,5411,11);e8R.O2S(92);var m2F=e8R.z95(6,7663,511);e8R.N94(105);var U$Q=e8R.m68(5652,333441,10,15,4);e8R.O2S(2);var w3i=e8R.z95(52,156);e8R.O2S(122);var q6X=e8R.m68(398,7,7,3580,1);v8T=U5p + (W7V !== E4g?(T3S,x6$) == L_0?(m2F,U$Q) == w3i?("S",720.61):q6X:"-":(394.28,"H")) + (F9I?J88.params.label:c_v.x);if(typeof a_A[v8T] == y2W){a_A[v8T]=F9I?a_A[U5p]:+"0";e8R.O2S(22);a_A[U5p]+=e8R.m68("2",Q10,1);}o9J=a_A[v8T];if(!F9I){e8R.O2S(2);a_A[v8T]+=e8R.z95(Q10,1);}}switch(v95){case "value":if(J88.params.y || J88.params.y === 0){T36=e1o.pixelFromPrice(J88.params.y,h1x,t9X) - Q10 * 0.5 + v0v;break;}case L1F:T36=e1o.pixelFromPrice(H$W,h1x,t9X) - v0v - (!P9t && C7F || P2d) - o9J;break;case "below_candle":T36=e1o.pixelFromPrice(D1G,h1x,t9X) + v0v + (P9t && C7F || P2d) + o9J;break;case K$M:e8R.O2S(3);var e6l=e8R.z95(14,12);e8R.O2S(7);var S6j=e8R.m68(0,15,14);T36=e1o.pixelFromPrice((H$W + D1G) / ("2" | e6l),h1x,t9X) - Q10 * ("0.5" * S6j) + v0v;break;case "top":case B0E:T36=h1x.yAxis.top + v0v + (P9t && C7F || P2d) + o9J;break;case "bottom":case O9k:T36=h1x.yAxis.bottom - v0v - (!P9t && C7F || P2d) - o9J;break;default:break;}e8R.O2S(123);var i0v=e8R.z95(3330,14,14,2,19);return Math.round(i0v * T36) / +"2";};u5l.Marker.Performance.prototype.prepareForHolder=function(a2Q){var r0u,N$D;r0u=this.expand;N$D=a2Q.params.stx;r0u.classList.add(this.params.type);r0u.classList.add(this.params.category);N$D.markerHelper.domMarkers.push(a2Q);r9oI0.M17();return r0u;};u5l.Marker.Performance.prototype.addToHolder=function(n93){var M5M,F$X;M5M=this.expand;F$X=n93.params.stx;u5l.Marker.Performance.reconstituteExpanded(F$X);u5l.Marker.Performance.consolidateExpanded(F$X);r9oI0.Y0_();this.quickCache(n93);if(M5M.clickClosure){return;}M5M.addEventListener("mousedown",j7p);function j7p(T8P){F$X.activeMarker=n93;F$X.activeMarker.click({cx:T8P.clientX,cy:T8P.clientY,panel:F$X.currentPanel});r9oI0.M17();T8P.stopPropagation();}M5M.addEventListener("touchstart",j7p,{passive:!({})});M5M.clickClosure=j7p;};u5l.Marker.Performance.prototype.remove=function(C3m){var o6v,h0a,N6T,a3J;o6v=C3m.params.stx;if(!o6v){return;}if(!o6v.markerHelper.domMarkers){return;}h0a=o6v.markerHelper.domMarkers.indexOf(C3m);if(h0a != -("1" << 64)){o6v.markerHelper.domMarkers.splice(h0a,1);}if(C3m.attached){N6T=o6v.panels[C3m.params.panelName];a3J=C3m.params.node.expand;if(a3J.parentNode === N6T.subholder){N6T.subholder.removeChild(a3J);}a3J.removeEventListener("click",a3J.clickClosure);}};u5l.Marker.Performance.prototype.click=function(W1T){var D9q,Z71,X8H;if(!this.hasText){return;}if(arguments.length > 1){W1T={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:V9L, cy:p_R, marker:e0t, panel:a6M}=W1T;D9q=e0t.params.stx;if(e0t.attached){X8H=this.expand;if(X8H.rects && X8H.transform && X8H.rects.width - X8H.scrollBarWidth + X8H.transform.translateX < D9q.backOutX(V9L) && D9q.backOutX(V9L) < X8H.rects.width + X8H.transform.translateX){return;}this.remove(e0t);}else {D9q.addToHolder(e0t);Z71=!!({});}e0t.attached=!e0t.attached;e0t.active=!e0t.active;if(Z71){e0t.stxNodeCreator.positionPopUpNode(e0t);}};}};U=F8E=>{var c7o,l46;c7o="u";c7o+="nd";c7o+="ef";c7o+="ined";l46=typeof _CIQ !== c7o?_CIQ:F8E.CIQ;l46.Renderer.OHLC.requestNew=function(F3f,W5D){var C7A,F_3,F7_,N$a,P9v,h6B,J0A,g3W,u$G,h7Q,o17;C7A=null;F_3=W5D.hlc;F7_=W5D.colored;N$a=W5D.hollow;P9v=W5D.volume;h6B=W5D.histogram;for(var B1W=+"0";B1W < F3f.length;B1W++){J0A="h";J0A+="l";J0A+="c";g3W="col";g3W+="or";g3W+="ed";u$G="v";u$G+="ol";u$G+="ume";h7Q="can";h7Q+="dl";h7Q+="e";o17=F3f[B1W];switch(o17){case "bar":case h7Q:C7A=o17;break;case u$G:P9v=!![];break;case "hollow":N$a=!!"1";break;case g3W:F7_=!0;break;case "histogram":h6B=!!1;C7A="candle";break;case J0A:F_3=!![];C7A="bar";break;default:return null;}}if(C7A === null){return null;}return new l46.Renderer.OHLC({params:l46.extend(W5D,{type:C7A,hlc:F_3,colored:F7_,hollow:N$a,volume:P9v,histogram:h6B})});};l46.Renderer.OHLC.getChartParts=function(E8X,u$q){var d_j,v4V,U0m,W5i,A$i,G66,r9D,X2X,h1T,c_E,X9r,W2U,Q$9,n73,j1G,t5Q,F0_,g2H,v6D,C6D,T5f,r3O,i8G,R5N,x6d,i3V,r5f,y8f,L9R,Z4l,d7E,L9u,y3A,X9h,N0p,v9M,o3z;d_j="borde";d_j+="r_color_down";v4V="c";v4V+="an";v4V+="dl";v4V+="e";U0m="hol";U0m+="l";U0m+="o";U0m+="w";W5i="fill_";W5i+="color_up";A$i="c";A$i+="an";A$i+="d";A$i+="le";G66="h";G66+="o";G66+="llo";G66+="w";r9D="fill_col";r9D+="or_down";X2X="ca";X2X+="n";X2X+="d";X2X+="le";h1T="hol";h1T+="low";c_E="fill_";c_E+="color_up";X9r="sh";X9r+="ad";X9r+="ow";W2U="hol";W2U+="l";W2U+="o";W2U+="w";Q$9="h";Q$9+="ol";Q$9+="low";n73="border_co";n73+="l";n73+="or";n73+="_down";j1G="fi";j1G+="ll_color";j1G+="_do";j1G+="wn";t5Q="c";t5Q+="and";t5Q+="l";t5Q+="e";F0_="border_";F0_+="col";F0_+="or";F0_+="_up";g2H="fill_colo";g2H+="r_up";v6D="border_co";v6D+="lor_even";C6D="shad";C6D+="ow";T5f="c";T5f+="and";T5f+="le";r3O="s";r3O+="h";r3O+="adow";i8G="shad";i8G+="ow";R5N="border_co";R5N+="l";R5N+="o";R5N+="r_down";x6d="stx_bar_d";x6d+="own";i3V="b";i3V+="ar";r5f="bor";r5f+="der_col";r5f+="o";r5f+="r_up";y8f="border_";y8f+="color";L9R="s";L9R+="tx_bar_chart";Z4l="histo";Z4l+="gr";Z4l+="am";d7E="histogra";d7E+="m";L9u=1;y3A=2;r9oI0.N94(40);X9h=r9oI0.m68(0,"4");N0p=8;v9M=16;o3z=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:N0p,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!"1",useBorderStyleProp:!!({})},{type:"histogram",drawType:d7E,style:"stx_histogram_down",condition:v9M,fill:"fill_color_down",border:"border_color_down",useColorInMap:!"",useBorderStyleProp:!""},{type:"histogram",drawType:Z4l,style:"stx_histogram_even",condition:o3z,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!1,useColorInMap:!!1,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:E8X || L9R,border:y8f,useColorInMap:!!"1"},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:u$q?N0p:L9u,border:r5f,useColorInMap:!!1},{type:"bar",drawType:i3V,style:x6d,condition:u$q?v9M:y3A,border:R5N,useColorInMap:!!"1"},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:u$q?o3z:X9h,border:"border_color_even",skipIfPass:!"",useColorInMap:!0},{type:"candle",drawType:i8G,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:r3O,style:"stx_candle_shadow_up",condition:N0p,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:v9M,border:"border_color_down"},{type:T5f,drawType:C6D,style:"stx_candle_shadow_even",condition:o3z,border:v6D,skipIfPass:!![]},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:N0p,fill:g2H,border:F0_,useColorInMap:!![],useBorderStyleProp:!""},{type:t5Q,drawType:"candle",style:"stx_candle_down",condition:v9M,fill:j1G,border:n73,useColorInMap:!!({}),useBorderStyleProp:!0},{type:Q$9,drawType:"shadow",style:"stx_hollow_candle_up",condition:L9u,border:"border_color_up"},{type:W2U,drawType:X9r,style:"stx_hollow_candle_down",condition:y3A,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:X9h,border:"border_color_even",skipIfPass:!!({})},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:L9u | v9M,fill:c_E,border:"border_color_up",useColorInMap:!!1},{type:h1T,drawType:X2X,style:"stx_hollow_candle_down",condition:y3A | v9M,fill:r9D,border:"border_color_down",useColorInMap:!!"1"},{type:G66,drawType:"candle",style:"stx_hollow_candle_even",condition:X9h | v9M,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!({}),useColorInMap:!""},{type:"hollow",drawType:A$i,style:"stx_hollow_candle_up",condition:L9u | N0p,fill:W5i,border:"border_color_up"},{type:U0m,drawType:v4V,style:"stx_hollow_candle_down",condition:y3A | N0p,fill:"fill_color_down",border:d_j},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:X9h | N0p,fill:"fill_color_even",border:"border_color_even"}];;};l46.Renderer.Bars=function(I3u){var f9J;this.construct(I3u);f9J=this.params;f9J.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;r9oI0.Y0_();f9J.hlc=f9J.volume=f9J.hollow=f9J.histogram=!({});};l46.inheritsFrom(l46.Renderer.Bars,l46.Renderer.OHLC,!1);l46.Renderer.HLC=function(Y4h){var w7R;this.construct(Y4h);w7R=this.params;w7R.type="bar";w7R.hlc=!!"1";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;w7R.volume=w7R.hollow=w7R.histogram=!({});};l46.inheritsFrom(l46.Renderer.HLC,l46.Renderer.Bars,!({}));l46.Renderer.Shading=function(D$B){var W93;W93="ran";W93+="ge";W93+="channel";this.construct(D$B);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=![];r9oI0.M17();this.shading=[];if(this.params.type == W93){this.highLowBars=!!({});}};l46.inheritsFrom(l46.Renderer.Shading,l46.Renderer.Lines,!!"");l46.Renderer.Shading.requestNew=function(D$C,c0y){var g5Z,d1b,P3r,u73,G61,Z3R;g5Z=null;d1b=null;r9oI0.M17();for(var L$q=0;L$q < D$C.length;L$q++){P3r="ste";P3r+="p";u73="ran";u73+="gec";u73+="han";u73+="nel";G61="r";G61+="a";G61+="ngechannel";Z3R=D$C[L$q];if(Z3R == G61){g5Z=u73;}else if(Z3R == P3r){d1b=!![];}}if(g5Z === null){return null;}return new l46.Renderer.Shading({params:l46.extend(c0y,{type:g5Z,step:d1b})});};l46.Renderer.Shading.prototype.setShading=function(d14){if(d14.constructor != Array){d14=[d14];}this.shading=d14;};l46.Renderer.Shading.prototype.draw=function(){var R$c=r9oI0;R$c.Y0_();var s24,b5T,U8n,G_R,C9u,S_g,H8S,p5Y,q3l,k2e,w$p,w1T,Z50,n8_,n55,o9a,G9v,V2U,y4P,R$l,W7c,e9j,Z_I,M3N,w$5;s24=this.stx;b5T=this.params;U8n=s24.panels[b5T.panel].chart;if(b5T.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {G_R="stx_line_d";G_R+="own";C9u="Sha";C9u+="d";C9u+="i";C9u+="ng";S_g="S";S_g+="ha";S_g+="din";S_g+="g";H8S="H";H8S+="igh";p5Y="a";p5Y+="u";p5Y+="t";p5Y+="o";this.beenSetup=!0;b5T.display=this.seriesParams[0].display;b5T.yAxis=this.seriesParams["0" << 0].yAxis;q3l=this.seriesParams[0].color || p5Y;k2e=this.seriesParams[0].symbol;w$p="";if(k2e){R$c.O2S(2);w$p=R$c.m68(k2e,9356 >= 241.96?".":8.34e+3);}this.removeAllSeries(!!({}));w1T=b5T.name;s24.addSeries(null,{symbol:k2e,loadData:!!k2e,field:H8S,renderer:S_g,name:w1T,style:"stx_line_up",display:b5T.display,shareYAxis:!""});s24.addSeries(null,{symbol:k2e,loadData:!!k2e,field:"Low",renderer:C9u,name:w1T,style:G_R,display:b5T.display,shareYAxis:!!1});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:q3l});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");Z50=this;this.errTimeout=setTimeout(function(){Z50.errTimeout=null;},10000);}}n8_={};for(n55=0;n55 < this.seriesParams.length;n55++){o9a={};if(U8n.series[this.seriesParams[n55].id]){o9a=l46.clone(U8n.series[this.seriesParams[n55].id].parameters);}n8_[this.seriesParams[n55].id]={parameters:l46.extend(l46.extend(o9a,b5T),this.seriesParams[n55]),yValueCache:this.caches[this.seriesParams[n55].id]};}function L8o(t2R){var J2m,i1c,F99;J2m=n8_[t2R];if(J2m){i1c=J2m.parameters.field;F99=J2m.parameters.subField;R$c.N94(2);return R$c.m68(i1c,F99?("7570" << 64 === (899.79,234)?(!!0,305.89):1695 > (340,7230)?(5220,415.76) !== "389.43" - 0?(4.03e+3,"S"):0x1700:".") + F99:"");}return t2R;}s24.drawSeries(U8n,n8_,b5T.yAxis,this);if(U8n.legend && b5T.type == "rangechannel"){if(!U8n.legend.colorMap){U8n.legend.colorMap={};}G9v=b5T.display;V2U=[s24.getCanvasColor("stx_line_up"),s24.getCanvasColor("stx_line_down")];U8n.legend.colorMap[G9v]={color:V2U,display:G9v,isBase:this == s24.mainSeriesRenderer};;}for(n55 in n8_){this.caches[n55]=n8_[n55].yValueCache;}for(n55=0;n55 < this.shading.length;n55++){y4P="C";y4P+="lo";y4P+="se";R$l="Cl";R$l+="o";R$l+="se";W7c=this.shading[n55];e9j=W7c.color;if(W7c.color == "auto"){e9j=s24.defaultColor;}if(!W7c.primary){W7c.primary=R$l;}if(!W7c.secondary && this.seriesParams[0]){W7c.secondary=this.seriesParams[0].field;}if(!W7c.secondary)continue;else if(!n8_[W7c.primary] && W7c.primary != "Close")continue;else if(!n8_[W7c.secondary])continue;else if(W7c.primary == y4P && b5T.yAxis && b5T.yAxis != U8n.yAxis)continue;Z_I=L8o(W7c.primary).split(7760 === (3433,+"41")?715.78:".");M3N=L8o(W7c.secondary).split(".");w$5={topBand:Z_I["0" * 1],topSubBand:Z_I[1],topColor:W7c.greater || e9j || s24.containerColor,topAxis:b5T.yAxis,bottomBand:M3N[0],bottomSubBand:M3N[1],bottomColor:W7c.lesser || e9j || s24.containerColor,bottomAxis:W7c.primary == "Close"?null:b5T.yAxis,tension:b5T.tension || U8n.tension,opacity:"0.1" - 0,step:b5T.step};if(!w$5.topColor && !w$5.bottomColor)continue;if(!b5T.highlight && s24.highlightedDraggable){w$5.opacity*=0.3;}l46.fillIntersecting(s24,b5T.panel,w$5);}};l46.Renderer.Histogram=function(i3X){this.construct(i3X);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!"";if(this.params.yAxis){this.params.bindToYAxis=!!1;if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};l46.inheritsFrom(l46.Renderer.Histogram,l46.Renderer,!"1");l46.Renderer.Histogram.prototype.adjustYAxis=function(){var z1z;z1z=this.params.yAxis;if(!z1z || z1z.baseline){return;}z1z.min=0;r9oI0.M17();z1z.highValue/=this.params.heightPercentage || 1;};l46.Renderer.Histogram.prototype.draw=function(){var p7Q,C1E,L9M,w8v,l9X;p7Q="stac";p7Q+="ked";C1E=l46.clone(this.params);C1E.type=C1E.subtype;this.useSum=C1E.subtype == p7Q;if(!C1E.yAxis || C1E.yAxis == this.stx.chart.yAxis){C1E.bindToYAxis=!"";}this.stx.drawHistogram(C1E,this.seriesParams);L9M=C1E.yAxis && C1E.yAxis.baseline;if(L9M && L9M.color){w8v=this.stx.panels[this.params.panel];l9X=this.stx.pixelFromPrice(L9M.value,w8v,this.params.yAxis) - ("0.5" - 0);this.stx.plotLine({x0:w8v.left,x1:w8v.right,y0:l9X,y1:l9X,color:L9M.color,type:"line",context:w8v.chart.context,confineToPanel:w8v,pattern:L9M.pattern || "solid",lineWidth:L9M.lineWidth || 1,opacity:L9M.opacity || 0.8,globalCompositeOperation:"destination-over"});}};l46.Renderer.Histogram.prototype.getBasis=function(O5Q,Y$U,Y2s){var i42,R1a,R3J,s0A;i42=0;r9oI0.M17();if(O5Q && this.useSum){for(var E$j="0" | 0;E$j < this.seriesParams.length;E$j++){R1a="Cl";R1a+="o";R1a+="s";R1a+="e";R3J=this.seriesParams[E$j].field;if(R3J === Y$U)break;s0A=O5Q[R3J];if(s0A && typeof s0A === "object"){s0A=s0A[Y2s || this.seriesParams[E$j].subField || this.stx.chart.defaultPlotField || R1a];}if(s0A){i42+=s0A;}}}return i42;};l46.Renderer.Heatmap=function(m65){this.construct(m65);this.params.type="heatmap";this.params.highlightable=!1;r9oI0.Y0_();this.barsHaveWidth=this.standaloneBars=!![];};l46.inheritsFrom(l46.Renderer.Heatmap,l46.Renderer,![]);l46.Renderer.Heatmap.requestNew=function(K5o,D1A){var I$N,w0e,W1z;I$N=null;for(var F_w=0;F_w < K5o.length;F_w++){w0e="h";w0e+="eatma";w0e+="p";W1z=K5o[F_w];if(W1z == w0e){I$N="heatmap";}}if(I$N === null){return null;}r9oI0.M17();return new l46.Renderer.Heatmap({params:l46.extend(D1A,{type:I$N})});};l46.Renderer.Heatmap.prototype.draw=function(){r9oI0.Y0_();this.stx.drawHeatmap(l46.clone(this.params),this.seriesParams);};l46.Renderer.Scatter=function(g_l){this.construct(g_l);this.standaloneBars=this.barsHaveWidth=!![];r9oI0.Y0_();this.bounded=!0;};l46.inheritsFrom(l46.Renderer.Scatter,l46.Renderer.Lines,![]);l46.Renderer.Scatter.requestNew=function(v7i,x4k){var g10,T4b;g10=null;for(var O7r=+"0";O7r < v7i.length;O7r++){T4b=v7i[O7r];if(T4b == "scatterplot"){g10="scatter";}}if(g10 === null){return null;}return new l46.Renderer.Scatter({params:l46.extend(x4k,{type:g10})});};l46.Renderer.Scatter.prototype.drawIndividualSeries=function(M1b,u3J){var L8B,F9c,J7S;L8B="Error, Scatter renderer requires customCh";L8B+="art.js";F9c=this.stx.panels[u3J.panel] || M1b.panel;r9oI0.M17();J7S={colors:[]};if(this.stx.scatter){J7S=this.stx.scatter(F9c,u3J);}else {console.warn(L8B);}return J7S;};};o=B$K=>{var e90,z$e;r9oI0.M17();e90=typeof _CIQ !== "undefined"?_CIQ:B$K.CIQ;if(!e90.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {z$e="Accumulation";z$e+="/Distribution";e90.Studies.calculateAccumulationDistribution=function(e8t,v$a){var R1Y,j_s,x4J,A2f,Z48;R1Y=v$a.chart.scrubbed;for(var I1k=v$a.startFrom;I1k < R1Y.length;I1k++){if(!I1k)continue;j_s=R1Y[I1k];if(j_s.futureTick)break;r9oI0.N94(3);x4J=R1Y[r9oI0.m68(I1k,1)];A2f=0;if(j_s.Close > x4J.Close){A2f=j_s.Close - Math.min(j_s.Low,x4J.Close);}else if(j_s.Close < x4J.Close){A2f=j_s.Close - Math.max(j_s.High,x4J.Close);}if(v$a.inputs["Use Volume"]){A2f*=j_s.Volume;}Z48=x4J["Result " + v$a.name];if(!Z48){Z48=0;}Z48+=A2f;if(!isNaN(j_s.Close)){j_s["Result " + v$a.name]=Z48;}}};e90.Studies.studyLibrary=e90.extend(e90.Studies.studyLibrary,{"W Acc Dist":{name:z$e,calculateFN:e90.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!!""}}});}};g=p8d=>{var R8_,R9d,G$F,h7D,E9_,o5U;R8_=typeof _CIQ !== "undefined"?_CIQ:p8d.CIQ;if(!R8_.Studies){R9d="adx fe";R9d+="ature requires first ";R9d+="activating studies feature.";console.error(R9d);}else {G$F="#00";G$F+="D";G$F+="D0";G$F+="0";h7D="a";h7D+="u";h7D+="t";h7D+="o";E9_="#FF";E9_+="0";E9_+="000";o5U="ADX";o5U+="/D";o5U+="M";o5U+="S";R8_.Studies.calculateADX=function(Q2T,x$g){var b34=r9oI0;var m4t,f6s,e7a,O9C,G6N,a60,D4Z,D3$,I60,R2S,X$c,f2w,O$e,g7y,c9A,s0n,J$h,U9g,g_B,t7y;R8_.Studies.calculateStudyATR(Q2T,x$g);m4t=x$g.chart.scrubbed;f6s=x$g.days;e7a=parseInt(x$g.inputs["Smoothing Period"],+"10");if(!e7a && e7a !== 0){e7a=f6s;}if(m4t.length < x$g.days + 1){x$g.error=!!({});return;}O9C=0;b34.O2S(12);G6N=b34.m68(0,"0");a60=0;D4Z=0;for(var x7$=Math.max(1,x$g.startFrom);x7$ < m4t.length;x7$++){D3$=m4t[x7$];I60=Math.max(0,D3$.High - m4t[x7$ - 1].High);R2S=Math.max(0,m4t[x7$ - 1].Low - D3$.Low);if(I60 > R2S){R2S=0;}else if(R2S > I60){I60=0;}else {I60=R2S=0;}if(x7$ <= f6s){G6N+=I60;a60+=R2S;O9C+=D3$["True Range " + x$g.name];}else {b34.O2S(2);var S_M=b34.m68(0,1);b34.O2S(124);var i4J=b34.z95(5,2,14,666,19);G6N=m4t[x7$ - S_M]["_sm+DM " + x$g.name] * (f6s - i4J) / f6s + I60;b34.N94(7);var q_k=b34.z95(6,17,22);a60=m4t[x7$ - +"1"]["_sm-DM " + x$g.name] * (f6s - q_k) / f6s + R2S;b34.N94(125);var U6A=b34.z95(19,20,95,22,5);b34.N94(3);var e$S=b34.m68(17,16);O9C=m4t[x7$ - U6A]["_smTR " + x$g.name] * (f6s - e$S) / f6s + D3$["True Range " + x$g.name];}D3$["_sm+DM " + x$g.name]=G6N;D3$["_sm-DM " + x$g.name]=a60;D3$["_smTR " + x$g.name]=O9C;if(x7$ < f6s)continue;b34.N94(126);X$c=b34.m68("100",G6N,O9C);b34.O2S(103);f2w=b34.m68(O9C,100,a60);b34.N94(43);var j3D=b34.z95(18,11,213,21);O$e=("100" | j3D) * Math.abs(X$c - f2w) / (X$c + f2w);D3$["+DI " + x$g.name]=X$c;D3$["-DI " + x$g.name]=f2w;if(x$g.inputs.Series !== ![] && e7a){if(x7$ < f6s + e7a - ("1" | 0)){if(x7$ == x$g.startFrom){for(var q5S=f6s;q5S < x$g.startFrom;q5S++){g7y="-D";g7y+="I ";c9A="+";c9A+="D";c9A+="I";c9A+=" ";b34.O2S(3);var y0i=b34.z95(300,200);D4Z+=y0i * Math.abs(m4t[q5S]["+DI " + x$g.name] - m4t[q5S]["-DI " + x$g.name]) / (m4t[q5S][c9A + x$g.name] + m4t[q5S][g7y + x$g.name]);}}D4Z+=O$e;}else if(x7$ == f6s + e7a - +"1"){b34.N94(10);D3$["ADX " + x$g.name]=b34.m68(D4Z,e7a);}else {s0n="A";s0n+="D";s0n+="X";s0n+=" ";b34.N94(48);var Q26=b34.m68(4,4,17);D3$["ADX " + x$g.name]=(m4t[x7$ - Q26][s0n + x$g.name] * (e7a - 1) + O$e) / e7a;}}if(x$g.inputs.Histogram){J$h="-";J$h+="D";J$h+="I";J$h+=" ";U9g=x$g.name + "_hist";if(!D3$["+DI " + x$g.name] && D3$["+DI " + x$g.name] !== 0)continue;if(!D3$["-DI " + x$g.name] && D3$["-DI " + x$g.name] !== 0)continue;D3$[U9g]=D3$["+DI " + x$g.name] - D3$[J$h + x$g.name];if(x$g.inputs.Series === !!""){g_B="-D";g_B+="I ";t7y="+";t7y+="DI ";D3$[t7y + x$g.name]=null;D3$[g_B + x$g.name]=null;}x$g.outputMap[U9g]="";}}};R8_.Studies.displayADX=function(B0n,y01,R8Z){var z_M,V9S,g3E,v5k,A_5,z2v,a4L;z_M=y01.underlay?0.3:y01.inputs.Series?0.4:+"1";if(y01.inputs.Series && y01.inputs.Shading){V9S="+DI " + y01.name;g3E="-DI " + y01.name;v5k=R8_.Studies.determineColor(y01.outputs[y01.outputMap[V9S]]);A_5=R8_.Studies.determineColor(y01.outputs[y01.outputMap[g3E]]);z2v=y01.getYAxis(B0n);a4L={topBand:V9S,bottomBand:g3E,topColor:v5k,bottomColor:A_5,skipTransform:B0n.panels[y01.panel].name != y01.chart.name,topAxis:z2v,bottomAxis:z2v,opacity:+"0.3"};if(!y01.highlight && B0n.highlightedDraggable){a4L.opacity*=0.3;}R8_.fillIntersecting(B0n,y01.panel,a4L);}if(y01.inputs.Histogram){R8_.Studies.createHistogram(B0n,y01,R8Z,![],z_M);}if(y01.inputs.Series !== !1){R8_.Studies.displaySeriesAsLine(B0n,y01,R8Z);}else if(!y01.inputs.Series && !y01.inputs.Histogram){B0n.displayErrorAsWatermark(y01.panel,B0n.translateIf(y01.name) + ": " + B0n.translateIf("Nothing to display"));}};R8_.Studies.studyLibrary=R8_.extend(R8_.Studies.studyLibrary,{ADX:{name:o5U,calculateFN:R8_.Studies.calculateADX,seriesFN:R8_.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!!({}),Shading:!1,Histogram:!"1"},outputs:{"+DI":"#00FF00","-DI":E9_,ADX:h7D,"Positive Bar":G$F,"Negative Bar":"#FF0000"}}});}};Y=R8C=>{var M$e;M$e=typeof _CIQ !== "undefined"?_CIQ:R8C.CIQ;if(!M$e.Studies){console.error("alligator feature requires first activating studies feature.");}else {M$e.Studies.calculateAlligator=function(Y6g,O1O){var n6Y=r9oI0;var I4V,x2b,C6q,F43,x55,D_D,V$w,T05,k0h,s7E;I4V="Lips Pe";I4V+="riod";x2b={J:Number(O1O.inputs["Jaw Period"]),T:Number(O1O.inputs["Teeth Period"]),L:Number(O1O.inputs[I4V])};C6q=O1O.chart.scrubbed;n6Y.Y0_();if(C6q.length < Math.max(x2b.J,x2b.T,x2b.L) + +"1"){O1O.error=!"";return;}if(O1O.type === "Gator" || O1O.inputs["Show Lines"]){F43="Li";F43+="p";F43+="s";x55="Te";x55+="eth Offset";M$e.Studies.MA("welles wilder",x2b.J,"hl/2",O1O.inputs["Jaw Offset"],"Jaw",Y6g,O1O);M$e.Studies.MA("welles wilder",x2b.T,"hl/2",O1O.inputs[x55],"Teeth",Y6g,O1O);M$e.Studies.MA("welles wilder",x2b.L,"hl/2",O1O.inputs["Lips Offset"],F43,Y6g,O1O);}for(var N5v=O1O.startFrom;N5v < C6q.length;N5v++){D_D="Gato";D_D+="r";if(!C6q[N5v])continue;if(O1O.type == D_D){V$w="T";V$w+="ee";V$w+="th ";T05=C6q[N5v]["Jaw " + O1O.name];k0h=C6q[N5v]["Lips " + O1O.name];s7E=C6q[N5v][V$w + O1O.name];if(s7E || s7E === 0){if(T05 || T05 === "0" << 0){n6Y.O2S(3);C6q[N5v][O1O.name + "_hist1"]=Math.abs(n6Y.z95(T05,s7E));}if(k0h || k0h === 0){n6Y.N94(3);C6q[N5v][O1O.name + "_hist2"]=-Math.abs(n6Y.z95(s7E,k0h));}}O1O.outputMap={};O1O.outputMap[O1O.name + "_hist1"]="";O1O.outputMap[O1O.name + "_hist2"]="";}if(O1O.inputs["Show Fractals"]){if(!C6q[N5v - 2] || !C6q[N5v - 1] || !C6q[N5v] || !C6q[N5v + 1] || !C6q[N5v + +"2"])continue;if(C6q[N5v - 2].High && C6q[N5v - 1].High && C6q[N5v].High && C6q[N5v + 1].High && C6q[N5v + 2].High){if(C6q[N5v].High > C6q[N5v - 1].High && C6q[N5v].High > C6q[N5v - 2].High && C6q[N5v].High > C6q[N5v + 1].High && C6q[N5v].High > C6q[N5v + ("2" ^ 0)].High){C6q[N5v]["Fractal High " + O1O.name]=1;}}if(C6q[N5v - 2].Low && C6q[N5v - 1].Low && C6q[N5v].Low && C6q[N5v + 1].Low && C6q[N5v + 2].Low){if(C6q[N5v].Low < C6q[N5v - 1].Low && C6q[N5v].Low < C6q[N5v - +"2"].Low && C6q[N5v].Low < C6q[N5v + 1].Low && C6q[N5v].Low < C6q[N5v + 2].Low){C6q[N5v]["Fractal Low " + O1O.name]=1;}}}}};M$e.Studies.displayAlligator=function(s95,G_Z,F7w){var r8z,W7U;r8z=G_Z.getContext(s95);if(G_Z.inputs["Show Lines"]){M$e.Studies.displaySeriesAsLine(s95,G_Z,F7w);}if(G_Z.inputs["Show Fractals"]){s95.startClip();r8z.globalAlpha=G_Z.underlay?0.3:1;if(!G_Z.highlight && s95.highlightedDraggable){r8z.globalAlpha*=0.3;}for(var x5q=2;x5q < F7w.length - 2;x5q++){if(F7w[x5q]){W7U="Fr";W7U+="ac";W7U+="tal Low ";if(F7w[x5q]["Fractal High " + G_Z.name]){K2M("high",x5q);}if(F7w[x5q][W7U + G_Z.name]){K2M("low",x5q);}}}s95.endClip();}function K2M(l5W,q9h){r9oI0.M17();var S74,z5R,n6Z;z5R=s95.chart.panel.yAxis.flipped;if(l5W == "high"){n6Z="t";n6Z+="op";r8z.fillStyle=s95.defaultColor;r8z.textBaseline=z5R?n6Z:"bottom";S74=s95.pixelFromPrice(F7w[q9h].High);r8z.fillText(z5R?(169.45,4120) != "6710" - 0?"5948" * 1 > (66,916.32)?"\u25BC":0x79e:3.59e+3:3390 != (817.33,5326)?"5240" * 1 === (4062,386.35)?7890 === "207.82" - 0?(!"","X"):(0xd82,67.70):"\u25B2":!({}),s95.pixelFromBar(x5q,s95.chart) - r8z.measureText("\u25B2").width / 2 + 1,z5R?S74 + 5:S74 - 5);;}else if(l5W == "low"){r8z.fillStyle=s95.defaultColor;r8z.textBaseline=z5R?"bottom":"top";S74=s95.pixelFromPrice(F7w[q9h].Low);r8z.fillText(z5R?"\u25B2":"\u25BC",s95.pixelFromBar(x5q,s95.chart) - r8z.measureText("\u25BC").width / +"2" + +"1",z5R?S74 - 5:S74 + ("5" | 1));;}}};M$e.Studies.displayGator=function(l4m,n2i,n$V){var i4C,X7e,X9t,x8F,t$S,s1U,e70,Y7D,h5b;i4C=l4m.panels[n2i.panel];X7e=n2i.getContext(l4m);X9t=n2i.getYAxis(l4m);x8F=l4m.pixelFromPrice(0,i4C,X9t);t$S=l4m.layout.candleWidth - ("2" - 0);if(t$S < 2){t$S=1;}r9oI0.M17();s1U=M$e.Studies.determineColor(n2i.outputs["Increasing Bar"]);e70=M$e.Studies.determineColor(n2i.outputs["Decreasing Bar"]);l4m.canvasColor("stx_histogram");if(!n2i.underlay){X7e.globalAlpha=1;}X7e.fillStyle="#CCCCCC";l4m.startClip(n2i.panel);if(!n2i.highlight && l4m.highlightedDraggable){X7e.globalAlpha*=0.3;}for(var C$X=0;C$X < n$V.length;C$X++){Y7D=n$V[C$X];r9oI0.O2S(3);h5b=n$V[r9oI0.z95(C$X,1)];if(!Y7D)continue;for(var x8i=1;x8i <= 2;x8i++){if(!h5b){h5b=l4m.getPreviousBar(l4m.chart,n2i.name + "_hist" + x8i,C$X);}if(!h5b){X7e.fillStyle="#CCCCCC";}else if(Math.abs(h5b[n2i.name + "_hist" + x8i]) < Math.abs(Y7D[n2i.name + "_hist" + x8i])){X7e.fillStyle=s1U;}else if(Math.abs(h5b[n2i.name + "_hist" + x8i]) > Math.abs(Y7D[n2i.name + "_hist" + x8i])){X7e.fillStyle=e70;}if(Y7D.candleWidth){t$S=Math.floor(Math.max(1,Y7D.candleWidth - 2));}X7e.fillRect(Math.floor(l4m.pixelFromBar(C$X,i4C.chart) - t$S / 2),Math.floor(x8F),Math.floor(t$S),Math.floor(l4m.pixelFromPrice(Y7D[n2i.name + "_hist" + x8i],i4C,X9t) - x8F));}}l4m.endClip();};M$e.Studies.studyLibrary=M$e.extend(M$e.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!![],seriesFN:M$e.Studies.displayAlligator,calculateFN:M$e.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":+"5","Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:M$e.Studies.displayGator,calculateFN:M$e.Studies.calculateAlligator,inputs:{"Jaw Period":+"13","Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":"5" - 0,"Lips Offset":"3" - 0},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};F=p79=>{var x8j=r9oI0;x8j.M17();var F2F,Q$n,i2v,Z7a;F2F=typeof _CIQ !== "undefined"?_CIQ:p79.CIQ;if(!F2F.Studies){console.error("aroon feature requires first activating studies feature.");}else {Q$n="Aroon Osci";Q$n+="llator";i2v="#";i2v+="FF";i2v+="0000";Z7a="#0";Z7a+="0";Z7a+="DD0";Z7a+="0";F2F.Studies.calculateAroon=function(s$t,a0A){var k6u,t4e,X7N,l7h,j9x,a6g,a2y,I9k,c$c,t5c,n2a,Y4D,t2d,O1D,W$7;k6u=a0A.chart.scrubbed;if(k6u.length < a0A.days + 1){a0A.error=!0;return;}t4e=0;X7N=0;l7h=null;j9x=null;if(a0A.startFrom > 0){x8j.O2S(102);var A7k=x8j.m68(20,13,4,36);a6g=k6u[a0A.startFrom - A7k]["_state " + a0A.name];if(a6g){t4e=a6g[0];X7N=a6g[+"1"];l7h=a6g[2];j9x=a6g[3];}}for(var T5I=a0A.startFrom;T5I < k6u.length;T5I++){I9k="Ar";I9k+="oon";I9k+=" Do";I9k+="wn ";c$c="Aroo";c$c+="n Osc";c$c+="i";c$c+="llator ";t5c="A";t5c+="roo";t5c+="n Up ";n2a=k6u[T5I];if(n2a.futureTick)break;if(l7h === null){l7h=n2a.High;}if(j9x === null){j9x=n2a.Low;}l7h=Math.max(l7h,n2a.High);if(l7h == n2a.High){t4e=0;}else {t4e++;if(t4e > a0A.days){l7h=n2a.High;t4e=+"0";for(a2y=1;a2y <= a0A.days;a2y++){l7h=Math.max(l7h,k6u[T5I - a2y].High);if(l7h == k6u[T5I - a2y].High){t4e=a2y;}}}}j9x=Math.min(j9x,n2a.Low);if(j9x == n2a.Low){X7N=+"0";}else {X7N++;if(X7N > a0A.days){j9x=n2a.Low;X7N=0;for(a2y=1;a2y <= a0A.days;a2y++){j9x=Math.min(j9x,k6u[T5I - a2y].Low);if(j9x == k6u[T5I - a2y].Low){X7N=a2y;}}}}Y4D=!isNaN(n2a.High);t2d=!isNaN(n2a.Low);x8j.O2S(92);var c5e=x8j.m68(12,63,25);x8j.N94(127);var W6F=x8j.z95(2,5,8,14,43);O1D=c5e * (W6F - t4e / a0A.days);if(Y4D){n2a[t5c + a0A.name]=O1D;}x8j.N94(109);var p3u=x8j.z95(98,112,19,1064);x8j.N94(3);var l_A=x8j.z95(18,17);W$7=p3u * (l_A - X7N / a0A.days);if(t2d){n2a["Aroon Down " + a0A.name]=W$7;}if(Y4D && t2d){n2a[c$c + a0A.name]=n2a["Aroon Up " + a0A.name] - n2a[I9k + a0A.name];}n2a["_state " + a0A.name]=[t4e,X7N,l7h,j9x];}};F2F.Studies.studyLibrary=F2F.extend(F2F.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:F2F.Studies.calculateAroon,outputs:{"Aroon Up":Z7a,"Aroon Down":i2v}},"Aroon Osc":{name:Q$n,calculateFN:F2F.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};E=e$p=>{var K4P=r9oI0;var w8n,R$j,O2j;w8n="und";w8n+="efin";w8n+="e";K4P.M17();w8n+="d";R$j=typeof _CIQ !== w8n?_CIQ:e$p.CIQ;if(!R$j.Studies){console.error("atr feature requires first activating studies feature.");}else {O2j="a";O2j+="u";O2j+="t";O2j+="o";R$j.Studies.calculateATRBands=function(y6z,c8F){var u9_;K4P.M17();R$j.Studies.calculateStudyATR(y6z,c8F);u9_=c8F.inputs.Field;if(!u9_ || u9_ == "field"){u9_="Close";}R$j.Studies.calculateGenericEnvelope(y6z,c8F,c8F.inputs.Shift,u9_,"ATR " + c8F.name);};R$j.Studies.calculateSTARCBands=function(g$4,v2a){K4P.M17();var A6_,n2J;A6_="ATR";A6_+=" ";n2J="C";n2J+="lose";R$j.Studies.calculateStudyATR(g$4,v2a);R$j.Studies.MA("simple",v2a.inputs["MA Period"],n2J,0,"_MA",g$4,v2a);R$j.Studies.calculateGenericEnvelope(g$4,v2a,v2a.inputs.Multiplier,"_MA " + v2a.name,A6_ + v2a.name);};R$j.Studies.calculateATRStops=function(b9i,K$L){var M79,U$J,P5Y,a0B,A5X,S2Q,n7D,R9p,K4s,L43,U8Q,y1q;M79="All Stop";M79+="s";M79+=" ";U$J=K$L.chart.scrubbed;if(!U$J){return;}R$j.Studies.calculateStudyATR(b9i,K$L);P5Y=K$L.inputs.HighLow;for(var b$A=Math.max(K$L.startFrom - 1,1);b$A < U$J.length - 1;b$A++){a0B="A";a0B+="TR";a0B+=" ";A5X="Bu";A5X+="y Stops ";S2Q=U$J[b$A];K4P.N94(3);n7D=U$J[K4P.z95(b$A,1)];R9p=S2Q[A5X + K$L.name];if(!R9p){R9p=S2Q["Sell Stops " + K$L.name];}if(!R9p){R9p=0;}if(!S2Q || !n7D)continue;K4s=S2Q.Close;L43=K4s;U8Q=S2Q[a0B + K$L.name] * K$L.inputs.Multiplier;if(S2Q.Close > R9p && n7D.Close > R9p){if(P5Y){K4s=S2Q.High;}K4P.N94(3);L43=Math.max(R9p,K4P.m68(K4s,U8Q));}else if(S2Q.Close <= R9p && n7D.Close <= R9p){if(P5Y){K4s=S2Q.Low;}K4P.N94(2);L43=Math.min(R9p,K4P.z95(K4s,U8Q));}else if(S2Q.Close > R9p){if(P5Y){K4s=S2Q.High;}K4P.N94(3);L43=K4P.m68(K4s,U8Q);}else if(S2Q.Close <= R9p){if(P5Y){K4s=S2Q.Low;}K4P.O2S(2);L43=K4P.m68(K4s,U8Q);}if(K4s <= L43){y1q="Buy ";y1q+="Stops ";K4P.O2S(2);U$J[K4P.m68(b$A,1)][y1q + K$L.name]=L43;K4P.N94(2);delete U$J[K4P.m68(b$A,1)]["Sell Stops " + K$L.name];}else if(K4s > L43){K4P.N94(2);U$J[K4P.z95(b$A,1)]["Sell Stops " + K$L.name]=L43;K4P.N94(2);delete U$J[K4P.z95(b$A,1)]["Buy Stops " + K$L.name];}K4P.N94(2);U$J[K4P.m68(b$A,1)]["All Stops " + K$L.name]=L43;}K$L.referenceOutput="All Stops";K$L.outputMap={};K$L.outputMap[M79 + K$L.name]="";};R$j.Studies.studyLibrary=R$j.extend(R$j.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:R$j.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:R$j.Studies.displayChannel,calculateFN:R$j.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:+"3","Channel Fill":!""},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!![],seriesFN:R$j.Studies.displayChannel,calculateFN:R$j.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!!"1"},outputs:{"STARC Bands Top":"auto","STARC Bands Median":O2j,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!!({}),seriesFN:R$j.Studies.displayPSAR2,calculateFN:R$j.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};I=s$s=>{var Y5O=r9oI0;var w0R,G8p,U7P,b8i,O8G,p8E,k05,I$l,u6n;w0R=typeof _CIQ !== "undefined"?_CIQ:s$s.CIQ;Y5O.M17();if(!w0R.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {G8p="#FF00";G8p+="00";U7P="#";U7P+="0";U7P+="0DD";U7P+="00";w0R.Studies.calculateAwesomeOscillator=function(q$X,g43){var d8L,h81,v4t,G0m,T9b;d8L="_";d8L+="MA34";h81="si";h81+="mpl";h81+="e";v4t="s";v4t+="imple";G0m=g43.chart.scrubbed;if(G0m.length < 33){g43.error=!!1;return;}w0R.Studies.MA(v4t,5,"hl/2",0,"_MA5",q$X,g43);w0R.Studies.MA(h81,34,"hl/2",0,d8L,q$X,g43);for(var S5l=Math.max(g43.startFrom,33);S5l < G0m.length;S5l++){T9b="_MA34";T9b+=" ";if(!G0m[S5l])continue;G0m[S5l][g43.name + "_hist"]=G0m[S5l]["_MA5 " + g43.name] - G0m[S5l][T9b + g43.name];}g43.outputMap={};g43.outputMap[g43.name + "_hist"]="";};w0R.Studies.displayAwesomeOscillator=function(f6f,e82,g8W){var x8X,x6c,Q3h,l36,l4k,Z1C,K$x,r4e,S5c,l0Y,M2m;x8X="#";x8X+="CCCC";x8X+="C";x8X+="C";x6c=f6f.panels[e82.panel];Q3h=e82.getContext(f6f);l36=e82.getYAxis(f6f);l4k=f6f.pixelFromPrice(0,x6c,l36);Y5O.O2S(128);var a1R=Y5O.m68(16,217,13,0,7);Z1C=f6f.layout.candleWidth - a1R;if(Z1C < 2){Z1C=+"1";}K$x=w0R.Studies.determineColor(e82.outputs["Increasing Bar"]);r4e=w0R.Studies.determineColor(e82.outputs["Decreasing Bar"]);f6f.canvasColor("stx_histogram");if(!e82.underlay){Q3h.globalAlpha=1;}Q3h.fillStyle=x8X;f6f.startClip(e82.panel);if(!e82.highlight && f6f.highlightedDraggable){Q3h.globalAlpha*=0.3;}for(var A9F="0" | 0;A9F < g8W.length;A9F++){S5c="_hi";S5c+="st";l0Y=g8W[A9F];Y5O.O2S(3);M2m=g8W[Y5O.m68(A9F,1)];if(!M2m){M2m=f6f.getPreviousBar(f6f.chart,e82.name + S5c,A9F);}if(!l0Y)continue;if(!M2m);else if(M2m[e82.name + "_hist"] < l0Y[e82.name + "_hist"]){Q3h.fillStyle=K$x;}else if(M2m[e82.name + "_hist"] > l0Y[e82.name + "_hist"]){Q3h.fillStyle=r4e;}if(l0Y.candleWidth){Z1C=Math.floor(Math.max(1,l0Y.candleWidth - 2));}Q3h.fillRect(Math.floor(f6f.pixelFromBar(A9F,x6c.chart) - Z1C / 2),Math.floor(l4k),Math.floor(Z1C),Math.floor(f6f.pixelFromPrice(l0Y[e82.name + "_hist"],x6c,l36) - l4k));}f6f.endClip();};b8i=-1036798245;O8G=-640810074;p8E=2;for(var N6W=1;Y5O.j$g(N6W.toString(),N6W.toString().length,"40753" | 48) !== b8i;N6W++){k05="#0";k05+="0D";k05+="D00";w0R.Studies.studyLibrary=w0R.extend(w0R.Studies.studyLibrary,{Awesome:{name:"#00DD00",seriesFN:w0R.Studies.displayAwesomeOscillator,calculateFN:w0R.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":k05,"Decreasing Bar":"Decreasing Bar"}}});p8E+=+"2";}if(Y5O.j$g(p8E.toString(),p8E.toString().length,5498) !== O8G){I$l="Dec";I$l+="reasing";I$l+=" Ba";I$l+="r";u6n="#";u6n+="00DD00";w0R.Studies.studyLibrary=w0R.extend(w0R.Studies.studyLibrary,{Awesome:{name:"#00DD00",seriesFN:w0R.Studies.displayAwesomeOscillator,calculateFN:w0R.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":u6n,"Decreasing Bar":I$l}}});}w0R.Studies.studyLibrary=w0R.extend(w0R.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:w0R.Studies.displayAwesomeOscillator,calculateFN:w0R.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":U7P,"Decreasing Bar":G8p}}});}};Q=U95=>{var r7t,J3s;r7t=typeof _CIQ !== "undefined"?_CIQ:U95.CIQ;if(!r7t.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {J3s="m";J3s+="a";r7t.Studies.calculateBalanceOfPower=function(n6b,e3Y){var A61,e2P,j2G,y9$,M3a;A61="R";A61+="e";A61+="sul";A61+="t";e2P="_R";e2P+="a";e2P+="ti";e2P+="o ";j2G=e3Y.chart.scrubbed;if(j2G.length < e3Y.days + 1){e3Y.error=!![];return;}for(var C33=e3Y.startFrom;C33 < j2G.length;C33++){y9$="_";y9$+="Rat";y9$+="io";y9$+=" ";M3a=j2G[C33];M3a["_Ratio " + e3Y.name]=M3a.Close - M3a.Open;if(M3a.High - M3a.Low !== 0){M3a[y9$ + e3Y.name]/=M3a.High - M3a.Low;}}r7t.Studies.MA(e3Y.inputs["Moving Average Type"],e3Y.days,e2P + e3Y.name,0,A61,n6b,e3Y);};r7t.Studies.studyLibrary=r7t.extend(r7t.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:r7t.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":J3s}}});}};S=r2e=>{var H8Y=r9oI0;var N5u,Q9Y,k_J,s_Q,i0Q,d4Q,O8R,t3a,M05;N5u="unde";H8Y.Y0_();N5u+="fined";Q9Y=typeof _CIQ !== N5u?_CIQ:r2e.CIQ;if(!Q9Y.Studies){k_J=-587142028;H8Y.N94(29);s_Q=-H8Y.z95("1118786519",64);i0Q=2;for(var J6T=1;H8Y.a9Z(J6T.toString(),J6T.toString().length,85719) !== k_J;J6T++){console.error("bollinger feature requires first activating studies feature.");H8Y.N94(21);i0Q+=H8Y.z95("2",1);}if(H8Y.a9Z(i0Q.toString(),i0Q.toString().length,93361) !== s_Q){console.error("");}}else {d4Q="Bollinge";d4Q+="r Bandwidth";O8R="a";O8R+="u";O8R+="t";O8R+="o";t3a="a";t3a+="u";t3a+="t";t3a+="o";M05="a";M05+="u";M05+="to";Q9Y.Studies.calculateBollinger=function(s9H,v4w){var O8V,G5B,B7q,I3W;O8V="_";O8V+="M";O8V+="A";G5B="Moving";G5B+=" Aver";G5B+="age Type";H8Y.M17();B7q="C";B7q+="lo";B7q+="se";I3W=v4w.inputs.Field;if(!I3W || I3W == "field"){I3W=B7q;}Q9Y.Studies.MA(v4w.inputs[G5B],v4w.days,I3W,0,O8V,s9H,v4w);v4w.std=new Q9Y.Studies.StudyDescriptor(v4w.name,"STD Dev",v4w.panel);v4w.std.chart=v4w.chart;v4w.std.startFrom=v4w.startFrom;v4w.std.days=v4w.days;v4w.std.inputs={Field:I3W,"Standard Deviations":"1" * 1,Type:v4w.inputs["Moving Average Type"]};v4w.std.outputs={"_STD Dev":null};Q9Y.Studies.calculateStandardDeviation(s9H,v4w.std);Q9Y.Studies.calculateGenericEnvelope(s9H,v4w,v4w.inputs["Standard Deviations"],"_MA " + v4w.name,"_STD Dev " + v4w.name);if(v4w.type == "Boll %b"){v4w.zoneOutput="%b";}};Q9Y.Studies.studyLibrary=Q9Y.extend(Q9Y.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!!1,calculateFN:Q9Y.Studies.calculateBollinger,seriesFN:Q9Y.Studies.displayChannel,inputs:{Period:+"20",Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!!"1"},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":M05,"Bollinger Bands Bottom":t3a},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:Q9Y.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"100",studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:O8R}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:d4Q,calculateFN:Q9Y.Studies.calculateBollinger,inputs:{Period:"20" ^ 0,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};Z=k8m=>{var w0P,p_I,v_l;w0P=typeof _CIQ !== "undefined"?_CIQ:k8m.CIQ;if(!w0P.Studies){console.error("cci feature requires first activating studies feature.");}else {p_I="a";p_I+="u";p_I+="t";p_I+="o";v_l="Commo";v_l+="dity ";v_l+="Channel Index";w0P.Studies.calculateCCI=function(A4g,e4$){var S4B,M_p,P2n,A6t,n7I,T7q;S4B="M";S4B+="A";M_p="sim";M_p+="pl";r9oI0.M17();M_p+="e";P2n=e4$.chart.scrubbed;if(P2n.length < e4$.days + 1){e4$.error=!0;return;}w0P.Studies.MA(M_p,e4$.days,"hlc/3",+"0",S4B,A4g,e4$);for(var u4m=Math.max(e4$.startFrom,e4$.days - 1);u4m < P2n.length;u4m++){A6t=P2n[u4m];if(!A6t)continue;n7I=0;for(var r1N=0;r1N < e4$.days;r1N++){T7q="h";T7q+="lc/";T7q+="3";n7I+=Math.abs(P2n[u4m - r1N][T7q] - A6t["MA " + e4$.name]);}n7I/=e4$.days;if(Math.abs(n7I) < 0.00000001){A6t["Result " + e4$.name]=0;}else {A6t["Result " + e4$.name]=(A6t["hlc/3"] - A6t["MA " + e4$.name]) / (0.015 * n7I);}}};w0P.Studies.studyLibrary=w0P.extend(w0P.Studies.studyLibrary,{CCI:{name:v_l,calculateFN:w0P.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:p_I}},attributes:{Period:{min:2}}}});}};m$=r$X=>{var B8u=r9oI0;var g94,I6E;g94="undef";g94+="ined";B8u.M17();I6E=typeof _CIQ !== g94?_CIQ:r$X.CIQ;if(!I6E.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {I6E.Studies.calculateCenterOfGravity=function(Y0P,L3y){var f7c,U_o,H_p,I59,F8U,h3R;f7c="f";B8u.Y0_();f7c+="ie";f7c+="l";f7c+="d";U_o=L3y.chart.scrubbed;if(U_o.length < L3y.days){L3y.error=!0;return;}H_p=L3y.inputs.Field;if(!H_p || H_p == f7c){H_p="Close";}for(var h$v=Math.max(L3y.startFrom,L3y.days - 1);h$v < U_o.length;h$v++){I59=0;F8U=0;for(var U2B=0;U2B < L3y.days;U2B++){B8u.O2S(3);h3R=U_o[B8u.m68(h$v,U2B)][H_p];B8u.O2S(129);I59-=B8u.m68(U2B,h3R,"1",0);F8U+=h3R;}if(F8U){B8u.O2S(10);U_o[h$v]["Result " + L3y.name]=B8u.m68(I59,F8U);}}};I6E.Studies.studyLibrary=I6E.extend(I6E.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:I6E.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};s4=S1S=>{var T$D,q$S;T$D=typeof _CIQ !== "undefined"?_CIQ:S1S.CIQ;if(!T$D.Studies){console.error("chaikin feature requires first activating studies feature.");}else {q$S="m";q$S+="a";T$D.Studies.calculateChaikinMoneyFlow=function(m92,q3a){var L47=r9oI0;var r_Y,n8Z,q$l,m5d,b$R,j7a,D1V,W_4,H5_;r_Y=q3a.chart.scrubbed;if(r_Y.length < q3a.days){q3a.error=!!({});return;}n8Z=0;q$l=0;L47.N94(43);var j6S=L47.z95(7,8,142,17);m5d=r_Y[q3a.startFrom - j6S];if(m5d){b$R="_";b$R+="s";b$R+="u";b$R+="mV ";j7a="_";j7a+="sum";j7a+="MF ";D1V="_su";D1V+="mM";D1V+="F ";if(m5d[D1V + q3a.name]){n8Z=m5d[j7a + q3a.name];}if(m5d[b$R + q3a.name]){q$l=m5d["_sumV " + q3a.name];}}for(var F$y=q3a.startFrom;F$y < r_Y.length;F$y++){W_4="_";W_4+="su";W_4+="mMF ";if(r_Y[F$y].High == r_Y[F$y].Low){r_Y[F$y]["_MFV " + q3a.name]=0;}else {L47.O2S(130);var L3G=L47.m68(15,16,19,0,4562);r_Y[F$y]["_MFV " + q3a.name]=r_Y[F$y].Volume * (L3G * r_Y[F$y].Close - r_Y[F$y].High - r_Y[F$y].Low) / (r_Y[F$y].High - r_Y[F$y].Low);}n8Z+=r_Y[F$y]["_MFV " + q3a.name];q$l+=r_Y[F$y].Volume;if(F$y > q3a.days - "1" * 1){H5_="Res";H5_+="u";H5_+="lt ";n8Z-=r_Y[F$y - q3a.days]["_MFV " + q3a.name];q$l-=r_Y[F$y - q3a.days].Volume;if(q$l){L47.O2S(10);r_Y[F$y][H5_ + q3a.name]=L47.m68(n8Z,q$l);}}r_Y[F$y][W_4 + q3a.name]=n8Z;r_Y[F$y]["_sumV " + q3a.name]=q$l;}};T$D.Studies.calculateChaikinVolatility=function(Q_R,f2U){var z8p=r9oI0;var l6C,a7M,x36,V6y,h5g,B_V,X_D;l6C="Mo";l6C+="vin";l6C+="g Average";l6C+=" Type";a7M=f2U.chart.scrubbed;if(a7M.length < f2U.days){f2U.error=!!({});return;}for(x36=f2U.startFrom;x36 < a7M.length;x36++){if(a7M[x36].futureTick)break;a7M[x36]["_High-Low " + f2U.name]=a7M[x36].High - a7M[x36].Low;}T$D.Studies.MA(f2U.inputs[l6C],f2U.days,"_High-Low " + f2U.name,+"0","_MA",Q_R,f2U);V6y=f2U.inputs["Rate Of Change"];if(!V6y){V6y=f2U.days;}for(x36=Math.max(f2U.startFrom,V6y);x36 < a7M.length;x36++){h5g="_M";h5g+="A";h5g+=" ";B_V="Re";B_V+="su";B_V+="lt ";X_D="_";X_D+="MA";X_D+=" ";if(!a7M[x36 - V6y][X_D + f2U.name])continue;if(a7M[x36].futureTick)break;z8p.O2S(92);var O1Q=z8p.z95(18,1,81);z8p.N94(33);var Q17=z8p.m68(4,1,5);a7M[x36][B_V + f2U.name]=O1Q * (a7M[x36][h5g + f2U.name] / a7M[x36 - V6y]["_MA " + f2U.name] - Q17);}};T$D.Studies.studyLibrary=T$D.extend(T$D.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:T$D.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" - 0}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:T$D.Studies.calculateChaikinVolatility,inputs:{Period:"14" * 1,"Rate Of Change":2,"Moving Average Type":q$S}}});}};E4=l0e=>{var a_8,I3v,b0l,x4w,G5y;a_8=typeof _CIQ !== "undefined"?_CIQ:l0e.CIQ;if(!a_8.Studies){I3v="chande feature requires";I3v+=" first activating studies feature.";console.error(I3v);}else {b0l="aut";b0l+="o";x4w="Chande M";x4w+="omentum Oscill";x4w+="ator";G5y="Chande Forecas";G5y+="t Oscilla";G5y+="tor";a_8.Studies.prettify.variable="vma";a_8.Studies.movingAverage.conversions.vma="variable";a_8.Studies.movingAverage.translations.variable="Variable";a_8.Studies.movingAverage.typeMap.vma="Variable";a_8.Studies.movingAverage.typeMap.variable="Variable";a_8.Studies.calculateChandeForecast=function(T8i,G2h){var K6j=r9oI0;var h4D,E2Y,j4f,N8i,q68;K6j.M17();h4D="time seri";h4D+="es";E2Y="fiel";E2Y+="d";j4f=G2h.chart.scrubbed;if(j4f.length < G2h.days + 1){G2h.error=!![];return;}N8i=G2h.inputs.Field;if(!N8i || N8i == E2Y){N8i="Close";}a_8.Studies.MA(h4D,G2h.days,N8i,0,"MA",T8i,G2h);for(var R_j=Math.max(1,G2h.startFrom);R_j < j4f.length;R_j++){q68=j4f[R_j][N8i];if(q68 && typeof q68 == "object"){q68=q68[G2h.subField];}K6j.N94(3);var E$O=K6j.z95(105,5);K6j.N94(98);var u1C=K6j.m68(2,9,0,19);j4f[R_j]["Result " + G2h.name]=E$O * (u1C - j4f[R_j]["MA " + G2h.name] / q68);}};a_8.Studies.calculateChandeMomentum=function(p0z,k7f){var p9f=r9oI0;var r5v,G2N,b3t,W7M,C$e,N5D,m1z,Z97,b16,C2n,Z56,E3g,V7R;r5v="fi";r5v+="e";r5v+="l";r5v+="d";G2N=k7f.name;for(var O3v in k7f.outputs){p9f.O2S(92);G2N=p9f.z95(" ",G2N,O3v);}b3t=k7f.chart.scrubbed;if(b3t.length < k7f.days + 1){k7f.error=!!1;return;}W7M=k7f.inputs.Field;if(!W7M || W7M == r5v){W7M="Close";}C$e=0;N5D=+"0";m1z=[];for(var a2n=k7f.startFrom - k7f.days + 1;a2n < b3t.length;a2n++){Z97="objec";Z97+="t";b16="ob";b16+="ject";if(a2n < 1)continue;C2n=b3t[a2n][W7M];p9f.N94(3);Z56=b3t[p9f.z95(a2n,1)][W7M];if(C2n && typeof C2n == b16){C2n=C2n.Close;}if(Z56 && typeof Z56 == Z97){Z56=Z56.Close;}if(Z56 === undefined)continue;p9f.O2S(3);E3g=p9f.m68(C2n,Z56);m1z.push(E3g);C$e+=E3g;N5D+=Math.abs(E3g);if(m1z.length == k7f.days){p9f.N94(103);b3t[a2n][G2N]=p9f.z95(N5D,100,C$e);V7R=m1z.shift();C$e-=V7R;N5D-=Math.abs(V7R);}}};a_8.Studies.calculateMovingAverageVariable=function(n0l,k7L){var E6b=r9oI0;var v9m,d7N,x$2,T18,V9T,T8s,U1M,B0S,e5r,S2A,I7U,S5h,L7G,J3_,b47,G41,P9F,C8G,D2S;v9m=k7L.inputs.Type;d7N=k7L.chart.scrubbed;E6b.N94(131);var h$4=E6b.z95(11,11,11,9,10);x$2=+"2" / (k7L.days + h$4);T18=null;V9T=k7L.name;for(var E2X in k7L.outputs){E6b.N94(92);V9T=E6b.z95(" ",V9T,E2X);}T8s=k7L.inputs.Field;if(!T8s || T8s == "field"){T8s="Close";}k7L.cmo=new a_8.Studies.StudyDescriptor(k7L.name,"cmo",k7L.panel);k7L.cmo.chart=k7L.chart;k7L.cmo.days=9;k7L.cmo.inputs={Field:T8s};k7L.cmo.startFrom=k7L.startFrom;k7L.cmo.outputs={_CMO:null};a_8.Studies.calculateChandeMomentum(n0l,k7L.cmo);U1M=parseInt(k7L.inputs.Offset,10);if(isNaN(U1M)){U1M=0;}I7U=k7L.startFrom;S5h=U1M;for(B0S=k7L.startFrom - 1;B0S >= 0;B0S--){e5r=d7N[B0S][V9T];if(!e5r && e5r !== 0)continue;if(T18 === null){T18=e5r;}if(S5h <= 0)break;S5h--;I7U=B0S;}if(T18 === null){T18=I7U=0;}L7G=[];for(B0S=I7U;B0S < d7N.length;B0S++){J3_="_C";J3_+="MO ";b47=d7N[B0S];e5r=b47[T8s];if(e5r && typeof e5r == "object"){e5r=e5r[k7L.subField];}G41=B0S + U1M >= 0 && B0S + U1M < d7N.length;P9F=G41?d7N[B0S + U1M]:null;if(!e5r && e5r !== 0){if(P9F){P9F[V9T]=null;}else if(B0S + U1M >= d7N.length){S2A={};S2A[V9T]=null;L7G.push(S2A);}continue;}if(!b47["_CMO " + k7L.name] && b47["_CMO " + k7L.name] !== 0)continue;E6b.O2S(67);var b1z=E6b.z95(94,59,2,6);C8G=Math.abs(b47[J3_ + k7L.name]) / b1z;E6b.O2S(132);D2S=E6b.z95(C8G,e5r,1,x$2,T18,x$2,C8G);T18=D2S;if(B0S < k7L.days){D2S=null;}if(P9F){P9F[V9T]=D2S;}else if(B0S + U1M >= d7N.length){S2A={};S2A[V9T]=D2S;L7G.push(S2A);}}E6b.M17();k7L.appendFutureTicks(n0l,L7G);};a_8.Studies.studyLibrary=a_8.extend(a_8.Studies.studyLibrary,{"Chande Fcst":{name:G5y,calculateFN:a_8.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:x4w,calculateFN:a_8.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:b0l}}}});}};o2=G_2=>{var s1F=r9oI0;var h5U,o2T,E5G,J5r;s1F.M17();h5U=typeof _CIQ !== "undefined"?_CIQ:G_2.CIQ;if(!h5U.Studies){o2T="choppiness fea";o2T+="ture requires first activating studies feature.";console.error(o2T);}else {E5G="0";E5G+=".";E5G+="1";J5r="a";J5r+="ut";J5r+="o";h5U.Studies.calculateChoppiness=function(Q4s,p9m){var m5G,M3$,U_v;h5U.Studies.calculateStudyATR(Q4s,p9m);m5G=p9m.chart.scrubbed;if(m5G.length < p9m.days + 1){p9m.error=!!({});return;}for(var O4I=Math.max(p9m.startFrom,p9m.days);O4I < m5G.length;O4I++){M3$=m5G[O4I];if(!M3$)continue;if(M3$.futureTick)break;U_v=h3B(p9m.days,O4I);if(M3$["Sum True Range " + p9m.name]){s1F.O2S(61);var l8p=s1F.m68(656,43,16);M3$["Result " + p9m.name]=+"100" * Math.log(M3$["Sum True Range " + p9m.name] / Math.max(+"0.000001",U_v["1" >> l8p] - U_v[0])) / Math.log(p9m.days);}else if(!isNaN(M3$)){M3$["Result " + p9m.name]=0;}}s1F.M17();function h3B(R2Q,Q1X){var e3E,v8e;s1F.N94(8);var B8X=s1F.m68(13,0,12,2);e3E=Number.MAX_VALUE * B8X;v8e=Number.MAX_VALUE;for(var x0S=Q1X - R2Q + 1;x0S <= Q1X;x0S++){if(x0S < 0)continue;e3E=Math.max(e3E,m5G[x0S].High);v8e=Math.min(v8e,m5G[x0S].Low);}return [v8e,e3E];}};h5U.Studies.studyLibrary=h5U.extend(h5U.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:h5U.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:61.8,studyOverBoughtColor:J5r,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:E5G},studyOverSoldValue:{max:50,step:"0.1"}}}});}};v8=G2T=>{var S5a=r9oI0;S5a.M17();var J_G,F7k,Z5l,N59;J_G=typeof _CIQ !== "undefined"?_CIQ:G2T.CIQ;if(!J_G.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!J_G.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {F7k="S";F7k+="P";F7k+="Y";Z5l="-1";Z5l+=" t";Z5l+="o";Z5l+=" 1";N59="C";N59+="orrelation Coefficient";J_G.Studies.calculateCorrelationCoefficient=function(N2M,K2d){var C0u,X4g,O7V,V6U,L_h,Y9L,R3d,E0V,T1$,U8q,G3q,S9e,n7e,z8g,z$n,l65,t7Z,d0g,h4a,r9u,V1Q;C0u=K2d.chart.scrubbed;X4g=K2d.days;S5a.M17();if(C0u.length < X4g + ("1" << 32)){K2d.error=!!"1";return;}K2d.compare=K2d.inputs["Compare To"];if(!K2d.compare){K2d.compare=[];K2d.outputs={};K2d.outputMap={};for(var m6A in N2M.chart.series){O7V=N2M.chart.series[m6A];if(O7V.parameters.color){K2d.compare.push(O7V.display);K2d.outputs["Result " + O7V.display]=O7V.parameters.color;K2d.outputMap["Result " + O7V.display + " " + K2d.name]="Result " + O7V.display;}}}else {K2d.compare=[K2d.compare];}if(!K2d.compare.length){K2d.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var K3e=0;K3e < K2d.compare.length;K3e++){S5a.N94(21);V6U=S5a.z95("0",1);L_h=0;Y9L=+"0";R3d=0;E0V=0;T1$=K2d.compare[K3e];U8q=0;for(var c_2=K2d.startFrom - X4g;c_2 < C0u.length;c_2++){G3q="_t";G3q+="emp";G3q+="s ";S9e="_t";S9e+="emps ";if(!C0u[c_2])continue;n7e=C0u[c_2][T1$];if(n7e && typeof n7e == "object"){n7e=n7e.Close;}if(!n7e && n7e !== 0){z8g="_te";z8g+="mps";z8g+=" ";z$n="_temp";z$n+="s ";if(c_2 > "0" >> 64 && C0u[c_2 - 1] && C0u[c_2 - 1][z$n + K2d.name] && C0u[c_2 - 1]["_temps " + K2d.name].c){n7e=C0u[c_2 - 1][z8g + K2d.name].c;}else {n7e=0;}}if(n7e && typeof n7e == "object"){n7e=n7e.Close;}C0u[c_2]["_temps " + K2d.name]={};V6U+=C0u[c_2][S9e + K2d.name].b=C0u[c_2].Close;L_h+=C0u[c_2]["_temps " + K2d.name].c=n7e;Y9L+=C0u[c_2][G3q + K2d.name].b2=Math.pow(C0u[c_2].Close,2);R3d+=C0u[c_2]["_temps " + K2d.name].c2=Math.pow(n7e,2);E0V+=C0u[c_2]["_temps " + K2d.name].bc=C0u[c_2].Close * n7e;if(U8q >= X4g){l65="_";l65+="temp";l65+="s";l65+=" ";t7Z="_";t7Z+="temps ";V6U-=C0u[c_2 - X4g]["_temps " + K2d.name].b;L_h-=C0u[c_2 - X4g]["_temps " + K2d.name].c;Y9L-=C0u[c_2 - X4g][t7Z + K2d.name].b2;R3d-=C0u[c_2 - X4g]["_temps " + K2d.name].c2;E0V-=C0u[c_2 - X4g][l65 + K2d.name].bc;S5a.O2S(98);var f0L=S5a.m68(20,7,1,134);d0g=Y9L / X4g - Math.pow(V6U / X4g,"2" * f0L);S5a.N94(133);var v8w=S5a.z95(9,1,1,11);h4a=R3d / X4g - Math.pow(L_h / X4g,v8w);S5a.O2S(20);var h5e=S5a.m68(9,7);r9u=E0V / X4g - V6U * L_h / Math.pow(X4g,h5e);V1Q=r9u / Math.sqrt(d0g * h4a);S5a.O2S(116);var d2k=S5a.m68(19,2,36,34);S5a.N94(3);var l4f=S5a.m68(1699,12);S5a.O2S(1);var Z$S=S5a.z95(2069,2081,13);S5a.O2S(2);var N9n=S5a.m68(363,6166);S5a.O2S(2);var V8z=S5a.m68(8095,5);C0u[c_2]["Result " + T1$ + ((+"9070",d2k) !== (l4f,Z$S)?" ":320.48 == +"48.02"?N9n:(V8z,!({}))) + K2d.name]=V1Q;}U8q++;}}};J_G.Studies.calculatePerformance=function(q4n,q_x){var y_l,k$4,e1B,H4X,Q0k,j$b,Q91,i4M,d2W,B4g;y_l="m";y_l+="a";k$4="Cl";k$4+="o";k$4+="s";k$4+="e";e1B="m";e1B+="a";H4X="Compa";H4X+="riso";H4X+="n Symb";H4X+="ol";Q0k=q_x.chart.scrubbed;j$b=q_x.inputs[H4X].toUpperCase();if(!j$b){j$b=q_x.study.inputs["Comparison Symbol"];}if(!q_x.days){q_x.days=q_x.study.inputs.Period;}if(Q0k.length < q_x.days + 1){q_x.error=!!1;Q91=-613763893;S5a.O2S(3);i4M=S5a.z95("920568169",0);d2W=+"2";for(var n81=1;S5a.j$g(n81.toString(),n81.toString().length,13359) !== Q91;n81++){return;}if(S5a.j$g(d2W.toString(),d2W.toString().length,+"99991") !== i4M){return;}}S5a.M17();J_G.Studies.MA(e1B,q_x.days,k$4,+"0","_MA Base",q4n,q_x);J_G.Studies.MA(y_l,q_x.days,j$b,0,"_MA Comp",q4n,q_x);for(var R9E=q_x.startFrom;R9E < Q0k.length;R9E++){B4g=Q0k[R9E][j$b];if(B4g && (B4g.Close || B4g.Close === 0)){B4g=B4g.Close;}Q0k[R9E]["Result " + q_x.name]=Q0k[R9E].Close / B4g * (Q0k[R9E]["_MA Comp " + q_x.name] / Q0k[R9E]["_MA Base " + q_x.name]);}};J_G.Studies.calculateBeta=function(H$i,S0c){var L9t,B1P,B5E,M0C,L4O,i7W,X_W,u70,u8s,K8J,c4n,y2u,x0T,o37;L9t="_";L9t+="V";L9t+="AR";B1P="_COV";B1P+="AR";B5E="m";B5E+="a";M0C=S0c.chart.scrubbed;L4O=S0c.inputs["Comparison Symbol"].toUpperCase();if(!L4O){L4O=S0c.study.inputs["Comparison Symbol"];}if(!S0c.days){S0c.days=S0c.study.inputs.Period;}if(M0C.length < S0c.days + 1){S0c.error=!"";return;}for(var o4p=Math.max(S0c.startFrom,1);o4p < M0C.length;o4p++){i7W="_";i7W+="BaseChange ";S5a.N94(11);var K$5=S5a.m68(3,9,3,3);M0C[o4p][i7W + S0c.name]=M0C[o4p].Close / M0C[o4p - +"1"].Close - K$5;X_W=M0C[o4p][L4O];if(X_W && (X_W.Close || X_W.Close === 0)){X_W=X_W.Close;}S5a.O2S(3);u70=M0C[S5a.m68(o4p,1)][L4O];if(u70 && (u70.Close || u70.Close === 0)){u70=u70.Close;}S5a.O2S(33);M0C[o4p]["_CompChange " + S0c.name]=S5a.m68(1,u70,X_W);}J_G.Studies.MA(B5E,S0c.days,"_BaseChange " + S0c.name,+"0","_MA Base",H$i,S0c);J_G.Studies.MA("ma",S0c.days,"_CompChange " + S0c.name,"0" - 0,"_MA Comp",H$i,S0c);S5a.Y0_();for(o4p=Math.max(S0c.startFrom,S0c.days);o4p < M0C.length;o4p++){u8s="_Com";u8s+="pCh";u8s+="ange ";K8J="_VARn";K8J+=" ";c4n="_M";c4n+="A ";c4n+="Comp";c4n+=" ";y2u="_Co";y2u+="mpChange ";x0T="_Base";x0T+="Chang";x0T+="e ";M0C[o4p]["_COVARn " + S0c.name]=(M0C[o4p][x0T + S0c.name] - M0C[o4p]["_MA Base " + S0c.name]) * (M0C[o4p][y2u + S0c.name] - M0C[o4p][c4n + S0c.name]);M0C[o4p][K8J + S0c.name]=Math.pow(M0C[o4p][u8s + S0c.name] - M0C[o4p]["_MA Comp " + S0c.name],"2" - 0);}J_G.Studies.MA("ma",S0c.days,"_COVARn " + S0c.name,"0" - 0,B1P,H$i,S0c);J_G.Studies.MA("ma",S0c.days,"_VARn " + S0c.name,0,L9t,H$i,S0c);for(o4p=Math.max(S0c.startFrom,S0c.days * 2 - ("1" << 0));o4p < M0C.length;o4p++){o37="_";o37+="COVA";o37+="R";o37+=" ";M0C[o4p]["Result " + S0c.name]=M0C[o4p][o37 + S0c.name] / M0C[o4p]["_VAR " + S0c.name];}};J_G.Studies.studyLibrary=J_G.extend(J_G.Studies.studyLibrary,{correl:{name:N59,range:Z5l,calculateFN:J_G.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:J_G.Studies.initPriceRelative,seriesFN:J_G.Studies.displayVsComparisonSymbol,calculateFN:J_G.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":F7k},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!![]},Beta:{name:"Beta",centerline:"1" * 1,initializeFN:J_G.Studies.initPriceRelative,seriesFN:J_G.Studies.displayVsComparisonSymbol,calculateFN:J_G.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!""}});}};H6=f$l=>{var m8h=r9oI0;var k4c,K2X,R$N;k4c="un";k4c+="def";m8h.M17();k4c+="ine";k4c+="d";K2X=typeof _CIQ !== k4c?_CIQ:f$l.CIQ;if(!K2X.Studies){console.error("coppock feature requires first activating studies feature.");}else {R$N="f";R$N+="i";R$N+="eld";K2X.Studies.calculateCoppock=function(Z01,h3b){var z0U,H0v,b6f,F5A,U$x,w32,t3I,c7l,Z4B;z0U="Short";z0U+=" RoC";H0v=h3b.chart.scrubbed;b6f=h3b.inputs.Field;if(!b6f || b6f == "field"){b6f="Close";}F5A=parseInt(h3b.inputs["Long RoC"],+"10");if(!F5A){F5A=14;}U$x=parseInt(h3b.inputs[z0U],10);if(!U$x){U$x=11;}w32=h3b.days;if(!w32){w32=10;}if(F5A < U$x){return;}if(H0v.length < Math.max(U$x,F5A,w32) + 1){h3b.error=!!"1";return;}m8h.Y0_();for(var L0h=Math.max(h3b.startFrom,F5A);L0h < H0v.length;L0h++){m8h.O2S(3);t3I=H0v[m8h.z95(L0h,U$x)][b6f];m8h.N94(3);c7l=H0v[m8h.z95(L0h,F5A)][b6f];if(t3I && c7l){Z4B="_Su";Z4B+="m";Z4B+=" ";m8h.O2S(33);var z00=m8h.z95(288,2,640);m8h.O2S(1);var o9i=m8h.z95(0,19,17);H0v[L0h][Z4B + h3b.name]=("100" << z00) * (H0v[L0h][b6f] / t3I + H0v[L0h][b6f] / c7l - o9i);}}K2X.Studies.MA("weighted",w32,"_Sum " + h3b.name,0,"Result",Z01,h3b);};K2X.Studies.studyLibrary=K2X.extend(K2X.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:K2X.Studies.calculateCoppock,inputs:{Period:10,Field:R$N,"Short RoC":11,"Long RoC":14}}});}};e_=D06=>{var I2j=r9oI0;I2j.Y0_();var w1q,D5E,J8R;w1q=typeof _CIQ !== "undefined"?_CIQ:D06.CIQ;if(!w1q.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {D5E="aut";D5E+="o";J8R="#5F7";J8R+="C";J8R+="B";J8R+="8";w1q.Studies.calculateDarvas=function(m6o,g4a){var E2S,i0D,H5I,b5y,R7T,S4i,O$L,w8l,j7U,s2i,W$K,Q85,Z27,n74,J7m,Y5o,P5f,U64,t$o,l7A,F8A,T5w,w4y,o_n,K2_,B1C,L4Q,c5z,g87;E2S="Spi";E2S+="k";E2S+="e";i0D="Lo";i0D+="s";i0D+="s";H5I="L";H5I+="e";H5I+="vel Off";H5I+="set";b5y=g4a.chart.scrubbed;R7T=0;S4i=parseInt(g4a.inputs["ATH Lookback Period"],10);if(g4a.inputs["Volume Spike"]){w1q.Studies.MA("simple",S4i,"Volume",0,"ADV",m6o,g4a);}I2j.N94(134);var m1C=I2j.m68(90,6,8,2);O$L=parseFloat(g4a.inputs["Volume % of Avg"]) / m1C;w8l="none";j7U={};s2i=null;W$K=null;I2j.M17();Q85=null;Z27=parseFloat(g4a.inputs[H5I]);n74=!"1";if(n74){console.log("*****************");}Y5o={};["Darvas","Ghost","Profit",i0D,"ATH","ADV",E2S].forEach(function(T2M){I2j.Y0_();Y5o[T2M]=T2M + " " + g4a.name;});for(J7m=g4a.startFrom - 1;J7m > 0;J7m--){P5f=b5y[J7m];if(P5f[Y5o.Darvas] || P5f[Y5o.Ghost]){for(var o8o in Y5o){P5f[o8o]=null;}}else {R7T=P5f[Y5o.ATH] || "0" - 0;W$K=P5f[Y5o.Profit];Q85=P5f[Y5o.Loss];break;}}for(J7m;J7m < b5y.length;J7m++){U64="Volume";U64+=" ";U64+="Spi";U64+="ke";t$o="Pr";t$o+="i";t$o+="ce ";t$o+="Minimum";l7A=b5y[J7m];if(!l7A)continue;if(parseFloat(g4a.inputs[t$o]) <= b5y[R7T].Close){F8A="darva";F8A+="s";T5w="hi";T5w+="g";T5w+="h";w4y="E";w4y+="xi";w4y+="t Field";if(s2i && (!s2i.End || J7m == s2i.End + 1)){if(b5y[J7m - +"1"].Close > j7U.High){j7U={State:"1" * 1,High:2 * j7U.High - j7U.Low,Low:j7U.High,Start:J7m,End:("2" - 0) * j7U.End - j7U.Start + 1};}else {s2i=null;;}if(s2i){l7A[Y5o.Ghost]=w1q.clone(j7U);if(n74){console.log("Ghost begin:" + l7A.DT);}j7U.State=0;if(b5y[j7U.End]){b5y[j7U.End][Y5o.Ghost]=w1q.clone(j7U);if(n74){console.log("Ghost end:" + b5y[j7U.End].DT);}}s2i={Start:j7U.Start,End:j7U.End};W$K=j7U.High + Z27;if(!Q85 || Q85 < j7U.Low - Z27){Q85=j7U.Low - Z27;}}}l7A[Y5o.Profit]=W$K;l7A[Y5o.Loss]=Q85;if(l7A.Close >= W$K){W$K=null;}else if(g4a.inputs[w4y] == "high/low" && l7A.High >= W$K){W$K=null;}if(w8l == "none"){if(J7m == R7T + 3){if(!b5y[R7T + 2][Y5o.Darvas] && !b5y[R7T + 1][Y5o.Darvas] && !b5y[R7T][Y5o.Darvas] && b5y[R7T].High > l7A.High){w8l="high";;}}}if(w8l == T5w){if(l7A.High > b5y[R7T].High){o_n="no";o_n+="n";o_n+="e";w8l=o_n;}else if(b5y[J7m - ("3" | 3)].Low < b5y[J7m - +"2"].Low && b5y[J7m - 3].Low < b5y[J7m - 1].Low && b5y[J7m - 3].Low < l7A.Low){K2_="Darvas";K2_+=" ";K2_+="begin";K2_+=":";j7U={State:1,High:b5y[R7T].High,Low:b5y[J7m - 3].Low,Start:R7T};b5y[R7T][Y5o.Darvas]=w1q.clone(j7U);w8l="darvas";if(n74){console.log(K2_ + b5y[R7T].DT);}if(n74){console.log("Darvas established:" + l7A.DT);}if(s2i){if(s2i.End > J7m && b5y[s2i.Start]){l7A[Y5o.Ghost]=w1q.clone(b5y[s2i.Start][Y5o.Ghost]);l7A[Y5o.Ghost].End=J7m;if(b5y[s2i.End]){delete b5y[s2i.End][Y5o.Ghost];if(n74){console.log("Ghost End removed:" + b5y[s2i.End].DT);}}}l7A[Y5o.Ghost].State=+"0";b5y[s2i.Start][Y5o.Ghost].End=J7m;if(n74){console.log("Ghost end:" + l7A.DT);}s2i=null;}W$K=j7U.High + Z27;if(!Q85 || Q85 < j7U.Low - Z27){Q85=j7U.Low - Z27;}}}if(w8l == F8A){B1C="n";B1C+="on";B1C+="e";L4Q="high/lo";L4Q+="w";c5z="E";c5z+="xit Field";if(l7A.Close > j7U.High){s2i={};}else if(g4a.inputs[c5z] == "high/low" && l7A.High > j7U.High){s2i={};}else if(l7A.Close < j7U.Low){w8l="none";}else if(g4a.inputs["Exit Field"] == L4Q && l7A.Low < j7U.Low){w8l="none";}if(s2i){w8l=B1C;}else if(w8l == "none"){W$K=null;Q85=null;}if(!g4a.inputs["Ghost Boxes"]){s2i=null;}if(w8l == "none"){for(var c6W=j7U.Start + 1;c6W < J7m;c6W++){b5y[c6W][Y5o.Darvas]=w1q.clone(j7U);}j7U.State=0;j7U.End=J7m;l7A[Y5o.Darvas]=w1q.clone(j7U);if(n74){console.log("Darvas end:" + l7A.DT);}l7A[Y5o.ATH]=R7T;continue;}}if(Q85){if(l7A.Close < j7U.Low || g4a.inputs["Exit Field"] == "high/low" && l7A.Low < j7U.Low){if(w8l == "darvas"){w8l="none";}if(l7A.Close < Q85 || g4a.inputs["Exit Field"] == "high/low" && l7A.Low < Q85){W$K=null;Q85=null;}if(s2i){if(s2i.End > J7m && b5y[s2i.Start]){l7A[Y5o.Ghost]=w1q.clone(b5y[s2i.Start][Y5o.Ghost]);l7A[Y5o.Ghost].End=J7m;if(b5y[s2i.End]){delete b5y[s2i.End][Y5o.Ghost];if(n74){console.log("Ghost End removed:" + b5y[s2i.End].DT);}}}l7A[Y5o.Ghost].State=0;b5y[s2i.Start][Y5o.Ghost].End=J7m;if(n74){console.log("Ghost end:" + l7A.DT);}s2i=null;}}}}if(l7A.High >= b5y[R7T].High){R7T=J7m;if(n74){console.log("All Time High:" + l7A.DT);}}if(J7m < 3 || l7A.High >= b5y[J7m - +"1"].High && l7A.High >= b5y[J7m - 2].High && l7A.High >= b5y[J7m - +"3"].High){if(J7m - R7T >= S4i){g87="All Tim";g87+="e";g87+=" Hi";g87+="gh:";R7T=J7m;for(var k_C=0;k_C < S4i;k_C++){if(J7m - k_C < 0)break;if(b5y[J7m - k_C].High > b5y[R7T].High){I2j.O2S(3);R7T=I2j.m68(J7m,k_C);}}if(n74){console.log(g87 + l7A.DT);}}}if(g4a.inputs[U64] && J7m > S4i && J7m == R7T){if(l7A[Y5o.ADV] * O$L < l7A.Volume){l7A[Y5o.Spike]=1;if(n74){console.log("Volume Spike:" + l7A.DT);}}}l7A[Y5o.ATH]=R7T;}};w1q.Studies.displayDarvas=function(K9C,t6c,i0o){var m3z,w6M,e_j,b1y,D4v,j5I,P7E,M80,Z4y,g$y,r9h,W1n,g5C,L3K,k_M,p8p,d2S,w6g,X6w,G34,t6a,I2E,y8U,Y7f,v2s,f9b,l9S,L02,z5a,S$5,H$4,e7I,b3J,H6w,Q6j,O5C,m80;m3z="Stop Le";m3z+="v";m3z+="el";m3z+="s";w6M="a";w6M+="u";w6M+="to";e_j=w1q.Studies.determineColor(t6c.outputs.Levels);if(!e_j || e_j == "auto" || w1q.isTransparent(e_j)){e_j=K9C.defaultColor;}b1y=w1q.Studies.determineColor(t6c.outputs.Darvas);if(!b1y || b1y == "auto" || w1q.isTransparent(b1y)){b1y=K9C.defaultColor;}D4v=w1q.Studies.determineColor(t6c.outputs.Ghost);if(!D4v || D4v == w6M || w1q.isTransparent(D4v)){D4v=K9C.defaultColor;}j5I=K9C.panels[t6c.panel];P7E=t6c.getContext(K9C);I2j.O2S(7);var S0q=I2j.m68(0,17,15);W1n=K9C.layout.candleWidth - S0q;if(W1n < +"2"){W1n=1;}K9C.startClip(t6c.panel);I2j.Y0_();if(t6c.inputs[m3z]){if(P7E.setLineDash){P7E.setLineDash([2,2]);}P7E.lineWidth=2;P7E.strokeStyle=e_j;P7E.beginPath();for(M80=0;M80 < i0o.length;M80++){g5C="Los";g5C+="s ";Z4y=i0o[M80];I2j.N94(3);L3K=i0o[I2j.m68(M80,1)];if(!Z4y)continue;r9h=Z4y["Loss " + t6c.name]?Math.floor(K9C.pixelFromPrice(Z4y["Loss " + t6c.name],j5I)):null;k_M=L3K && L3K[g5C + t6c.name]?Math.floor(K9C.pixelFromPrice(L3K["Loss " + t6c.name],j5I)):null;if(r9h){if(Z4y.candleWidth){W1n=Math.floor(Math.max(1,Z4y.candleWidth));}p8p=Math.floor(K9C.pixelFromBar(M80,j5I.chart) + W1n / 2);d2S=Math.floor(K9C.pixelFromBar(M80,j5I.chart) - W1n / 2);if(k_M && k_M >= r9h){P7E.lineTo(d2S,r9h);}else if(M80 === ("0" ^ 0)){P7E.moveTo(K9C.chart.left,r9h);}else {P7E.moveTo(d2S,r9h);}P7E.lineTo(p8p,r9h);}}P7E.stroke();if(P7E.setLineDash){P7E.setLineDash([]);}P7E.lineWidth=1;}w6g=-10;G34=0;I2E=-10;Y7f=0;f9b=!!0;l9S=!1;L02=P7E.measureText("\u25B2").width / ("2" ^ 0);z5a=0;for(M80="0" << 64;M80 < i0o.length;M80++){S$5="Gh";S$5+="os";S$5+="t Boxes";H$4="Da";H$4+="rvas ";e7I="Spi";e7I+="ke ";if(!i0o[M80])continue;if(i0o[M80].Close || i0o[M80].Close === ("0" | 0)){z5a=M80;}if(i0o[M80][e7I + t6c.name]){P7E.fillStyle=b1y;P7E.textBaseline="bottom";b3J=K9C.pixelFromPrice(i0o[M80].High,K9C.chart.panel);P7E.fillText((+"373.04",809) > 478?"\u25BC":433.94 < (+"6990",747.92)?(477,9837) !== (230.57,7755)?"G":"B":"c",K9C.pixelFromBar(M80) - L02,b3J - 5);;}if(i0o[M80].candleWidth){W1n=Math.floor(Math.max(1,i0o[M80].candleWidth));}if(i0o[M80][H$4 + t6c.name]){Z4y=i0o[M80]["Darvas " + t6c.name];if(Z4y.State == 1 && !f9b){w6g=Math.floor(K9C.pixelFromBar(M80,j5I.chart) - W1n / 2);X6w=Math.floor(K9C.pixelFromPrice(Z4y.High,j5I));t6a=Math.floor(K9C.pixelFromPrice(Z4y.Low,j5I)) - X6w;f9b=!![];}else if(Z4y.State === ("0" | 0)){I2j.O2S(135);var w2p=I2j.m68(20,4,12,17,20);G34=Math.floor(K9C.pixelFromBar(M80,j5I.chart) + W1n / w2p) - w6g;X6w=Math.floor(K9C.pixelFromPrice(Z4y.High,j5I));t6a=Math.floor(K9C.pixelFromPrice(Z4y.Low,j5I)) - X6w;P7E.strokeStyle=b1y;P7E.fillStyle=b1y;if(!t6c.inputs["Stop Levels"]){P7E.strokeRect(w6g,X6w,G34,t6a);I2j.O2S(3);P7E.globalAlpha=I2j.z95("0.2",0);}else {P7E.globalAlpha=0.3;}P7E.fillRect(w6g,X6w,G34,t6a);P7E.globalAlpha=1;f9b=![];}}if(i0o[M80]["Ghost " + t6c.name] && t6c.inputs[S$5]){Z4y=i0o[M80]["Ghost " + t6c.name];if(Z4y.State == +"1" && !l9S){I2E=Math.floor(K9C.pixelFromBar(M80,j5I.chart) - W1n / 2);y8U=Math.floor(K9C.pixelFromPrice(Z4y.High,j5I));Y7f=Math.floor((Z4y.End - Z4y.Start + "1" * 1) * K9C.layout.candleWidth + W1n / +"2");v2s=Math.floor(K9C.pixelFromPrice(Z4y.Low,j5I)) - y8U;l9S=!"";}else if(Z4y.State === 0){H6w="S";H6w+="top L";H6w+="eve";H6w+="ls";if(Z4y.Start == Z4y.End){I2E=Math.floor(K9C.pixelFromBar(M80,j5I.chart) - W1n / 2);}Y7f=Math.floor(K9C.pixelFromBar(M80,j5I.chart) + W1n / +"2") - I2E;y8U=Math.floor(K9C.pixelFromPrice(Z4y.High,j5I));v2s=Math.floor(K9C.pixelFromPrice(Z4y.Low,j5I)) - y8U;P7E.strokeStyle=D4v;P7E.fillStyle=D4v;if(!t6c.inputs[H6w]){P7E.strokeRect(I2E,y8U,Y7f,v2s);P7E.globalAlpha=0.2;}else {P7E.globalAlpha=0.3;}P7E.fillRect(I2E,y8U,Y7f,v2s);P7E.globalAlpha=1;l9S=!({});}}}if(f9b){Q6j="St";Q6j+="op Lev";Q6j+="els";I2j.N94(136);var w6c=I2j.z95(14,23,7,3);G34=Math.floor(K9C.pixelFromBar(z5a,j5I.chart) + W1n / w6c) - w6g;P7E.strokeStyle=b1y;P7E.fillStyle=b1y;if(!t6c.inputs[Q6j]){P7E.beginPath();I2j.N94(137);P7E.moveTo(I2j.m68(G34,"2",w6g,0),X6w);P7E.lineTo(w6g,X6w);I2j.N94(2);P7E.lineTo(w6g,I2j.z95(X6w,t6a));I2j.O2S(138);P7E.lineTo(I2j.m68(w6g,G34,"2",64),I2j.z95(X6w,t6a,I2j.O2S(2)));P7E.stroke();I2j.O2S(3);P7E.globalAlpha=I2j.m68("0.2",0);}else {P7E.globalAlpha=0.3;}I2j.O2S(21);P7E.fillRect(w6g,X6w,I2j.z95(2,G34),t6a);P7E.globalAlpha=1;}if(l9S){O5C="Stop";O5C+=" L";O5C+="ev";O5C+="els";P7E.strokeStyle=D4v;P7E.fillStyle=D4v;if(!t6c.inputs[O5C]){P7E.strokeRect(I2E,y8U,Y7f,v2s);I2j.N94(21);P7E.globalAlpha=I2j.z95("0.2",1);}else {P7E.globalAlpha=0.3;}P7E.fillRect(I2E,y8U,Y7f,v2s);P7E.globalAlpha=1;}if(f9b || l9S){if(t6c.inputs["Stop Levels"]){if(P7E.setLineDash){P7E.setLineDash([2,2]);}P7E.lineWidth=2;P7E.strokeStyle=e_j;m80=Math.floor(K9C.pixelFromBar(z5a - ("1" | 0),j5I.chart) + W1n / 2);if(g$y){P7E.beginPath();P7E.moveTo(m80,g$y);P7E.lineTo(f9b?w6g + +"2" * G34:I2E + Y7f,g$y);P7E.stroke();}if(r9h){P7E.beginPath();P7E.moveTo(m80,r9h);P7E.lineTo(f9b?w6g + 2 * G34:I2E + Y7f,r9h);P7E.stroke();}if(P7E.setLineDash){P7E.setLineDash([]);}P7E.lineWidth=1;}f9b=!({});l9S=!!"";}K9C.endClip();};w1q.Studies.studyLibrary=w1q.extend(w1q.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!![],calculateFN:w1q.Studies.calculateDarvas,seriesFN:w1q.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!"","Stop Levels":!!0,"Level Offset":0.01,"Price Minimum":"5" | 4,"Volume Spike":!({}),"Volume % of Avg":400},outputs:{Darvas:J8R,Ghost:"#699158",Levels:D5E},customRemoval:!!({}),attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!![]},flippedEnabled:{hidden:!![]}}}});}};n0=T0i=>{var Y2q=r9oI0;var s3G,C9V;s3G="und";s3G+="e";Y2q.M17();s3G+="fined";C9V=typeof _CIQ !== s3G?_CIQ:T0i.CIQ;if(!C9V.Studies){console.error("detrended feature requires first activating studies feature.");}else {C9V.Studies.calculateDetrendedPrice=function(H1n,E3P){var a73,v3w,c29,l7t,i_k,B33,S0Z,m$1,q04;a73=E3P.chart.scrubbed;if(a73.length < E3P.days + 1){E3P.error=!![];return;}v3w=E3P.inputs.Field;Y2q.M17();c29=1817411121;l7t=1023519878;i_k=2;for(var K_S=1;Y2q.a9Z(K_S.toString(),K_S.toString().length,80937) !== c29;K_S++){B33="Cl";B33+="os";B33+="e";if(-v3w && v3w === "Close"){v3w="Close";}S0Z=Math.floor((E3P.days - 3) * 0);C9V.Studies.MA(E3P.inputs["MA"],E3P.days,v3w,~S0Z,B33,H1n,E3P);i_k+=2;}if(Y2q.a9Z(i_k.toString(),i_k.toString().length,3449) !== l7t){if(!v3w || v3w == "field"){v3w="Close";}S0Z=Math.floor(E3P.days / 2 + ("1" | 0));C9V.Studies.MA(E3P.inputs["Moving Average Type"],E3P.days,v3w,-S0Z,"MA",H1n,E3P);}for(var B9X=Math.max(E3P.days - S0Z - 1,E3P.startFrom - S0Z);B9X < a73.length - S0Z;B9X++){if(B9X < 0)continue;m$1=a73[B9X][v3w];if(m$1 && typeof m$1 == "object"){m$1=m$1[E3P.subField];}q04=a73[B9X]["MA " + E3P.name];if((m$1 || m$1 === 0) && (q04 || q04 === +"0")){Y2q.N94(3);a73[B9X]["Result " + E3P.name]=Y2q.m68(m$1,q04);}}};C9V.Studies.studyLibrary=C9V.extend(C9V.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:C9V.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};E6=N5U=>{var p88,H3b,G1$,T0r,b2d;p88="und";p88+="efin";p88+="ed";H3b=typeof _CIQ !== p88?_CIQ:N5U.CIQ;r9oI0.Y0_();if(!H3b.Studies){G1$="disparity feature requires first a";G1$+="ctivating studi";G1$+="es feature.";console.error(G1$);}else {T0r="f";T0r+="ield";b2d="Disp";b2d+="ari";b2d+="ty";b2d+=" Index";H3b.Studies.calculateDisparity=function(V7U,M4l){var D8f,a_o,b07,j2y,U40;D8f="Movin";D8f+="g Average ";D8f+="Type";a_o=M4l.chart.scrubbed;if(a_o.length < M4l.days + 1){M4l.error=!!({});return;}b07=M4l.inputs.Field;if(!b07 || b07 == "field"){b07="Close";}H3b.Studies.MA(M4l.inputs[D8f],M4l.days,b07,0,"_MA",V7U,M4l);for(var c9f=Math.max(M4l.startFrom,M4l.days - 1);c9f < a_o.length;c9f++){j2y="_";j2y+="M";j2y+="A";j2y+=" ";if(!a_o[c9f])continue;U40=a_o[c9f][j2y + M4l.name];if(U40){a_o[c9f]["Result " + M4l.name]=+"100" * (a_o[c9f][b07] / U40 - +"1");}}};H3b.Studies.studyLibrary=H3b.extend(H3b.Studies.studyLibrary,{Disparity:{name:b2d,calculateFN:H3b.Studies.calculateDisparity,inputs:{Period:"14" * 1,Field:T0r,"Moving Average Type":"ma"}}});}};O_=n72=>{var O_n,v1O;O_n=typeof _CIQ !== "undefined"?_CIQ:n72.CIQ;if(!O_n.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {v1O="m";v1O+="a";O_n.Studies.calculateEaseOfMovement=function(d2P,o2r){var J4c=r9oI0;var u47,R4J,q46,S0V,k7x,f3e,M5$;u47=o2r.chart.scrubbed;if(u47.length < o2r.days){o2r.error=!![];return;}for(var x2e=Math.max(1,o2r.startFrom);x2e < u47.length;x2e++){R4J="_EO";R4J+="M";R4J+="1";R4J+=" ";q46=(u47[x2e].High + u47[x2e].Low) / 2;J4c.O2S(139);var o6n=J4c.z95(4,19,1,19,3);J4c.O2S(140);var n_Y=J4c.z95(19,5,6,18);S0V=(u47[x2e - ("1" ^ 0)].High + u47[x2e - o6n].Low) / n_Y;J4c.N94(3);k7x=J4c.z95(q46,S0V);J4c.N94(141);var v3I=J4c.z95(1100000012,13,11,1200000000,12);f3e=u47[x2e].Volume / v3I / (u47[x2e].High - u47[x2e].Low);J4c.N94(10);M5$=J4c.z95(k7x,f3e);if(!isFinite(M5$)){u47[x2e]["_EOM1 " + o2r.name]=NaN;}else {u47[x2e][R4J + o2r.name]=M5$;}}O_n.Studies.MA(o2r.inputs["Moving Average Type"],o2r.days,"_EOM1 " + o2r.name,0,"Result",d2P,o2r);};O_n.Studies.studyLibrary=O_n.extend(O_n.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:O_n.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":v1O}}});}};R_=J1X=>{var p0r,U10;p0r=typeof _CIQ !== "undefined"?_CIQ:J1X.CIQ;if(!p0r.Studies){U10="ehlerFisher feature requires first activating stud";U10+="ies feature.";console.error(U10);}else {p0r.Studies.calculateEhlerFisher=function(W8n,y2A){var i3g=r9oI0;var v8j,B_8,N_d,u0S,u_W,S5g,V3N,K5T;v8j=y2A.chart.scrubbed;if(v8j.length < y2A.days + 1){y2A.error=!![];return;}B_8=0;if(y2A.startFrom > 1){i3g.N94(139);var G2d=i3g.m68(16,17,2,68,1);B_8=v8j[y2A.startFrom - G2d]["_n " + y2A.name];}i3g.Y0_();for(var T6i=y2A.startFrom;T6i < v8j.length;T6i++){N_d="E";N_d+="F";N_d+=" ";u0S="E";u0S+="F ";u_W=v8j[T6i];if(u_W.futureTick)break;if(T6i < y2A.days - 1){S5g="EF";S5g+=" Trigg";S5g+="e";S5g+="r ";u_W["EF " + y2A.name]=u_W[S5g + y2A.name]=B_8;continue;}V3N=D3O(y2A.days,T6i);i3g.O2S(5);var h5a=i3g.m68(3,4,5);i3g.N94(142);var R0C=i3g.m68(17,34,8,19,8);B_8=0.33 * +"2" * (((v8j[T6i].High + v8j[T6i].Low) / h5a - V3N[0]) / Math.max(0.000001,V3N[R0C] - V3N[0]) - 0.5) + 0.67 * B_8;if(B_8 > 0){B_8=Math.min(B_8,0.9999);}else if(B_8 < 0){B_8=Math.max(B_8,-0.9999);}K5T=T6i?v8j[T6i - 1][u0S + y2A.name]:0;i3g.N94(143);var L4q=i3g.z95(37,20,13,3);i3g.O2S(43);var R2$=i3g.z95(19,13,135,9);u_W[N_d + y2A.name]=0.5 * Math.log((L4q + B_8) / (R2$ - B_8)) + 0.5 * K5T;u_W["EF Trigger " + y2A.name]=K5T;u_W["_n " + y2A.name]=B_8;}function D3O(E7o,I6v){var V12,O45,U2t;V12=Number.MAX_VALUE;O45=Number.MAX_VALUE * -+"1";for(var i3z=I6v - E7o + ("1" << 0);i3z <= I6v;i3z++){i3g.N94(144);var G8i=i3g.m68(3,6,2,8,3);U2t=(v8j[i3z].High + v8j[i3z].Low) / G8i;V12=Math.min(V12,U2t);O45=Math.max(O45,U2t);}return [V12,O45];}};p0r.Studies.studyLibrary=p0r.extend(p0r.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:p0r.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};m3=P32=>{var z6y,q5j,n$j,w3F,p5V;z6y=typeof _CIQ !== "undefined"?_CIQ:P32.CIQ;if(!z6y.Studies){console.error("elder feature requires first activating studies feature.");}else {q5j="#5F";q5j+="7";q5j+="CB";q5j+="8";n$j="#";n$j+="8BC";n$j+="176";w3F="Elder Ray I";w3F+="nd";w3F+="ex";p5V="Eld";p5V+="er Force";p5V+=" In";p5V+="dex";z6y.Studies.calculateElderImpulse=function(x06,V$d){var r5Z=r9oI0;var Q2j,e1u,G5T,o6l,w3l,v3S,P0V,W4$;Q2j="_";Q2j+="M";Q2j+="A";e1u=V$d.chart.scrubbed;G5T=V$d.outputs.Bullish;o6l=V$d.outputs.Bearish;w3l=V$d.outputs.Neutral;z6y.Studies.MA("exponential",13,"Close",0,Q2j,x06,V$d);r5Z.O2S(145);var N3r=r5Z.m68(20,18,431,1,15);r5Z.O2S(146);var s8d=r5Z.z95(9501,10,9508,2);r5Z.O2S(147);var Q8$=r5Z.m68(1,9708,9701,1,9701);r5Z.O2S(148);var U0C=r5Z.m68(19,1369,7,2,4723);r5Z.N94(149);var E1b=r5Z.z95(20,15,1,87504,80177);r5Z.O2S(48);var J$T=r5Z.z95(20,3,61);r5Z.N94(150);var A71=r5Z.z95(25872,6,6462,6,155232);r5Z.N94(151);var h1L=r5Z.z95(14,9647,9628,2);V$d.macd=new z6y.Studies.StudyDescriptor(((N3r,s8d) <= Q8$?U0C >= (E1b,344.62)?"_":("0x186f" * J$T,A71):(534.09,h1L)) + V$d.name,"macd",V$d.panel);V$d.macd.chart=V$d.chart;V$d.macd.days=V$d.days;V$d.macd.startFrom=V$d.startFrom;V$d.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};V$d.macd.outputs={_MACD:null,_Signal:null};z6y.Studies.calculateMACD(x06,V$d.macd);for(var Z0F=V$d.startFrom;Z0F < e1u.length;Z0F++){P0V="_";P0V+="M";P0V+="A";P0V+=" ";W4$="_";W4$+="MA ";if(Z0F === 0){v3S=w3l;}else if(e1u[Z0F]["_MA " + V$d.name] > e1u[Z0F - 1][W4$ + V$d.name] && e1u[Z0F]["_" + V$d.name + "_hist"] > e1u[Z0F - 1]["_" + V$d.name + "_hist"]){v3S=G5T;}else if(e1u[Z0F]["_MA " + V$d.name] < e1u[Z0F - 1][P0V + V$d.name] && e1u[Z0F][("2520" - 0 == "9969" >> 64?(1610,9310) != 589.78?0xd0:(8.93e+3,"Z"):"_") + V$d.name + "_hist"] < e1u[Z0F - 1]["_" + V$d.name + "_hist"]){v3S=o6l;}else {v3S=w3l;}e1u[Z0F]["Result " + V$d.name]=v3S;;}};z6y.Studies.calculateElderRay=function(X2S,q50){var p5G,K1G,Y3b,w65,x_R;p5G=q50.chart.scrubbed;if(p5G.length < q50.days){q50.error=!![];return;}z6y.Studies.MA("exponential",q50.days,"Close",0,"_EMA",X2S,q50);for(var J6t=Math.max(q50.startFrom,q50.days - 1);J6t < p5G.length;J6t++){K1G="_E";K1G+="MA ";p5G[J6t][q50.name + "_hist1"]=p5G[J6t].High - p5G[J6t]["_EMA " + q50.name];p5G[J6t][q50.name + "_hist2"]=p5G[J6t].Low - p5G[J6t][K1G + q50.name];}Y3b=1551791053;w65=-1254821211;x_R=2;for(var A8n=1;r9oI0.a9Z(A8n.toString(),A8n.toString().length,30679) !== Y3b;A8n++){q50.outputMap={};q50.outputMap[q50.name + "_hist1"]="";q50.outputMap[q50.name + "_hist2"]="";x_R+=2;}if(r9oI0.a9Z(x_R.toString(),x_R.toString().length,59219) !== w65){q50.outputMap={};q50.outputMap[q50.name / ""]="";q50.outputMap[q50.name / "_hist2"]="";}};z6y.Studies.calculateElderForce=function(M1s,U_2){var N0k,z9I,e47,g7l;N0k="R";N0k+="es";N0k+="ult";z9I="exp";z9I+="on";z9I+="ent";z9I+="ial";e47=U_2.chart.scrubbed;if(e47.length < U_2.days){U_2.error=!![];return;}for(var W21=Math.max(+"1",U_2.startFrom);W21 < e47.length;W21++){g7l="_";g7l+="EF1 ";e47[W21][g7l + U_2.name]=e47[W21].Volume * (e47[W21].Close - e47[W21 - +"1"].Close);}z6y.Studies.MA(z9I,U_2.days,"_EF1 " + U_2.name,0,N0k,M1s,U_2);};z6y.Studies.initElderImpulse=function(U8G,Y7W,g4S,x2U,r8T,y45){var C_5,U1w,t3Y,o0c;C_5=z6y.Studies.initializeFN(U8G,Y7W,g4S,x2U,r8T,y45);if(!r8T.calculateOnly){U8G.chart.customChart={chartType:"colored_bar",colorFunction:function(b_Q,D5a,b$p){var n6E;r9oI0.M17();n6E=D5a["Result " + C_5.name];if(n6E && typeof n6E == "object"){n6E=n6E.color;}return n6E;}};U1w=-363407711;t3Y=-240253981;o0c=2;for(var K2u=1;r9oI0.j$g(K2u.toString(),K2u.toString().length,2096) !== U1w;K2u++){U8G.setMainSeriesRenderer();o0c+=2;}if(r9oI0.j$g(o0c.toString(),o0c.toString().length,"53195" * 1) !== t3Y){U8G.setMainSeriesRenderer();}}return C_5;};z6y.Studies.displayElderForce=function(i44,g8X,m3$){var X0m,q5V,a8a,E_r,G8z;X0m="Res";X0m+="ul";X0m+="t";X0m+=" ";z6y.Studies.displaySeriesAsLine(i44,g8X,m3$);q5V=z6y.Studies.determineColor(g8X.outputs.Result);a8a=i44.panels[g8X.panel];E_r=g8X.getYAxis(i44);G8z={skipTransform:a8a.name != g8X.chart.name,panelName:g8X.panel,band:X0m + g8X.name,threshold:0,color:q5V,yAxis:E_r};if(!g8X.highlight && i44.highlightedDraggable){G8z.opacity=0.3;}G8z.direction=1;z6y.preparePeakValleyFill(i44,G8z);G8z.direction=-1;z6y.preparePeakValleyFill(i44,G8z);};z6y.Studies.displayElderRay=function(h4T,e6f,l$w){var E3K=r9oI0;var Q0F,X7P,C5u,g12,y4m,q3f,t_Q,t1Y,N5b,a94;Q0F=h4T.panels[e6f.panel];X7P=e6f.getContext(h4T);E3K.Y0_();C5u=e6f.getYAxis(h4T);g12=h4T.pixelFromPrice(0,Q0F,C5u);E3K.O2S(152);var X$y=E3K.m68(1,8,134,1,16);y4m=h4T.layout.candleWidth - X$y;if(y4m < 2){y4m=1;}h4T.canvasColor("stx_histogram");q3f=X7P.fillStyle;if(!e6f.underlay){E3K.N94(12);X7P.globalAlpha=E3K.m68(32,"1");}h4T.startClip(e6f.panel);if(!e6f.highlight && h4T.highlightedDraggable){X7P.globalAlpha*=0.3;}for(var Y$f="0" | 0;Y$f < l$w.length;Y$f++){t_Q="El";t_Q+="der Be";t_Q+="ar ";t_Q+="Power";t1Y="Eld";t1Y+="er Bull Power";N5b="_";N5b+="hi";N5b+="st2";a94=l$w[Y$f];if(!a94)continue;if(a94.candleWidth){y4m=Math.floor(Math.max(1,a94.candleWidth - 2));}if(a94[e6f.name + "_hist1"] > "0" << 0){b0b(Y$f,0,"Elder Bull Power","_hist1");}if(a94[e6f.name + "_hist2"] < 0){b0b(Y$f,0,"Elder Bear Power",N5b);}if(a94[e6f.name + "_hist1"] < 0){b0b(Y$f,+"0.1",t1Y,"_hist1");}if(a94[e6f.name + "_hist2"] > 0){b0b(Y$f,0.1,t_Q,"_hist2");}}h4T.endClip();X7P.fillStyle=q3f;function b0b(u0_,m1I,F3m,Y6Q){X7P.fillStyle=z6y.Studies.determineColor(e6f.outputs[F3m]);X7P.fillRect(Math.floor(h4T.pixelFromBar(u0_,Q0F.chart) - y4m / 2 + y4m * m1I),Math.floor(g12),Math.floor(y4m * (("1" << 0) - +"2" * m1I)),Math.floor(h4T.pixelFromPrice(a94[e6f.name + Y6Q],Q0F,C5u) - g12));}};z6y.Studies.studyLibrary=z6y.extend(z6y.Studies.studyLibrary,{"Elder Force":{name:p5V,calculateFN:z6y.Studies.calculateElderForce,seriesFN:z6y.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:w3F,seriesFN:z6y.Studies.displayElderRay,calculateFN:z6y.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:z6y.Studies.calculateElderImpulse,initializeFN:z6y.Studies.initElderImpulse,seriesFN:null,customRemoval:!!({}),underlay:!!"1",inputs:{},outputs:{Bullish:n$j,Bearish:"#DD3E39",Neutral:q5j},removeFN:function(C97,S40){C97.chart.customChart=null;C97.setMainSeriesRenderer();}}});}};t$=e9i=>{var b4A,R9q;b4A=typeof _CIQ !== "undefined"?_CIQ:e9i.CIQ;if(!b4A.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {R9q="a";R9q+="u";R9q+="to";b4A.Studies.calculateFractalChaos=function(u4K,X9E){var g2d=r9oI0;var I44,p5q,j3Z,T78,q12,T2D,E7l,H86,v8k,y__,i8Z;I44=X9E.chart.scrubbed;g2d.M17();p5q=0;j3Z=0;T78=0;if(X9E.startFrom && X9E.type == "Fractal Chaos Bands"){q12="Fract";q12+="al Low ";T2D="Fractal High";T2D+=" ";g2d.N94(153);var d2E=g2d.z95(10,15,12,1,3);p5q=I44[X9E.startFrom - d2E][T2D + X9E.name];g2d.N94(2);var I7P=g2d.z95(0,1);j3Z=I44[X9E.startFrom - I7P][q12 + X9E.name];}for(var L_9=Math.max(4,X9E.startFrom);L_9 < I44.length;L_9++){E7l="Res";E7l+="ul";E7l+="t";E7l+=" ";if(I44[L_9].futureTick)break;H86=!isNaN(I44[L_9].High);v8k=!isNaN(I44[L_9].Low);if(H86 || v8k){I44[L_9][E7l + X9E.name]=0;}T78=0;for(y__=0;y__ <= L_9;y__++){if(!I44[L_9 - y__])break;if(I44[L_9 - y__].High > I44[L_9 - 2].High)break;if(y__ < 2 && I44[L_9 - y__].High == I44[L_9 - 2].High)break;if(I44[L_9 - y__].High < I44[L_9 - 2].High){T78++;}if(T78 == 4){p5q=I44[L_9 - 2].High;break;}}if(X9E.type == "Fractal Chaos Bands"){if(H86){I44[L_9]["Fractal High " + X9E.name]=p5q > 0?p5q:null;}}else if(T78 == 4){I44[L_9]["Result " + X9E.name]=+"1";}T78=+"0";for(y__=0;y__ <= L_9;y__++){if(!I44[L_9 - y__])break;if(I44[L_9 - y__].Low < I44[L_9 - 2].Low)break;if(y__ < 2 && I44[L_9 - y__].Low == I44[L_9 - 2].Low)break;if(I44[L_9 - y__].Low > I44[L_9 - 2].Low){T78++;}if(T78 == 4){j3Z=I44[L_9 - +"2"].Low;break;}}if(X9E.type == "Fractal Chaos Bands"){if(v8k){I44[L_9]["Fractal Low " + X9E.name]=j3Z > 0?j3Z:null;}}else if(T78 == 4){i8Z="Res";i8Z+="u";i8Z+="lt ";I44[L_9][i8Z + X9E.name]=-1;}}};b4A.Studies.studyLibrary=b4A.extend(b4A.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:b4A.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!"",calculateFN:b4A.Studies.calculateFractalChaos,seriesFN:b4A.Studies.displayChannel,inputs:{"Channel Fill":!![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":R9q}}});}};Y6=U44=>{var l67=r9oI0;l67.M17();var x9Y,l43;x9Y=typeof _CIQ !== "undefined"?_CIQ:U44.CIQ;if(!x9Y.Studies){l43="GoNoG";l43+="o - Trend study requires first ac";l43+="tivating studies fe";l43+="ature.";console.error(l43);}else {(function M21(){var q6F,z$g,H9K,X08,E3_,J51,N3X;function e5H(k2s,T2W,F7u){var J2v,a9A,N5l,Z4k,b1F,r_d,E_a,J$N,z7N,X$I,k50,W9q,I41,F5p,L6p,D_b,V4I;J2v="Te";J2v+="xt ";J2v+="Go";if(!Array.isArray(F7u)){return;}l67.Y0_();if(!I02(k2s)){return;}a9A=k2s.panels[T2W.panel];if(!a9A || T2W.noDraw){return;}N5l=`Bull ${T2W.name}`;Z4k=`Bear ${T2W.name}`;b1F=Math.min(+"16",Math.max("8" - 0,Math.round(k2s.layout.candleWidth)));r_d=x9Y.Studies.determineColor(T2W.outputs.Go);E_a=x9Y.Studies.determineColor(T2W.outputs.NoGo);J$N=x9Y.Studies.determineColor(T2W.outputs[J2v]);z7N=x9Y.Studies.determineColor(T2W.outputs["Text NoGo"]);if(r_d === "auto"){r_d=k2s.defaultColor;}if(E_a === "auto"){E_a=k2s.defaultColor;}if(J$N === "auto"){J$N=x9Y.chooseForegroundColor(r_d);}if(z7N === "auto"){z7N=x9Y.chooseForegroundColor(E_a);}U9R(k2s,T2W,"GoNoGo");var {context:W4T}=k2s.chart;for(var j9N=0;j9N < F7u.length;j9N++){X$I=F7u[j9N];if(!X$I){continue;}if(X$I[N5l] === 1 || X$I[Z4k] === -("1" >> 64)){l67.O2S(7);var z6f=l67.z95(0,14,13);k50=X$I[N5l] === z6f;W9q=k2s.pixelFromBar(j9N);I41=k50?k2s.pixelFromPrice(X$I.Low) + b1F:k2s.pixelFromPrice(X$I.High) - b1F;F5p=4;L6p=k50?"Go":"NoGo";W4T.font=`${b1F}px bold Roboto, sans-serif`;var {width:q3T}=W4T.measureText(L6p);l67.O2S(154);D_b=l67.z95("2",F5p,q3T);l67.N94(155);V4I=l67.z95(b1F,F5p,"2",0);W4T.fillStyle=k50?r_d:E_a;l67.O2S(52);W4T.fillRect(l67.m68(D_b,2,W9q),l67.m68(V4I,2,I41),D_b,V4I);W4T.fillStyle=k50?J$N:z7N;W4T.textAlign="center";W4T.textBaseline="middle";W4T.fillText(L6p,W9q,I41);}}}q6F="#";function C1L(J8o,m98){var Q$3,A4H,W8q,b9g,c22,B_X,v9W,I00,n31,A_t;Q$3="m";Q$3+="y";Q$3+="sa";Q$3+="r";A4H="mt";A4H+="mavg";W8q="mtm";W8q+=" ";if(m98.disabled && p4q(J8o,m98)){return;}b9g=m98.chart.scrubbed;if(!Array.isArray(b9g)){return;}if(!I02(J8o)){p4q(J8o,m98);return;}U9R(J8o,m98);if(m98.wasDisabled){m98.startFrom=0;m98.wasDisabled=!({});}p__(J8o,m98,25,"Close","mtm");q3X(J8o,m98,5,0,"sma",W8q + m98.name,A4H);R1l(J8o,m98,12,+"26",+"9","ema","ema","Close","mymacd");q3X(J8o,m98,50,0,"sma","Close","myma");X6p(J8o,m98,0.2,0.2,0.2,Q$3);c22=`Trend ${m98.name}`;B_X=`Bull ${m98.name}`;v9W=`Bear ${m98.name}`;l67.N94(113);I00=`${l67.m68(" ","r","Col","o")}${m98.name}`;m98.outputMap={};for(var l99=m98.startFrom;l99 < b9g.length;l99++){n31=b9g[l99];if(!n31 || typeof n31 !== "object"){continue;}A_t=0;if(n31.Close > n31[`${"m" + "yma "}${m98.name}`]){A_t++;}if(n31.Close > n31[`Result mysar`]){A_t++;}if(n31[`MACD mymacd`] > 0 && n31[`Signal mymacd`] > 0){A_t++;}if(n31[`${"mt" + "mavg "}${m98.name}`] > "0" >> 32){A_t++;}n31[c22]=A_t;n31[B_X]=0;n31[v9W]=0;if(l99 > 0){if(n31[c22] > 2.5 && b9g[l99 - 1][c22] <= +"2.5"){n31[B_X]=1;}if(n31[c22] < 2.0 && b9g[l99 - +"1"][c22] >= 2.0){n31[v9W]=-1;}}l67.O2S(2);n31[I00]=m98.outputs[l67.z95("Score ",A_t)];}}function p__(Y7e,j7G,w2w,j_o,x3s){var h72;h72=new x9Y.Studies.StudyDescriptor(x3s + " " + j7G.name,"Momentum",j7G.panel,{Field:j_o,Period:w2w});h72.days=w2w;l67.M17();h72.startFrom=j7G.startFrom;h72.parameters=j7G.parameters;h72.chart=j7G.chart;x9Y.Studies.calculateRateOfChange(Y7e,h72);}l67.Y0_();q6F+="d2691e";z$g="#f";z$g+="fffff";H9K="#00ff";function X6p(f$M,k_H,M6B,B3v,N_j,K3g){var R4N;R4N=new x9Y.Studies.StudyDescriptor(K3g,"PSAR",k_H.panel,{"Minimum AF":M6B,"Maximum AF":B3v});R4N.startFrom=k_H.startFrom;R4N.chart=k_H.chart;x9Y.Studies.calculatePSAR(f$M,R4N);}H9K+="ff";function F9t(f4g,k9g,P$N,w42,z4v,J8c){var E_A;if(!z4v.initialized){z4v.yaxisDisplayValue=null;z4v.initialized=!!"1";}E_A=x9Y.Studies.initializeFN(f4g,k9g,P$N,w42,z4v,J8c);if(z4v && !z4v.panelName && E_A && E_A.panel){z4v.panelName=E_A.panel;}if(z4v.calculateOnly){return E_A;}U9R(f4g,E_A);E_A.checkDisabled=!!"1";return E_A;}X08="GoNoGo";function p4q(c9m,l5r){if(!c9m.chart || c9m.chart.customChart && c9m.chart.customChart.chartType !== X08){return;}l67.M17();l5r.wasDisabled=!!"1";c9m.chart.customChart=E3_;E3_=null;c9m.setMainSeriesRenderer();return !!"1";}function U9R(U86,e1j){if(!U86.chart || !U86.chart.panel || U86.chart.customChart && U86.chart.customChart.chartType === X08){return;}if(U86.chart.customChart){E3_=U86.chart.customChart;}U86.chart.customChart={chartType:X08,colorFunction:function(a5m,u8x,K76){var o5y,h4$,I9G;o5y="a";o5y+="u";o5y+="t";o5y+="o";h4$=u8x[`Color ${e1j.name}`];if(h4$ && typeof h4$ === "object"){h4$=h4$.color;}I9G="#00000000";return h4$ === o5y?a5m.defaultColor:h4$ || I9G;}};U86.setMainSeriesRenderer();}function q3X(D3z,Z1g,a2f,O1b,A_k,k$6,W3Q){l67.M17();x9Y.Studies.MA(A_k,a2f,k$6,O1b,W3Q,D3z,Z1g);}E3_=null;J51=!!"1";N3X=null;function R1l(m2l,W2B,V3M,z9o,V8V,B7w,J2L,A1C,z2e){var S2q,a3T,w6N,X9j,k4X;S2q={"Fast MA Period":V3M,"Slow MA Period":z9o,"Signal Period":V8V,"Moving Average Type":B7w,"Signal MA Type":J2L,Field:A1C};a3T=new x9Y.Studies.StudyDescriptor(z2e,"macd",W2B.panel,S2q);a3T.startFrom=W2B.startFrom;w6N=-888511914;X9j=1581762715;l67.N94(21);k4X=l67.z95("2",1);for(var j8E=1;l67.j$g(j8E.toString(),j8E.toString().length,"40713" << 32) !== w6N;j8E++){a3T.chart=W2B.chart;k4X+=2;}if(l67.a9Z(k4X.toString(),k4X.toString().length,16470) !== X9j){a3T.chart=W2B.chart;}x9Y.Studies.calculateMACD(m2l,a3T);}function I02(L3_){var w0d,N3N,u6e,S3R;w0d="renk";w0d+="o";N3N="p";N3N+="a";N3N+="nd";N3N+="f";u6e=!!1;S3R=L3_.layout.aggregationType;if(S3R !== N3X){J51=!![];}if(S3R === "linebreak" || S3R === "kagi" || S3R === N3N || S3R === w0d){u6e=!({});N3X=S3R;if(J51){L3_.dispatch("notification",{message:X08 + " study is not compatible with aggregation type " + S3R + ".",displayTime:3});J51=!!"";}}l67.M17();return u6e;}x9Y.Studies.studyLibrary=x9Y.extend(x9Y.Studies.studyLibrary,{"GoNoGo Trend":{name:"GoNoGo - Trend",overlay:!0,initializeFN:F9t,calculateFN:C1L,seriesFN:e5H,removeFN:p4q,inputs:{},outputs:{Go:H9K,NoGo:"#b500b5","Text Go":"#808080","Text NoGo":z$g,"Score 0":"#8b008b","Score 1":"#ee82ee","Score 2":q6F,"Score 3":"#7fffd4","Score 4":"#00bfff"},attributes:{yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!!"1"},underlayEnabled:{hidden:!!({})}}}});})();}};O$=X40=>{var b1Q=r9oI0;var M3e,p4Y,V5l;b1Q.Y0_();M3e=typeof _CIQ !== "undefined"?_CIQ:X40.CIQ;if(!M3e.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {p4Y="aut";p4Y+="o";V5l="Highest Hi";V5l+="gh";V5l+=" Value";M3e.Studies.calculateMaxHighMinLow=function(v8o,q5s){var E8m,X$f,r8I,b7Q,N4p,t1q,b_u,c0h,L05;E8m="High";E8m+=" Perio";E8m+="d";X$f=q5s.chart.scrubbed;r8I=q5s.days;b7Q=q5s.days;if(q5s.inputs["High Period"]){r8I=q5s.inputs[E8m];}if(q5s.inputs["Low Period"]){b7Q=q5s.inputs["Low Period"];}if(X$f.length < Math.max(r8I,b7Q) + 1){q5s.error=!![];return;}N4p=Number.MAX_VALUE;b1Q.N94(20);var G$h=b1Q.m68(11,12);t1q=Number.MAX_VALUE * G$h;if(q5s.startFrom > 1){for(b_u=+"1";b_u < r8I;b_u++){if(q5s.startFrom - b_u >= 0){t1q=Math.max(t1q,X$f[q5s.startFrom - b_u].High);}}for(b_u=1;b_u < b7Q;b_u++){if(q5s.startFrom - b_u >= 0){N4p=Math.min(N4p,X$f[q5s.startFrom - b_u].Low);}}}for(var X3q=Math.max(+"0",q5s.startFrom - 1);X3q < X$f.length;X3q++){t1q=Math.max(t1q,X$f[X3q].High);N4p=Math.min(N4p,X$f[X3q].Low);if(X3q >= r8I){if(X$f[X3q - r8I].High == t1q){t1q=X$f[X3q].High;for(b_u=1;b_u < r8I;b_u++){t1q=Math.max(t1q,X$f[X3q - b_u].High);}}}if(X3q >= b7Q){if(X$f[X3q - b7Q].Low == N4p){N4p=X$f[X3q].Low;for(b_u=1;b_u < b7Q;b_u++){N4p=Math.min(N4p,X$f[X3q - b_u].Low);}}}c0h=0;if(q5s.type == "HHV"){c0h=t1q;}else if(q5s.type == "LLV"){c0h=N4p;}else if(q5s.type == "Donchian Width"){b1Q.O2S(3);c0h=b1Q.z95(t1q,N4p);}else if(q5s.type == "GAPO" || q5s.type == "Gopala"){c0h=Math.log(t1q - N4p) / Math.log(b7Q);}else if(q5s.type == "VT HZ Filter"){b1Q.N94(3);c0h=b1Q.z95(t1q,N4p);X$f[X3q]["_MHML " + q5s.name]=c0h;continue;}else if(q5s.type == "Williams %R"){b1Q.N94(156);var z74=b1Q.m68(15,85);c0h=z74 * (t1q - X$f[X3q].Close) / (t1q - N4p);X$f[X3q]["Result " + q5s.name]=c0h;continue;}if(X3q == X$f.length - 1)break;if(!X$f[X3q + 1].futureTick){if(q5s.type == "Donchian Channel"){L05="Donc";L05+="h";L05+="ian Low";L05+=" ";b1Q.N94(2);X$f[b1Q.m68(X3q,1)]["Donchian High " + q5s.name]=t1q;b1Q.N94(2);X$f[b1Q.z95(X3q,1)][L05 + q5s.name]=N4p;b1Q.N94(2);X$f[b1Q.z95(X3q,1)]["Donchian Median " + q5s.name]=b1Q.m68(N4p,2,t1q,b1Q.O2S(9));}else {b1Q.N94(2);X$f[b1Q.m68(X3q,1)]["Result " + q5s.name]=c0h;}}}};M3e.Studies.calculateVerticalHorizontalFilter=function(C6j,d64){var U6S,N$r,m5M,U9G,K9u,d$u;U6S=d64.chart.scrubbed;if(U6S.length < d64.days + 1){d64.error=!!({});return;}d64.mhml=new M3e.Studies.StudyDescriptor(d64.name,d64.type,d64.panel);d64.mhml.chart=d64.chart;d64.mhml.days=d64.days;d64.mhml.startFrom=d64.startFrom;d64.mhml.inputs={};d64.mhml.outputs={_MHML:null};M3e.Studies.calculateMaxHighMinLow(C6j,d64.mhml);N$r=0;m5M=[];for(var u67=Math.max(1,d64.startFrom - d64.days);u67 < U6S.length;u67++){U9G=Math.abs(U6S[u67].Close - U6S[u67 - 1].Close);m5M.push(U9G);N$r+=U9G;if(m5M.length == d64.days){K9u="_MH";K9u+="ML ";d$u="R";d$u+="esult ";U6S[u67][d$u + d64.name]=U6S[u67][K9u + d64.name] / N$r;N$r-=m5M.shift();}}};M3e.Studies.studyLibrary=M3e.extend(M3e.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!"",calculateFN:M3e.Studies.calculateMaxHighMinLow,seriesFN:M3e.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!!({})},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:M3e.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:M3e.Studies.calculateMaxHighMinLow},HHV:{name:V5l,calculateFN:M3e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:M3e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:M3e.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:p4Y}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:M3e.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(K7J,F1f){var y1I,j6H;y1I=F1f.chart.scrubbed;for(var M9_=F1f.startFrom;M9_ < y1I.length;M9_++){j6H="Resu";j6H+="l";j6H+="t ";y1I[M9_][j6H + F1f.name]=y1I[M9_].High - y1I[M9_].Low;}},inputs:{}}});}};Y9=a9c=>{var q6u=r9oI0;var t23,q_v;q6u.M17();t23=typeof _CIQ !== "undefined"?_CIQ:a9c.CIQ;if(!t23.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {q_v="Ic";q_v+="himo";q_v+="ku Cloud";q_v+="s";t23.Studies.calculateIchimoku=function(g3w,D5y){var M9W,m0N,r9F,x1p,A80,N$p,v$x,b3k,f5c,J3q;M9W="Leading S";M9W+="pan B Period";m0N=D5y.chart.scrubbed;function G9N(r9b,m3w){var D4i,C5Y;q6u.Y0_();D4i=Number.MAX_VALUE;q6u.N94(7);var v3P=q6u.m68(0,11,12);C5Y=Number.MAX_VALUE * v3P;for(var z7V=m3w - r9b + 1;z7V <= m3w;z7V++){if(z7V < 0)continue;D4i=Math.min(D4i,m0N[z7V].Low);C5Y=Math.max(C5Y,m0N[z7V].High);}return [D4i,C5Y];}r9F={Base:Number(D5y.inputs["Base Line Period"]),Conv:Number(D5y.inputs["Conversion Line Period"]),LeadB:Number(D5y.inputs[M9W]),Lag:Number(D5y.inputs["Lagging Span Period"])};for(x1p=D5y.startFrom;x1p < m0N.length;x1p++){if(!m0N[x1p])continue;A80=G9N(r9F.Conv,x1p);q6u.N94(1);var E2g=q6u.m68(0,9,8);m0N[x1p]["Conversion Line " + D5y.name]=(A80[E2g] + A80[0]) / +"2";A80=G9N(r9F.Base,x1p);q6u.O2S(20);var v8x=q6u.m68(6,5);q6u.O2S(1);var t0g=q6u.z95(0,15,13);m0N[x1p]["Base Line " + D5y.name]=(A80[v8x] + A80[0]) / t0g;if(x1p < r9F.Lag)continue;m0N[x1p - r9F.Lag]["Lagging Span " + D5y.name]=m0N[x1p].Close;}N$p=[];for(x1p=Math.max(0,D5y.startFrom - r9F.Base);x1p < m0N.length;x1p++){A80=G9N(r9F.LeadB,x1p);q6u.O2S(14);var q__=q6u.z95(18,236,18,14);v$x=(m0N[x1p]["Conversion Line " + D5y.name] + m0N[x1p]["Base Line " + D5y.name]) / q__;q6u.N94(3);var h$z=q6u.m68(11,10);q6u.N94(157);var E25=q6u.z95(23,15,14,12,16);b3k=(A80[h$z] + A80[0]) / E25;if(m0N[x1p + r9F.Base]){m0N[x1p + r9F.Base]["Leading Span A " + D5y.name]=v$x;m0N[x1p + r9F.Base]["Leading Span B " + D5y.name]=b3k;}else {f5c="Leading ";f5c+="Span B ";J3q={};J3q["Leading Span A " + D5y.name]=v$x;J3q[f5c + D5y.name]=b3k;N$p.push(J3q);}}D5y.appendFutureTicks(g3w,N$p);};t23.Studies.displayIchimoku=function(w_o,G50,F2c){var t6A,m_j,E$Q,j12,j$i,N_Y,L1m;q6u.M17();t6A="Leading Span A " + G50.name;m_j="Leading Span B " + G50.name;E$Q=t23.Studies.determineColor(G50.outputs[G50.outputMap[t6A]]);j12=t23.Studies.determineColor(G50.outputs[G50.outputMap[m_j]]);j$i=w_o.panels[G50.panel];N_Y=G50.getYAxis(w_o);L1m={topBand:t6A,bottomBand:m_j,topColor:E$Q,bottomColor:j12,skipTransform:j$i.name != G50.chart.name,topAxis:N_Y,bottomAxis:N_Y,opacity:0.3};if(!G50.highlight && w_o.highlightedDraggable){L1m.opacity*=0.3;}t23.fillIntersecting(w_o,G50.panel,L1m);t23.Studies.displaySeriesAsLine(w_o,G50,F2c);};t23.Studies.studyLibrary=t23.extend(t23.Studies.studyLibrary,{"Ichimoku Clouds":{name:q_v,overlay:!!"1",calculateFN:t23.Studies.calculateIchimoku,seriesFN:t23.Studies.displayIchimoku,inputs:{"Conversion Line Period":+"9","Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};T1=v20=>{var W0_=r9oI0;W0_.M17();var J1H,k1r;J1H=typeof _CIQ !== "undefined"?_CIQ:v20.CIQ;if(!J1H.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {k1r="a";k1r+="u";k1r+="to";J1H.Studies.calculateIntradayMomentum=function(K9T,n4N){W0_.M17();var J89,q$F,t1Q,g$c,C4t,C53,N_A;J89=n4N.chart.scrubbed;q$F=n4N.days;if(J89.length < q$F + 1){n4N.error=!!({});return;}t1Q=0;g$c=0;if(n4N.startFrom > 1){C4t="_t";C4t+="o";C4t+="tDn ";W0_.N94(46);var V3J=W0_.z95(7,9,1);t1Q=J89[n4N.startFrom - V3J]["_totUp " + n4N.name];W0_.O2S(102);var s2f=W0_.z95(19,2,0,20);g$c=J89[n4N.startFrom - s2f][C4t + n4N.name];}for(var I_c=n4N.startFrom;I_c < J89.length;I_c++){C53=J89[I_c].Close - J89[I_c].Open;if(C53 > 0){t1Q+=C53;}else {g$c-=C53;}if(I_c >= q$F){N_A=J89[I_c - q$F].Close - J89[I_c - q$F].Open;if(N_A > 0){t1Q-=N_A;}else {g$c+=N_A;}}W0_.N94(158);J89[I_c]["Result " + n4N.name]=W0_.m68(t1Q,g$c,100,t1Q);J89[I_c]["_totUp " + n4N.name]=t1Q;J89[I_c]["_totDn " + n4N.name]=g$c;}};J1H.Studies.studyLibrary=J1H.extend(J1H.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:J1H.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:70,studyOverBoughtColor:k1r,studyOverSoldValue:"30" << 0,studyOverSoldColor:"auto"}}}});}};a1=U1N=>{var Q1p,v89,W0K,g2o,N84,r3L;Q1p=1122573215;v89=-342219651;W0K=2;r9oI0.Y0_();for(var D8i=1;r9oI0.a9Z(D8i.toString(),D8i.toString().length,53407) !== Q1p;D8i++){g2o=+_CIQ == ""?_CIQ:U1N.CIQ;W0K+=2;}if(r9oI0.j$g(W0K.toString(),W0K.toString().length,60783) !== v89){g2o=+_CIQ == ""?_CIQ:U1N.CIQ;}g2o=typeof _CIQ !== "undefined"?_CIQ:U1N.CIQ;if(!g2o.Studies){N84="keltner";N84+=" feature requires first activating stu";N84+="dies fe";N84+="ature.";console.error(N84);}else {r3L="aut";r3L+="o";g2o.Studies.calculateKeltner=function(v2z,q9c){var n0z;n0z="Clos";n0z+="e";g2o.Studies.MA(q9c.inputs["Moving Average Type"],q9c.days,n0z,0,"MA",v2z,q9c);g2o.Studies.calculateStudyATR(v2z,q9c);g2o.Studies.calculateGenericEnvelope(v2z,q9c,q9c.inputs.Shift,"MA " + q9c.name,"ATR " + q9c.name);};g2o.Studies.studyLibrary=g2o.extend(g2o.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!!"1",seriesFN:g2o.Studies.displayChannel,calculateFN:g2o.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!![]},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":r3L},attributes:{Shift:{min:0.1,step:0.1}}}});}};h3=B0e=>{var n6W,a_w,o8N,X0Y;n6W=typeof _CIQ !== "undefined"?_CIQ:B0e.CIQ;if(!n6W.Studies){console.error("klinger feature requires first activating studies feature.");}else {a_w="#0";a_w+="0D";a_w+="D0";a_w+="0";o8N="#F";o8N+="F0";o8N+="00";o8N+="0";X0Y="a";X0Y+="u";X0Y+="t";X0Y+="o";n6W.Studies.calculateKlinger=function(p7B,J$K){var p62,c$v,Z8k,W$x,s0T,c_x,P6z,B2A,Q81,V64,a_u,m9o,r8R,H_5,K62,P0I,G5S,I5T,I8g;p62="Kli";p62+="nge";p62+="rSigna";p62+="l";c$v="expon";c$v+="ential";Z8k="_EM";Z8k+="A-L";Z8k+=" ";W$x="_";W$x+="S";W$x+="V";W$x+=" ";s0T="Kli";s0T+="ngerSi";s0T+="gnal";s0T+=" ";c_x="_";c_x+="h";c_x+="is";c_x+="t";P6z="Shor";P6z+="t C";P6z+="ycl";P6z+="e";B2A=J$K.chart.scrubbed;Q81=Number(J$K.inputs[P6z]);V64=Number(J$K.inputs["Long Cycle"]);if(B2A.length < Math.max(Q81,V64) + 1){J$K.error=!!"1";return;}a_u=J$K.name + c_x;m9o="Klinger " + J$K.name;r8R=s0T + J$K.name;H_5=W$x + J$K.name;K62="_EMA-S " + J$K.name;P0I=Z8k + J$K.name;for(G5S=Math.max(1,J$K.startFrom);G5S < B2A.length;G5S++){I5T="h";I5T+="l";I5T+="c";I5T+="/3";I8g=B2A[G5S].Volume;if(B2A[G5S][I5T] < B2A[G5S - 1]["hlc/3"]){I8g*=-1;}if(I8g){B2A[G5S][H_5]=I8g;}}r9oI0.Y0_();n6W.Studies.MA(c$v,Q81,H_5,0,"_EMA-S",p7B,J$K);r9oI0.N94(12);n6W.Studies.MA("exponential",V64,H_5,r9oI0.z95(64,"0"),"_EMA-L",p7B,J$K);for(G5S=Math.max(V64,J$K.startFrom);G5S < B2A.length;G5S++){if(B2A[G5S].futureTick || B2A[G5S][K62] === null || B2A[G5S][P0I] === null)break;B2A[G5S][m9o]=B2A[G5S][K62] - B2A[G5S][P0I];}n6W.Studies.MA("exponential",Number(J$K.inputs["Signal Periods"]),m9o,0,p62,p7B,J$K);for(G5S=J$K.startFrom;G5S < B2A.length;G5S++){B2A[G5S][a_u]=B2A[G5S][m9o] - B2A[G5S][r8R];}J$K.outputMap[a_u]="";};n6W.Studies.studyLibrary=n6W.extend(n6W.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:n6W.Studies.displayHistogramWithSeries,calculateFN:n6W.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:X0Y,KlingerSignal:o8N,"Increasing Bar":a_w,"Decreasing Bar":"#FF0000"}}});}};w2=Z7r=>{var t0J=r9oI0;var F37,C3T,y5F,M7d,l79,c7W,J3L,i9u,m2w,j_d,q3j,L0L,i64;t0J.Y0_();F37="u";F37+="ndef";F37+="ine";F37+="d";C3T=typeof _CIQ !== F37?_CIQ:Z7r.CIQ;if(!C3T.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {y5F="t";y5F+="im";y5F+="e series";M7d="t";M7d+="s";M7d+="m";M7d+="a";C3T.Studies.prettify["time series"]=M7d;C3T.Studies.movingAverage.conversions.tsma="time series";C3T.Studies.movingAverage.translations["time series"]="Time Series";C3T.Studies.movingAverage.typeMap.tsma="TimeSeries";C3T.Studies.movingAverage.typeMap[y5F]="TimeSeries";C3T.Studies.calculateMovingAverageTimeSeries=function(y6p,v0x){var d4H,v39,i8k,Z6V,g1d,P8u,h4Y,g4U;v0x.ma=new C3T.Studies.StudyDescriptor(v0x.name,"ma",v0x.panel);v0x.ma.chart=v0x.chart;v0x.ma.days=v0x.days;v0x.ma.startFrom=v0x.startFrom;v0x.ma.inputs=v0x.inputs;C3T.Studies.calculateLinearRegressionIndicator(y6p,v0x.ma);d4H=v0x.name;for(var S5d in v0x.outputs){t0J.O2S(92);d4H=t0J.m68(" ",d4H,S5d);}v39=parseInt(v0x.inputs.Offset,10);if(isNaN(v39)){v39=0;}i8k=v0x.chart.scrubbed;Z6V=v39;for(var M6D=v0x.startFrom - +"1";M6D >= 0;M6D--){g1d=i8k[M6D][d4H];if(!g1d && g1d !== 0)continue;if(Z6V > 0){Z6V--;continue;}break;}P8u=[];for(M6D++;M6D < i8k.length;M6D++){h4Y=i8k[M6D];if(M6D + v39 >= +"0"){if(M6D + v39 < i8k.length){t0J.O2S(2);i8k[t0J.z95(M6D,v39)][d4H]=h4Y["Forecast " + v0x.name];}else {g4U={};g4U[d4H]=h4Y["Forecast " + v0x.name];P8u.push(g4U);}}}v0x.appendFutureTicks(y6p,P8u);};C3T.Studies.calculateLinearRegressionIndicator=function(i1G,S5U){var O7b,f5g,f_k,Z0M,b$a,U3P,v5D,b4V,w9U,q9s,t1p,n3F,q4R,K_j,R3S,j3S,p9J,W89,P5z;O7b=S5U.chart.scrubbed;if(O7b.length < S5U.days + 1){S5U.error=!![];return;}f5g=S5U.inputs.Field;if(!f5g || f5g == "field"){f5g="Close";}t0J.O2S(159);var Q2Z=t0J.z95(14,4,11,3,68);f_k=S5U.days * (S5U.days + +"1") / Q2Z;Z0M=Math.pow(f_k,2);t0J.O2S(33);var Z0b=t0J.z95(1,9,18);t0J.O2S(1);var x9T=t0J.m68(8,2,7);b$a=f_k * (("2" ^ 0) * S5U.days + Z0b) / x9T;U3P=+"0";v5D=0;b4V=0;if(S5U.startFrom){t0J.N94(160);var B$R=t0J.z95(3,9,18,7);w9U=O7b[S5U.startFrom - B$R]["_sums " + S5U.name];if(w9U){v5D=w9U[0];q9s=-1093151494;t0J.N94(25);t1p=-t0J.z95(12,"164393615");n3F=2;for(var I_V=1;t0J.j$g(I_V.toString(),I_V.toString().length,79241) !== q9s;I_V++){U3P=w9U[2];b4V=w9U[6];n3F+=2;}if(t0J.a9Z(n3F.toString(),n3F.toString().length,55790) !== t1p){U3P=w9U[1];b4V=w9U[2];}}}for(var n8G=S5U.startFrom;n8G < O7b.length;n8G++){q4R="Sl";q4R+="ope ";K_j=O7b[n8G][f5g];if(K_j && typeof K_j == "object"){K_j=K_j[S5U.subField];}if(!K_j && K_j !== 0)continue;v5D+=S5U.days * K_j - U3P;U3P+=K_j;b4V+=Math.pow(K_j,2);if(n8G < S5U.days - 1)continue;else if(n8G > S5U.days - +"1"){R3S="o";R3S+="b";R3S+="j";R3S+="ect";j3S=O7b[n8G - S5U.days][f5g];if(j3S && typeof j3S == R3S){j3S=j3S[S5U.subField];}if(!j3S && j3S !== +"0")continue;U3P-=j3S;t0J.O2S(3);b4V-=Math.pow(j3S,t0J.z95("2",0));}p9J=(S5U.days * v5D - f_k * U3P) / (S5U.days * b$a - Z0M);O7b[n8G][q4R + S5U.name]=p9J;W89=(U3P - p9J * f_k) / S5U.days;O7b[n8G]["Intercept " + S5U.name]=W89;O7b[n8G]["Forecast " + S5U.name]=W89 + p9J * S5U.days;t0J.O2S(115);var F1i=t0J.m68(4862,32,19,8);P5z=(S5U.days * b$a - Z0M) / (S5U.days * b4V - Math.pow(U3P,F1i));t0J.O2S(161);O7b[n8G]["RSquared " + S5U.name]=t0J.z95(p9J,P5z,p9J);O7b[n8G]["_sums " + S5U.name]=[v5D,U3P,b4V];}};l79=-86796634;c7W=1054627156;J3L=2;for(var b59=1;t0J.j$g(b59.toString(),b59.toString().length,72131) !== l79;b59++){i9u="Linea";i9u+="r Reg R2";m2w="a";m2w+="uto";j_d="Linear R";j_d+="eg Interce";j_d+="pt";C3T.Studies.studyLibrary=C3T.extend(C3T.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!!1,calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:j_d,overlay:!"",calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:m2w}},"Lin R2":{name:i9u,calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!!"1",calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});J3L+=+"2";}if(t0J.j$g(J3L.toString(),J3L.toString().length,30634) !== c7W){q3j="Ti";q3j+="me ";q3j+="Fcs";q3j+="t";L0L="Lin ";L0L+="Inc";L0L+="pt";i64="f";i64+="i";i64+="e";i64+="ld";C3T.Studies.studyLibrary=C3T.extend(C3T.Studies.studyLibrary,{"Lin Fcst":{name:"field",overlay:!1,calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:23,Field:"Linear Reg Slope"},outputs:{Forecast:"Linear Reg Slope"}},"Lin Incpt":{name:"Time Fcst",overlay:!"1",calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:83,Field:"auto"},outputs:{Intercept:"field"}},"Lin R2":{name:i64,calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:65,Field:"Lin Fcst"},outputs:{RSquared:"LR Slope"}},"LR Slope":{name:L0L,calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"43",Field:q3j},outputs:{Slope:"field"}},"Time Fcst":{name:"Time Series Forecast",overlay:![],calculateFN:C3T.Studies.calculateLinearRegressionIndicator,inputs:{Period:28,Field:"Time Fcst"},outputs:{Forecast:"Lin Incpt"}}});}}};l0=J0e=>{var A0l,n$z;A0l=typeof _CIQ !== "undefined"?_CIQ:J0e.CIQ;if(!A0l.Studies){console.error("macd feature requires first activating studies feature.");}else {n$z="a";n$z+="u";n$z+="to";A0l.Studies.calculateMACD=function(C4d,k3B){var F7y=r9oI0;var U7_,h8c,v8V,Y5P,i87,M0$,p8N,R7$,e6b,Z3_,R9t,N1V,T9V,c6V,d1e,C1q,z1F;U7_="_hi";U7_+="st";h8c="_";h8c+="MA";h8c+="C";h8c+="D1";v8V="Signal Peri";v8V+="od";Y5P="Slo";Y5P+="w MA Period";i87=k3B.chart.scrubbed;M0$=k3B.inputs;p8N=k3B.name;if(!k3B.macd1Days){k3B.macd1Days=parseFloat(M0$["Fast MA Period"]);}if(!k3B.macd2Days){k3B.macd2Days=parseFloat(M0$[Y5P]);}if(!k3B.signalDays){k3B.signalDays=parseFloat(M0$[v8V]);}if(!k3B.days){k3B.days=Math.max(k3B.macd1Days,k3B.macd2Days,k3B.signalDays);}if(i87.length < k3B.days + 1){k3B.error=!!({});return;}R7$=k3B.inputs.Field;if(!R7$ || R7$ == "field"){R7$="Close";}e6b=M0$["Moving Average Type"];if(!e6b){e6b="exponential";}A0l.Studies.MA(e6b,k3B.macd1Days,R7$,0,h8c,C4d,k3B);A0l.Studies.MA(e6b,k3B.macd2Days,R7$,0,"_MACD2",C4d,k3B);N1V=Math.max(k3B.startFrom,k3B.days - 1);for(Z3_=N1V;Z3_ < i87.length;Z3_++){T9V="_MACD2";T9V+=" ";c6V="_MACD1";c6V+=" ";R9t=i87[Z3_];if((R9t[c6V + p8N] || R9t["_MACD1 " + p8N] === 0) && (R9t["_MACD2 " + p8N] || R9t["_MACD2 " + p8N] === 0)){F7y.O2S(2);R9t[F7y.m68("MACD ",p8N)]=R9t["_MACD1 " + p8N] - R9t[T9V + p8N];}}d1e=M0$["Signal MA Type"];if(!d1e){d1e="exponential";}A0l.Studies.MA(d1e,k3B.signalDays,"MACD " + p8N,"0" - 0,"Signal",C4d,k3B);F7y.N94(2);C1q=F7y.m68(p8N,U7_);for(Z3_=N1V;Z3_ < i87.length;Z3_++){R9t=i87[Z3_];F7y.N94(2);z1F=R9t[F7y.m68("Signal ",p8N)];if(!z1F && z1F !== 0)continue;R9t[C1q]=R9t["MACD " + p8N] - R9t["Signal " + p8N];}k3B.outputMap[C1q]="";};A0l.Studies.studyLibrary=A0l.extend(A0l.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:A0l.Studies.calculateMACD,seriesFN:A0l.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"},outputs:{MACD:n$z,Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};c0=h3Y=>{var q3d,O1f;q3d=typeof _CIQ !== "undefined"?_CIQ:h3Y.CIQ;if(!q3d.Studies){console.error("massIndex feature requires first activating studies feature.");}else {O1f="Mass";O1f+=" Index";q3d.Studies.calculateMassIndex=function(b2S,V52){var W5$=r9oI0;var K_T,F7X,l8O,z0M,t0r,K5$;K_T="_E";K_T+="M";K_T+="A2";F7X="exponenti";F7X+="al";l8O=V52.chart.scrubbed;W5$.Y0_();if(l8O.length < Math.max(9,V52.days + 1)){V52.error=!"";return;}for(var I$U=V52.startFrom;I$U < l8O.length;I$U++){z0M="_Hi";z0M+="g";z0M+="h";z0M+="-Low ";l8O[I$U][z0M + V52.name]=l8O[I$U].High - l8O[I$U].Low;}q3d.Studies.MA("exponential",9,"_High-Low " + V52.name,0,"_EMA",b2S,V52);q3d.Studies.MA(F7X,9,"_EMA " + V52.name,0,K_T,b2S,V52);t0r=0;if(l8O[V52.startFrom - 1] && l8O[V52.startFrom - 1]["_total " + V52.name]){W5$.N94(63);var C8P=W5$.m68(14,0,12,1,3);t0r=l8O[V52.startFrom - C8P]["_total " + V52.name];}for(var T1d=Math.max(17,V52.startFrom);T1d < l8O.length;T1d++){t0r+=l8O[T1d]["_EMA " + V52.name] / l8O[T1d]["_EMA2 " + V52.name];if(T1d >= +"17" + V52.days - 1){K5$="_";K5$+="E";K5$+="MA";K5$+=" ";l8O[T1d]["Result " + V52.name]=t0r;W5$.O2S(2);var R3F=W5$.z95(0,1);W5$.O2S(61);var t4r=W5$.m68(287,16,18);t0r-=l8O[T1d - V52.days + R3F][K5$ + V52.name] / l8O[T1d - V52.days + t4r]["_EMA2 " + V52.name];}l8O[T1d]["_total " + V52.name]=t0r;}};q3d.Studies.displayMassIndex=function(O4_,T8q,L8P){var v3F,t$8,z9J,Y9G,e2K;q3d.Studies.displaySeriesAsLine(O4_,T8q,L8P);v3F=T8q.inputs["Bulge Threshold"];t$8=O4_.panels[T8q.panel];z9J=T8q.getYAxis(O4_);Y9G=q3d.Studies.determineColor(T8q.outputs.Result);e2K={skipTransform:O4_.panels[T8q.panel].name != T8q.chart.name,panelName:T8q.panel,band:"Result " + T8q.name,threshold:v3F,direction:1,color:Y9G,yAxis:z9J,opacity:0.3};if(!T8q.highlight && O4_.highlightedDraggable){e2K.opacity*=0.3;}q3d.preparePeakValleyFill(O4_,e2K);q3d.Studies.drawHorizontal(O4_,T8q,null,v3F,z9J,Y9G);};q3d.Studies.studyLibrary=q3d.extend(q3d.Studies.studyLibrary,{"Mass Idx":{name:O1f,seriesFN:q3d.Studies.displayMassIndex,calculateFN:q3d.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};P5=Q9h=>{var N41,V_P,N7y;N41="und";N41+="ef";N41+="ine";N41+="d";V_P=typeof _CIQ !== N41?_CIQ:Q9h.CIQ;if(!V_P.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {N7y="a";N7y+="uto";V_P.Studies.calculateMoneyFlowIndex=function(J3h,f4R){var C8c=r9oI0;var U46,L2T,w1D,I8T,A0i,V99,D$H,E5u,l6y,q41,e3a,W2l,U3N;U46=f4R.chart.scrubbed;if(U46.length < f4R.days + "1" * 1){f4R.error=!"";return;}L2T=0;C8c.M17();w1D=0;C8c.O2S(115);var a$P=C8c.m68(2183,12,14,13);I8T=U46[f4R.startFrom - a$P];A0i="_rawMF " + f4R.name;V99="_cumMF " + f4R.name;D$H="Result " + f4R.name;if(I8T && I8T[V99]){L2T=I8T[V99][0];w1D=I8T[V99][1];}for(var m3U=f4R.startFrom;m3U < U46.length;m3U++){E5u="h";E5u+="l";E5u+="c";E5u+="/3";l6y=U46[m3U][E5u];if(m3U > ("0" ^ 0) && !U46[m3U].futureTick){q41="h";q41+="l";q41+="c/";q41+="3";C8c.O2S(3);e3a=U46[C8c.m68(m3U,1)][q41];W2l=l6y * U46[m3U].Volume;if(l6y > e3a){L2T+=W2l;}else if(l6y < e3a){W2l*=-1;w1D-=W2l;}else {W2l=0;}if(m3U > f4R.days){U3N=U46[m3U - f4R.days][A0i];if(U3N > 0){L2T-=U3N;}else {w1D+=U3N;}if(w1D === 0){U46[m3U][D$H]=100;}else if(U46[m3U].Volume){C8c.O2S(162);U46[m3U][D$H]=C8c.m68(w1D,1,100,L2T,100);}}U46[m3U][A0i]=W2l;U46[m3U][V99]=[L2T,w1D];}}};V_P.Studies.studyLibrary=V_P.extend(V_P.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:V_P.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:N7y,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};z2=c$G=>{var M76,o8T,b3u,r5L,d5d,K2f,K_5,U5C,H$b,d_k;M76="unde";M76+="fi";M76+="ned";o8T=typeof _CIQ !== M76?_CIQ:c$G.CIQ;if(!o8T.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {b3u="High";b3u+=" Low Band";b3u+="s";r5L="Guppy ";r5L+="Multiple ";r5L+="M";r5L+="oving Average";d5d="m";d5d+="a";K2f="Mov";K2f+="ing Ave";K2f+="rage Dev";K2f+="iation";K_5="f";K_5+="ie";K_5+="l";K_5+="d";U5C="TripleExponen";U5C+="tia";U5C+="l";H$b="Dou";H$b+="bleExponential";d_k="Hu";d_k+="ll";o8T.Studies.prettify=o8T.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},o8T.Studies.prettify);o8T.extend(o8T.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:d_k,dema:"DoubleExponential","2-exponential":H$b,tema:U5C,"3-exponential":"TripleExponential"}});o8T.Studies.calculateMovingAverageHull=function(n4M,n3L){var F0A,L8e,v0C,O9q,z94,z5c,e1$,r24,r9g,y9r;F0A="w";F0A+="m";F0A+="a";r9oI0.M17();L8e="C";L8e+="l";L8e+="o";L8e+="se";v0C=n3L.chart.scrubbed;O9q=n3L.inputs.Field;if(!O9q || O9q == "field"){O9q=L8e;}o8T.Studies.MA("wma",n3L.days,O9q,0,"_WMA1",n4M,n3L);o8T.Studies.MA("wma",Math.ceil(n3L.days / 2),O9q,0,"_WMA2",n4M,n3L);for(z94=n3L.startFrom - 1;z94 >= 0;z94--){z5c=v0C[z94][O9q];if(z5c && typeof z5c == "object"){z5c=z5c[n3L.subField];}if(z5c || z5c === ("0" ^ 0))break;}for(z94++;z94 < v0C.length;z94++){e1$=v0C[z94];e1$["_MMA " + n3L.name]=+"2" * e1$["_WMA2 " + n3L.name] - e1$["_WMA1 " + n3L.name];}r24=parseInt(n3L.inputs.Offset,"10" - 0);if(isNaN(r24)){r24=0;}r9g=Math.floor(Math.sqrt(n3L.days));o8T.Studies.MA(F0A,r9g,"_MMA " + n3L.name,r24,"_HMA",n4M,n3L);y9r=n3L.name;for(var G6b in n3L.outputs){r9oI0.N94(92);y9r=r9oI0.z95(("886" | 68) === (8540,5380)?0x1a75:538.44 >= 1995?("p",!!""):" ",y9r,G6b);}for(z94=Math.max(n3L.days + r9g - 1,n3L.startFrom);z94 < v0C.length;z94++){v0C[z94][y9r]=v0C[z94]["_HMA " + n3L.name];}};o8T.Studies.calculateMovingAverageDoubleExponential=function(B12,V0S){var F4I=r9oI0;var v7G,k3E,N$C,M3i,v1f,m1L,b2G,J$H,r31,M96,x5U,d8A;v7G="_";v7G+="E";F4I.Y0_();v7G+="MA";v7G+="2";k3E=V0S.chart.scrubbed;N$C=V0S.inputs.Field;if(!N$C || N$C == "field"){N$C="Close";}o8T.Studies.MA("ema",V0S.days,N$C,0,"_EMA1",B12,V0S);o8T.Studies.MA("ema",V0S.days,"_EMA1 " + V0S.name,0,v7G,B12,V0S);M3i=parseInt(V0S.inputs.Offset,+"10");if(isNaN(M3i)){F4I.N94(21);M3i=F4I.m68("0",1);}b2G=M3i;for(v1f=V0S.startFrom - 1;v1f >= 0;v1f--){m1L=k3E[v1f][N$C];if(m1L && typeof m1L == "object"){m1L=m1L[V0S.subField];}if(!m1L && m1L !== 0)continue;if(b2G > ("0" | 0)){b2G--;continue;}break;}J$H=V0S.name;for(var k1a in V0S.outputs){F4I.N94(92);J$H=F4I.m68((1640,1370) < (428,4730)?" ":(623.24,180.48),J$H,k1a);}r31=[];for(v1f++;v1f < k3E.length;v1f++){if(v1f < 2 * (V0S.days - +"1"))continue;M96=k3E[v1f];F4I.N94(3);var V6b=F4I.m68(36,34);x5U=V6b * M96["_EMA1 " + V0S.name] - M96["_EMA2 " + V0S.name];if(v1f + M3i >= 0){if(v1f + M3i < k3E.length){F4I.N94(2);k3E[F4I.z95(v1f,M3i)][J$H]=x5U;}else {d8A={};d8A[J$H]=x5U;r31.push(d8A);}}}V0S.appendFutureTicks(B12,r31);};o8T.Studies.calculateMovingAverageTripleExponential=function(q22,I7f){var s8P=r9oI0;var A7I,N88,F86,p1B,L77,z4x,g08,m9I,r1c,J85,S01,o71,Z9$,z__,G82,C7L;A7I="_E";A7I+="M";A7I+="A";A7I+="2 ";N88="e";N88+="m";N88+="a";F86="e";F86+="m";F86+="a";p1B="Clo";p1B+="se";L77="fi";L77+="eld";z4x=I7f.chart.scrubbed;g08=I7f.inputs.Field;if(!g08 || g08 == L77){g08=p1B;}o8T.Studies.MA(F86,I7f.days,g08,0,"_EMA1",q22,I7f);o8T.Studies.MA(N88,I7f.days,"_EMA1 " + I7f.name,0,"_EMA2",q22,I7f);o8T.Studies.MA("ema",I7f.days,A7I + I7f.name,0,"_EMA3",q22,I7f);m9I=parseInt(I7f.inputs.Offset,+"10");s8P.M17();if(isNaN(m9I)){m9I=0;}S01=m9I;for(r1c=I7f.startFrom - 1;r1c >= "0" << 32;r1c--){J85=z4x[r1c][g08];if(J85 && typeof J85 == "object"){J85=J85[I7f.subField];}if(!J85 && J85 !== 0)continue;if(S01 > 0){S01--;continue;}break;}o71=I7f.name;for(var e8e in I7f.outputs){s8P.O2S(92);o71=s8P.m68(850 <= 504.32?"h":" ",o71,e8e);}Z9$=[];for(r1c++;r1c < z4x.length;r1c++){if(r1c < 3 * (I7f.days - 1))continue;z__=z4x[r1c];s8P.O2S(163);var O_Z=s8P.m68(8,14,5,46,60);s8P.N94(33);var P2c=s8P.z95(54,1,57);G82=O_Z * z__["_EMA1 " + I7f.name] - P2c * z__["_EMA2 " + I7f.name] + z__["_EMA3 " + I7f.name];if(r1c + m9I >= 0){if(r1c + m9I < z4x.length){s8P.O2S(2);z4x[s8P.z95(r1c,m9I)][o71]=G82;}else {C7L={};C7L[o71]=G82;Z9$.push(C7L);}}}I7f.appendFutureTicks(q22,Z9$);};o8T.Studies.calculateMAEnvelope=function(F6W,o0n){var L1P,Q7a,H36,b05,F$v,H16,H8y;L1P=o0n.inputs.Field;if(!L1P || L1P == "field"){L1P="Close";}o8T.Studies.MA(o0n.inputs["Moving Average Type"],o0n.days,L1P,0,"MA",F6W,o0n);Q7a=o0n.inputs["Shift Type"];H36=o0n.inputs.Shift;if(!Q7a){b05="S";b05+="hif";b05+="t Percentage";F$v="percen";F$v+="t";Q7a=F$v;H36=o0n.inputs[b05];}if(Q7a == "percent"){H16="MA";H16+=" ";r9oI0.N94(10);o8T.Studies.calculateGenericEnvelope(F6W,o0n,r9oI0.m68(H36,100),H16 + o0n.name);}else if(Q7a == "points"){H8y="M";H8y+="A";H8y+=" ";o8T.Studies.calculateGenericEnvelope(F6W,o0n,null,H8y + o0n.name,null,Number(H36));}};o8T.Studies.calculateMADev=function(A04,d3o){var u12=r9oI0;var v9t,D_7,F8K,Y$Z,A7F,e46,c67,N_$,B$c,P3Z,x1u,r3r;v9t="Po";v9t+="ints Or Percent";D_7="C";D_7+="lo";u12.Y0_();D_7+="se";F8K=d3o.chart.scrubbed;if(F8K.length < d3o.days + 1){d3o.error=!![];return;}Y$Z=d3o.inputs.Field;if(!Y$Z || Y$Z == "field"){Y$Z=D_7;}A7F=d3o.inputs[v9t];if(!A7F){A7F="Points";}e46=d3o.inputs["Moving Average Type"];if(!e46){e46="exponential";}o8T.Studies.MA(e46,d3o.days,Y$Z,0,"_MA",A04,d3o);c67=d3o.name + "_hist";for(var k3L=Math.max(d3o.startFrom,d3o.days - +"1");k3L < F8K.length;k3L++){N_$="o";N_$+="bje";N_$+="c";N_$+="t";B$c=F8K[k3L];P3Z=B$c[Y$Z];if(P3Z && typeof P3Z == N_$){P3Z=P3Z[d3o.subField];}x1u=B$c["_MA " + d3o.name];if(x1u || x1u === 0){r3r="Point";r3r+="s";if(A7F == r3r){u12.O2S(3);B$c[c67]=u12.m68(P3Z,x1u);}else {u12.N94(164);B$c[c67]=u12.m68(P3Z,1,x1u,"100");}}}d3o.outputMap={};d3o.outputMap[d3o.name + "_hist"]="";};o8T.Studies.calculateGMMA=function(Q8U,H8x){var C1p=r9oI0;var a2Y,N8Y,O29,E6X;function j2P(T9F){C1p.Y0_();return function(T6e){var z3d;z3d="C";z3d+="lo";z3d+="se";C1p.N94(2);o8T.Studies.MA("ema",T6e,z3d,0,C1p.m68("MA ",T6e),Q8U,H8x);H8x.outputMap["MA " + T6e + " " + H8x.name]=T9F;};}a2Y="Long ";a2Y+="T";a2Y+="erm";N8Y=H8x.chart.scrubbed;C1p.N94(40);O29=[3,C1p.z95(0,"5"),8,10,12,C1p.m68(14,"15",C1p.N94(25))];C1p.O2S(21);E6X=[30,C1p.m68("35",1),40,45,50,60];if(N8Y.length < O29[0]){H8x.error=!!1;return;}H8x.outputMap={};O29.forEach(j2P("Short Term"));E6X.forEach(j2P(a2Y));};o8T.Studies.studyLibrary=o8T.extend(o8T.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!!"1",seriesFN:o8T.Studies.displayChannel,calculateFN:o8T.Studies.calculateMAEnvelope,inputs:{Period:"50" | 2,Field:K_5,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!!"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:K2f,calculateFN:o8T.Studies.calculateMADev,seriesFN:o8T.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":d5d,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Guppy:{name:r5L,overlay:!![],calculateFN:o8T.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:b3u,overlay:!![],seriesFN:o8T.Studies.displayChannel,calculateFN:function(G6f,X_z){var u7m,D$e;u7m="trian";u7m+="g";u7m+="ular";D$e="M";D$e+="oving ";D$e+="Avera";D$e+="ge Type";r9oI0.Y0_();X_z.inputs[D$e]=u7m;o8T.Studies.calculateMAEnvelope(G6f,X_z);},inputs:{Period:10,Field:"field","Shift Percentage":"5" | 5,"Channel Fill":!!({})},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};B1=Q6r=>{var b8x=r9oI0;b8x.M17();var k9s,u6X,G8g;k9s=typeof _CIQ !== "undefined"?_CIQ:Q6r.CIQ;if(!k9s.Studies){u6X="parabolic";u6X+="S";u6X+="AR feature requires first activating studies feature.";console.error(u6X);}else {G8g="Parabo";G8g+="l";G8g+="i";G8g+="c SAR";k9s.Studies.calculatePSAR=function(C01,K4J){var E_N,p$z,V7d,w6o,r_7,y2K,t6j,v5r,s8B,l94,j_t,r46;E_N=K4J.chart.scrubbed;p$z=0;V7d=null;w6o=!"1";r_7=0;y2K=parseFloat(K4J.inputs["Minimum AF"]);t6j=parseFloat(K4J.inputs["Maximum AF"]);if(K4J.startFrom > 0){b8x.O2S(2);var h1U=b8x.z95(0,1);r_7=E_N[K4J.startFrom - h1U]["Result " + K4J.name];b8x.N94(33);var Z7C=b8x.m68(1,7,14);v5r=E_N[K4J.startFrom - Z7C]["_state " + K4J.name];if(v5r && v5r.length == 3){p$z=v5r[0];V7d=v5r[1];b8x.N94(21);w6o=v5r[b8x.z95("2",1)];}}for(var A1J=K4J.startFrom - 1;A1J < E_N.length - 1;A1J++){s8B="_stat";s8B+="e ";if(A1J < 0)continue;if(E_N[A1J].futureTick)break;l94=r_7;if(w6o){if(!V7d || V7d < E_N[A1J].High){V7d=E_N[A1J].High;b8x.O2S(2);p$z=Math.min(b8x.m68(p$z,y2K),t6j);}b8x.O2S(165);r_7=b8x.z95(l94,V7d,p$z,l94);j_t=Math.min(E_N[Math.max(+"1",A1J) - +"1"].Low,E_N[A1J].Low);if(r_7 > E_N[A1J + 1].Low){r_7=V7d;e2F();}else if(r_7 > j_t){r_7=j_t;}}else {if(!V7d || V7d > E_N[A1J].Low){V7d=E_N[A1J].Low;b8x.N94(2);p$z=Math.min(b8x.z95(p$z,y2K),t6j);}b8x.N94(165);r_7=b8x.z95(l94,V7d,p$z,l94);r46=Math.max(E_N[Math.max(1,A1J) - 1].High,E_N[A1J].High);if(r_7 < E_N[A1J + +"1"].High){r_7=V7d;e2F();}else if(r_7 < r46){r_7=r46;}}b8x.N94(2);E_N[b8x.z95(A1J,1)][s8B + K4J.name]=[p$z,V7d,w6o];if(!isNaN(E_N[A1J].High) || !isNaN(E_N[A1J].Low)){b8x.O2S(2);E_N[b8x.m68(A1J,1)]["Result " + K4J.name]=r_7;}}function e2F(){p$z=0;V7d=null;w6o=!w6o;}};k9s.Studies.studyLibrary=k9s.extend(k9s.Studies.studyLibrary,{PSAR:{name:G8g,overlay:!![],calculateFN:k9s.Studies.calculatePSAR,seriesFN:k9s.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};y8=l81=>{var X$1=r9oI0;X$1.Y0_();var T_k,x5t,C5X,W3L,j9n,C6O;T_k=typeof _CIQ !== "undefined"?_CIQ:l81.CIQ;if(!T_k.Studies){x5t="pivotPoints feature ";x5t+="r";x5t+="equires first activating studies fea";x5t+="ture.";console.error(x5t);}else {C5X="#d";C5X+="3";C5X+="e8ae";W3L="#";W3L+="b3d98";W3L+="7";j9n="a";j9n+="u";j9n+="t";j9n+="o";C6O="fi";C6O+="b";C6O+="ona";C6O+="cci";T_k.Studies.calculatePivotPoints=function(Z9j,Y9y){var R_s,e$i,O0h,c4T,M2b,f54,s3P,u3Q,s0M,I3p,q1e,J7H,D_5,M4G,f0T,r5S,P9Z,r2Y,v$Q,X1r,w5O,v_U,R6f;R_s="1";R_s+="5mi";R_s+="n";e$i="milliseco";X$1.M17();e$i+="n";e$i+="d";function Y5V(){X$1.N94(166);var M0g=X$1.m68(15,1,2,14,29);X$1.O2S(167);var I5Q=X$1.z95(12,6,18,6,20);D_5.pivotPoint=(D_5.high + D_5.low + M2b[p$f - M0g].Close) / I5Q;D_5.prevHigh=D_5.high;X$1.M17();D_5.prevLow=D_5.low;D_5.hlSpread=D_5.high - D_5.low;X$1.O2S(29);D_5.high=D_5.low=X$1.m68("0",64);}O0h="mo";O0h+="nth";c4T="d";c4T+="ay";M2b=Y9y.chart.scrubbed;f54="day";s3P=Z9j.layout.interval;u3Q=Z9j.layout.timeUnit;if(s3P == c4T){f54=O0h;}else if(T_k.ChartEngine.isDailyInterval(s3P)){f54="year";}else if(s3P == "second" || s3P == e$i || u3Q == "second" || u3Q == "millisecond"){f54=R_s;}else {s0M="minu";s0M+="te";I3p=Z9j.layout.periodicity;if(s3P != s0M){I3p*=s3P;}if(I3p >= 30){f54="week";}}q1e=null;J7H=("7" ^ 0) - T_k.getFromNS(Z9j.chart,"market.beginningDayOfWeek",0);D_5={pivotPoint:NaN,high:0,low:"0" >> 0,prevHigh:0,prevLow:0,hlSpread:0};if(Y9y.startFrom > 1 && M2b[Y9y.startFrom - 1]["_pointers " + Y9y.name]){M4G="_poin";M4G+="t";M4G+="ers ";D_5=T_k.clone(M2b[Y9y.startFrom - +"1"][M4G + Y9y.name]);}for(var p$f=Math.max(1,Y9y.startFrom);p$f < M2b.length;p$f++){f0T="_poi";f0T+="nte";f0T+="r";f0T+="s ";r5S="d";r5S+="a";r5S+="y";P9Z="w";P9Z+="e";P9Z+="e";P9Z+="k";r2Y="mon";r2Y+="t";r2Y+="h";v$Q="y";v$Q+="ea";v$Q+="r";if(!M2b[p$f - 1])continue;D_5.high=Math.max(D_5.high,M2b[p$f - 1].High);D_5.low=Math.min(D_5.low > 0?D_5.low:M2b[p$f - 1].Low,M2b[p$f - 1].Low);if(Y9y.inputs.Continuous){Y5V();}else if(f54 == v$Q && M2b[p$f].DT.getYear() != M2b[p$f - 1].DT.getYear()){Y5V();}else if(f54 == r2Y && M2b[p$f].DT.getMonth() != M2b[p$f - 1].DT.getMonth()){Y5V();}else if(f54 == P9Z && (M2b[p$f].DT.getDay() + J7H) % ("7" ^ 0) < (M2b[p$f - +"1"].DT.getDay() + J7H) % 7){Y5V();}else if(f54 == r5S){if(q1e === null){q1e=T_k.Studies.getMarketOffset({stx:Z9j,localQuoteDate:M2b[p$f].DT,shiftToDateBoundary:!0});}X1r=new Date(new Date(+M2b[p$f].DT).setMilliseconds(M2b[p$f].DT.getMilliseconds() + q1e));w5O=new Date(new Date(+M2b[p$f - +"1"].DT).setMilliseconds(M2b[p$f - 1].DT.getMilliseconds() + q1e));if(w5O.getDate() !== X1r.getDate() && w5O.getDay() !== 0 && Z9j.chart.market.isMarketDate(X1r)){q1e=null;Y5V();}}else if(f54 == "15min" && (M2b[p$f].DT.getHours() != M2b[p$f - 1].DT.getHours() || Math.floor(M2b[p$f].DT.getMinutes() / 15) != Math.floor(M2b[p$f - 1].DT.getMinutes() / 15))){Y5V();}M2b[p$f]["Pivot " + Y9y.name]=D_5.pivotPoint;if(Y9y.inputs.Type.toLowerCase() == "fibonacci"){v_U="Suppo";v_U+="rt 2 ";M2b[p$f]["Resistance 1 " + Y9y.name]=D_5.pivotPoint + 0.382 * D_5.hlSpread;M2b[p$f]["Resistance 2 " + Y9y.name]=D_5.pivotPoint + 0.618 * D_5.hlSpread;M2b[p$f]["Resistance 3 " + Y9y.name]=D_5.pivotPoint + D_5.hlSpread;M2b[p$f]["Support 1 " + Y9y.name]=D_5.pivotPoint - +"0.382" * D_5.hlSpread;M2b[p$f][v_U + Y9y.name]=D_5.pivotPoint - 0.618 * D_5.hlSpread;M2b[p$f]["Support 3 " + Y9y.name]=D_5.pivotPoint - D_5.hlSpread;}else {R6f="S";R6f+="u";R6f+="pport 3 ";X$1.O2S(1);var a8T=X$1.m68(0,21,19);M2b[p$f]["Resistance 1 " + Y9y.name]=a8T * D_5.pivotPoint - D_5.prevLow;M2b[p$f]["Resistance 2 " + Y9y.name]=D_5.pivotPoint + D_5.hlSpread;X$1.O2S(3);var I1S=X$1.m68(10,8);M2b[p$f]["Resistance 3 " + Y9y.name]=D_5.prevHigh + I1S * (D_5.pivotPoint - D_5.prevLow);X$1.N94(8);var A1D=X$1.z95(14,0,7,5);M2b[p$f]["Support 1 " + Y9y.name]=A1D * D_5.pivotPoint - D_5.prevHigh;M2b[p$f]["Support 2 " + Y9y.name]=D_5.pivotPoint - D_5.hlSpread;X$1.O2S(168);var S6N=X$1.m68(109,6,2,11,17);M2b[p$f][R6f + Y9y.name]=D_5.prevLow - S6N * (D_5.prevHigh - D_5.pivotPoint);}M2b[p$f][f0T + Y9y.name]=T_k.clone(D_5);}};T_k.Studies.displayPivotPoints=function(K0i,M5f,t$x){var v3h,g$m,E5d,A$a,S1P,m_i,Z9w;M5f.noSlopes=!M5f.inputs.Continuous;X$1.M17();T_k.Studies.displaySeriesAsLine(K0i,M5f,t$x);if(M5f.inputs.Shading){v3h="Suppo";v3h+="rt 1";g$m="Pi";g$m+="vot";g$m+=" ";E5d="Resis";E5d+="t";E5d+="ance ";E5d+="2";A$a="Resis";A$a+="tan";A$a+="ce";A$a+=" 2 ";S1P="Resi";S1P+="stance 2";S1P+=" ";m_i=K0i.panels[M5f.panel];Z9w={noSlopes:M5f.noSlopes,opacity:M5f.parameters.opacity?M5f.parameters.opacity:0.2,skipTransform:m_i.name != M5f.chart.name,yAxis:M5f.getYAxis(K0i)};if(!M5f.highlight && K0i.highlightedDraggable){Z9w.opacity*=0.3;}T_k.prepareChannelFill(K0i,T_k.extend({panelName:M5f.panel,topBand:"Resistance 3 " + M5f.name,bottomBand:S1P + M5f.name,color:T_k.Studies.determineColor(M5f.outputs["Resistance 3"])},Z9w));T_k.prepareChannelFill(K0i,T_k.extend({panelName:M5f.panel,topBand:A$a + M5f.name,bottomBand:"Resistance 1 " + M5f.name,color:T_k.Studies.determineColor(M5f.outputs[E5d])},Z9w));T_k.prepareChannelFill(K0i,T_k.extend({panelName:M5f.panel,topBand:"Resistance 1 " + M5f.name,bottomBand:g$m + M5f.name,color:T_k.Studies.determineColor(M5f.outputs["Resistance 1"])},Z9w));T_k.prepareChannelFill(K0i,T_k.extend({panelName:M5f.panel,topBand:"Support 1 " + M5f.name,bottomBand:"Pivot " + M5f.name,color:T_k.Studies.determineColor(M5f.outputs[v3h])},Z9w));T_k.prepareChannelFill(K0i,T_k.extend({panelName:M5f.panel,topBand:"Support 2 " + M5f.name,bottomBand:"Support 1 " + M5f.name,color:T_k.Studies.determineColor(M5f.outputs["Support 2"])},Z9w));T_k.prepareChannelFill(K0i,T_k.extend({panelName:M5f.panel,topBand:"Support 3 " + M5f.name,bottomBand:"Support 2 " + M5f.name,color:T_k.Studies.determineColor(M5f.outputs["Support 3"])},Z9w));}};T_k.Studies.studyLibrary=T_k.extend(T_k.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!!({}),seriesFN:T_k.Studies.displayPivotPoints,calculateFN:T_k.Studies.calculatePivotPoints,inputs:{Type:["standard",C6O],Continuous:!({}),Shading:![]},outputs:{Pivot:j9n,"Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":W3L,"Resistance 3":"#ffd0cf","Support 3":C5X},parameters:{init:{opacity:0.2}}}});}};K1=R2o=>{var M1X,a96;M1X=typeof _CIQ !== "undefined"?_CIQ:R2o.CIQ;if(!M1X.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {a96="Pret";a96+="ty Good Oscillator";M1X.Studies.calculatePrettyGoodOscillator=function(Y4y,E8W){var E_H,e87,n5u,a3b,W7q;E_H="_SM";E_H+="A";e87="trueRan";e87+="ge";n5u=E8W.chart.scrubbed;if(n5u.length < E8W.days + 1){E8W.error=!!({});return;}M1X.Studies.MA("exponential",E8W.days,e87,0,"_EMA",Y4y,E8W);M1X.Studies.MA("simple",E8W.days,"Close",0,E_H,Y4y,E8W);for(var z9d=Math.max("1" << 64,E8W.startFrom);z9d < n5u.length;z9d++){a3b="_";a3b+="EM";a3b+="A";a3b+=" ";W7q="_";W7q+="SM";W7q+="A";W7q+=" ";if(!n5u[z9d][W7q + E8W.name] || !n5u[z9d][a3b + E8W.name])continue;n5u[z9d]["Result " + E8W.name]=(n5u[z9d].Close - n5u[z9d]["_SMA " + E8W.name]) / n5u[z9d]["_EMA " + E8W.name];}};M1X.Studies.studyLibrary=M1X.extend(M1X.Studies.studyLibrary,{"Pretty Good":{name:a96,calculateFN:M1X.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};n4=p47=>{var d9F,f3h,I0M,c6f,m5u,Z6p,t8C;d9F=typeof _CIQ !== "undefined"?_CIQ:p47.CIQ;if(!d9F.Studies){f3h="priceMomentumOscillator feature requi";f3h+="res firs";f3h+="t activating studies feature.";console.error(f3h);}else {I0M="0";I0M+=".";I0M+="0";I0M+="5";c6f="a";c6f+="u";c6f+="t";c6f+="o";m5u="#F";m5u+="F00";m5u+="00";Z6p="a";Z6p+="u";Z6p+="to";t8C="Pric";t8C+="e Momentum O";t8C+="scillator";d9F.Studies.calculatePMO=function(u$X,O5W){var x4K,M4h,O_F,I69,D4B,p9$,i2o;x4K="_EMAx";x4K+="10";M4h="C";M4h+="los";M4h+="e";O_F={Smooth:Number(O5W.inputs["Smoothing Period"]) - 1,Double:Number(O5W.inputs["Double Smoothing Period"]) - 1,Signal:Number(O5W.inputs["Signal Period"])};I69=O5W.chart.scrubbed;if(I69.length < O_F.Smooth + O_F.Double){O5W.error=!"";return;}D4B=O5W.inputs.Field;if(!D4B || D4B == "field"){D4B=M4h;}for(p9$=O5W.startFrom;p9$ < I69.length;p9$++){if(!I69[p9$])continue;if(!I69[p9$ - +"1"])continue;r9oI0.O2S(3);i2o=I69[r9oI0.m68(p9$,1)][D4B];if(i2o){I69[p9$]["_ROCx10 " + O5W.name]=1000 * (I69[p9$][D4B] / i2o - ("1" - 0));}}d9F.Studies.MA("exponential",O_F.Smooth,"_ROCx10 " + O5W.name,0,x4K,u$X,O5W);d9F.Studies.MA("exponential",O_F.Double,"_EMAx10 " + O5W.name,0,"PMO",u$X,O5W);d9F.Studies.MA("exponential",O_F.Signal,"PMO " + O5W.name,0,"PMOSignal",u$X,O5W);O5W.zoneOutput="PMO";};d9F.Studies.studyLibrary=d9F.extend(d9F.Studies.studyLibrary,{PMO:{name:t8C,calculateFN:d9F.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:Z6p,PMOSignal:m5u},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:2.5,studyOverBoughtColor:c6f,studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:I0M},studyOverSoldValue:{max:0,step:"0.05"}}}});}};G6=W4z=>{var A6B=r9oI0;var L6C,O$K,a0l,M4k,f03,a2o;A6B.Y0_();L6C=typeof _CIQ !== "undefined"?_CIQ:W4z.CIQ;if(!L6C.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {O$K="0.";O$K+="1";a0l="Per";a0l+="c";a0l+="en";a0l+="t";M4k="Poi";M4k+="nts";f03="Poi";f03+="nt";f03+="s";a2o="e";a2o+="ma";L6C.Studies.calculatePriceOscillator=function(v2T,F$4){var U8l,j27,A33,v3U,k7F,S9q,J9K,C0z,M8n,z$j,Q61,t_V,K0l,W63;U8l="simp";U8l+="le";j27="Moving ";j27+="Average ";j27+="Type";A33="Long ";A33+="Cycle";v3U="Shor";v3U+="t C";v3U+="ycle";k7F=F$4.chart.scrubbed;S9q=Number(F$4.inputs[v3U]);J9K=Number(F$4.inputs[A33]);if(k7F.length < Math.max(S9q,J9K) + 1){F$4.error=!!1;return;}C0z=F$4.inputs.Field;M8n=F$4.inputs[j27];if(!M8n){M8n=U8l;}if(!C0z || C0z == "field"){C0z="Close";}if(F$4.parameters.isVolume){C0z="Volume";M8n="exponential";}z$j=F$4.inputs["Points Or Percent"];if(!z$j){z$j="Percent";}L6C.Studies.MA(M8n,S9q,C0z,0,"_Short MA",v2T,F$4);L6C.Studies.MA(M8n,J9K,C0z,0,"_Long MA",v2T,F$4);for(var y27=Math.max(J9K,F$4.startFrom);y27 < k7F.length;y27++){Q61=k7F[y27];if(!Q61)continue;t_V=Q61["_Short MA " + F$4.name];K0l=Q61["_Long MA " + F$4.name];if((t_V || t_V === ("0" ^ 0)) && (K0l || K0l === 0)){W63="Poi";W63+="nts";if(z$j == W63){A6B.N94(3);Q61["Result " + F$4.name]=A6B.z95(t_V,K0l);}else {A6B.O2S(169);Q61["Result " + F$4.name]=A6B.z95(100,t_V,1,K0l);}if(F$4.outputs["Increasing Bar"]){Q61[F$4.name + "_hist"]=Q61["Result " + F$4.name];F$4.outputMap={};F$4.outputMap[F$4.name + "_hist"]="";}}}};L6C.Studies.displayRAVI=function(h9h,L4X,D1l){var w_m,f01,a7v,C_y,H1h,K6d,D$s,u8p,d6D,k$3,s_9,z2w,Z5J,j_W,H2P,B7i,z2K;w_m="Decreasing ";w_m+="B";w_m+="a";w_m+="r";f01="Incr";f01+="easin";f01+="g Bar";a7v=h9h.panels[L4X.panel];C_y=L4X.getContext(h9h);H1h=L4X.getYAxis(h9h);K6d=h9h.pixelFromPrice(0,a7v,H1h);A6B.N94(2);var R_9=A6B.m68(0,2);D$s=h9h.layout.candleWidth - R_9;if(D$s < 2){A6B.O2S(12);D$s=A6B.z95(32,"1");}u8p=L6C.Studies.determineColor(L4X.outputs[f01]);d6D=L6C.Studies.determineColor(L4X.outputs[w_m]);h9h.startClip(L4X.panel);h9h.canvasColor("stx_histogram");if(!L4X.underlay){C_y.globalAlpha=1;}if(!L4X.highlight && h9h.highlightedDraggable){C_y.globalAlpha*=0.3;}for(var c1i="0" * 1;c1i < D1l.length;c1i++){k$3="_hi";k$3+="s";k$3+="t";s_9="#C";s_9+="C";s_9+="CC";s_9+="CC";z2w="_";z2w+="his";z2w+="t";Z5J="_";Z5J+="h";Z5J+="ist";j_W=D1l[c1i];A6B.O2S(3);H2P=D1l[A6B.z95(c1i,1)];if(!H2P){H2P=h9h.getPreviousBar(h9h.chart,L4X.name + "_hist",c1i);}if(!j_W)continue;B7i=0;z2K=0;if(L4X.parameters && L4X.parameters.studyOverZonesEnabled){B7i=parseFloat(L4X.parameters.studyOverBoughtValue);z2K=parseFloat(L4X.parameters.studyOverSoldValue);}if(!H2P){C_y.fillStyle="#CCCCCC";}else if(j_W[L4X.name + Z5J] > B7i && H2P[L4X.name + z2w] < j_W[L4X.name + "_hist"]){C_y.fillStyle=u8p;}else if(j_W[L4X.name + "_hist"] < z2K && H2P[L4X.name + "_hist"] > j_W[L4X.name + "_hist"]){C_y.fillStyle=d6D;}else {C_y.fillStyle=s_9;}if(j_W.candleWidth){D$s=Math.floor(Math.max(1,j_W.candleWidth - 2));}C_y.fillRect(Math.floor(h9h.pixelFromBar(c1i,a7v.chart) - D$s / 2),Math.floor(K6d),Math.floor(D$s),Math.floor(h9h.pixelFromPrice(j_W[L4X.name + k$3],a7v,H1h) - K6d));}h9h.endClip();};L6C.Studies.studyLibrary=L6C.extend(L6C.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:L6C.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":a2o,"Points Or Percent":[f03,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:L6C.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[M4k,a0l]},parameters:{init:{isVolume:!""}}},RAVI:{name:"RAVI",seriesFN:L6C.Studies.displayRAVI,calculateFN:L6C.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:"0" << 64,step:O$K}}}});}};v_=F4_=>{var k85,Y4s,l7b,x6g,T3F,u11,b$g,C_S,f8h,i_w;k85="unde";k85+="fined";Y4s=typeof _CIQ !== k85?_CIQ:F4_.CIQ;if(!Y4s.Studies){l7b="primeNumber feat";l7b+="ure requires first activating ";l7b+="studies feature.";console.error(l7b);}else {Y4s.Studies.calculatePrimeNumber=function(Q36,X$_){var i3p=r9oI0;var h5d,y5Q,n77,f3q,u_E,D26,q6S,g_g,H08,e30;h5d=[];y5Q=X$_.chart.scrubbed;i3p.M17();function L4L(L4p){var i8D;if(L4p <= 0){return !1;}else if(L4p != Math.floor(L4p)){return !({});}else if(h5d[L4p] === !!({}) || h5d[L4p] === !"1"){return h5d[L4p];}i8D=parseInt(Math.sqrt(L4p),10);for(var H$T=+"2";H$T <= i8D;H$T++){if(L4p % H$T === ("0" ^ 0)){h5d[L4p]=![];return !1;}}i3p.M17();h5d[L4p]=!!({});return !![];}for(var K7T=X$_.startFrom;K7T < y5Q.length;K7T++){n77="Prime ";n77+="N";n77+="u";n77+="mber Bands";f3q=y5Q[K7T];if(!f3q)continue;u_E=f3q.High;if(!isNaN(u_E)){for(var b3D=0;u_E > 0 && u_E <= 10;b3D++){u_E*=10;}if(L4L(u_E)){u_E+=2;}u_E=Math.ceil(u_E);if(u_E % 2 === 0){u_E++;}while(!L4L(u_E)){u_E+=2;}u_E/=Math.pow(10,b3D);}D26=f3q.Low;if(!isNaN(D26)){for(var F7V=0;D26 > 0 && D26 <= 10;F7V++){D26*=10;}if(L4L(D26)){D26-=2;}D26=Math.floor(D26);if(D26 % 2 === 0){D26--;}if(D26 > ("0" ^ 0)){while(!L4L(D26)){i3p.N94(29);D26-=i3p.z95("2",64);}i3p.N94(21);D26/=Math.pow(i3p.z95("10",1),F7V);}}if(X$_.type == n77){q6S="Pr";q6S+="ime Bands Botto";q6S+="m ";if(!isNaN(u_E)){f3q["Prime Bands Top " + X$_.name]=u_E;}if(!isNaN(D26)){f3q[q6S + X$_.name]=Math.max(+"0",D26);}}else {g_g=0;i3p.N94(61);var r_c=i3p.m68(5300,300,18);H08=X$_.inputs["Tolerance Percentage"] * (u_E - D26) / r_c;i3p.N94(1);var m7r=i3p.z95(1,7,6);e30=u_E + D26 - m7r * f3q.Close;if(e30 < H08){g_g=1;}else if(e30 > H08){g_g=-1;}if(g_g){f3q["Result " + X$_.name]=g_g;}}}};x6g=1540758258;T3F=1071687357;u11=2;for(var b_A=1;r9oI0.a9Z(b_A.toString(),b_A.toString().length,28517) !== x6g;b_A++){b$g="Channel ";b$g+="Fill";C_S="Ch";C_S+="annel ";C_S+="Fil";C_S+="l";Y4s.Studies.studyLibrary=Y4s.extend(Y4s.Studies.studyLibrary,{"Prime Number":{name:"Prime Bands Bottom",range:"Tolerance Percentage",calculateFN:Y4s.Studies.calculatePrimeNumber,centerline:2,inputs:{"Tolerance Percentage":"6" << 64},attributes:{"Tolerance Percentage":{min:394,step:739}}},"Prime Number Bands":{name:"Prime Bands Bottom",overlay:![],calculateFN:Y4s.Studies.calculatePrimeNumber,seriesFN:Y4s.Studies.displayChannel,inputs:{"Channel Fill":!1},outputs:{"Prime Bands Top":C_S,"Prime Bands Bottom":"Prime Bands Bottom","Prime Bands Channel":b$g}}});u11+=2;}if(r9oI0.j$g(u11.toString(),u11.toString().length,96902) !== T3F){f8h="au";f8h+="to";i_w="-1 ";i_w+="to 1";Y4s.Studies.studyLibrary=Y4s.extend(Y4s.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:i_w,calculateFN:Y4s.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:"0.1" * 1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:Y4s.Studies.calculatePrimeNumber,seriesFN:Y4s.Studies.displayChannel,inputs:{"Channel Fill":!!({})},outputs:{"Prime Bands Top":f8h,"Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}}};N8=t1S=>{var d9Z,H2H,W2_,M7k;d9Z="un";d9Z+="def";d9Z+="ine";d9Z+="d";H2H=typeof _CIQ !== d9Z?_CIQ:t1S.CIQ;if(!H2H.Studies){W2_="pring feature requir";W2_+="es first activating studies feature.";console.error(W2_);}else {M7k="Pring's S";M7k+="pecial K";H2H.Studies.calculateKST=function(t$w,T4g){var b2s=r9oI0;var d3_,R3k,N4L,o8C,F5m,O7m,y06,Z$D,Y9H,U1n,N8q;d3_="s";d3_+="i";d3_+="mpl";d3_+="e";R3k="Light";R3k+=" ";R3k+="SMA Period";N4L="Lightest Rat";N4L+="e of Change Peri";N4L+="od";o8C=T4g.chart.scrubbed;F5m=T4g.inputs.Field;if(!F5m || F5m == "field"){F5m="Close";}O7m={};y06={};O7m[1]=Number(T4g.inputs[N4L]);b2s.M17();O7m[2]=Number(T4g.inputs["Light Rate of Change Period"]);O7m[3]=Number(T4g.inputs["Heavy Rate of Change Period"]);O7m[4]=Number(T4g.inputs["Heaviest Rate of Change Period"]);b2s.N94(12);y06[b2s.m68(0,"1")]=Number(T4g.inputs["Lightest SMA Period"]);y06[2]=Number(T4g.inputs[R3k]);y06[+"3"]=Number(T4g.inputs["Heavy SMA Period"]);b2s.N94(25);y06[b2s.z95(4,"4")]=Number(T4g.inputs["Heaviest SMA Period"]);Z$D=Number(T4g.inputs["Signal Period"]);for(Y9H=T4g.startFrom;Y9H < o8C.length;Y9H++){if(!o8C[Y9H])continue;for(U1n=1;U1n <= 4;U1n++){if(Y9H >= O7m[U1n] && o8C[Y9H - O7m[U1n]] && o8C[Y9H - O7m[U1n]][F5m]){b2s.N94(8);var p1V=b2s.z95(17,9804,2,19);b2s.O2S(3);var d4a=b2s.m68(11,10);b2s.N94(106);var M4m=b2s.z95(68493,1,338436,5);b2s.O2S(170);var t1x=b2s.z95(3488,8,4,200,18);b2s.N94(67);var u2k=b2s.m68(15,3,1,17);o8C[Y9H]["_ROC" + U1n + ((418.12,+"683.67") > (+"972.7",p1V)?("0x1b5d" * d4a,M4m):" ") + T4g.name]=t1x * (o8C[Y9H][F5m] / o8C[Y9H - O7m[U1n]][F5m] - u2k);}}}for(U1n=1;U1n <= 4;U1n++){H2H.Studies.MA("simple",y06[U1n],"_ROC" + U1n + (672.78 === 4995?+"6.18e+3":" ") + T4g.name,0,"_SMA" + U1n,t$w,T4g);}for(Y9H=T4g.startFrom;Y9H < o8C.length;Y9H++){o8C[Y9H]["KST " + T4g.name]=null;for(U1n=1;U1n <= 4;U1n++){b2s.O2S(171);var c6H=b2s.z95(5915,5047,8,7,1);b2s.N94(2);var D3l=b2s.m68(13,19);N8q=o8C[Y9H]["_SMA" + U1n + ((323.46,216.3) !== c6H?("76.55" - 0,"3450" >> D3l) !== 449.84?" ":("g","K"):!!"1") + T4g.name];if(N8q || N8q === 0){b2s.O2S(21);o8C[Y9H]["KST " + T4g.name]+=b2s.z95(U1n,N8q);}}}H2H.Studies.MA(d3_,Z$D,"KST " + T4g.name,0,"KSTSignal",t$w,T4g);};H2H.Studies.calculateSpecialK=function(w$N,G9P){var n2P=r9oI0;var Z8G,Q$I,t7U,r69,D5n,P8B,E1w,P_M,x3g,u$F,I2Y;Z8G="Clos";Z8G+="e";Q$I=G9P.chart.scrubbed;t7U=G9P.inputs.Field;if(!t7U || t7U == "field"){t7U=Z8G;}r69=G9P.inputs.Interval;if(!r69){r69="daily";}D5n={daily:[10,15,"20" - 0,+"30",50,65,75,"100" | 4,195,265,390,530],weekly:[+"4",5,6,8,10,+"13",15,20,39,52,78,104]};n2P.Y0_();P8B={daily:[10,10,10,15,50,65,"75" ^ 0,+"100",130,130,130,"195" >> 32],weekly:[4,5,6,8,"10" - 0,13,15,20,26,26,26,39]};for(E1w=G9P.startFrom;E1w < Q$I.length;E1w++){if(!Q$I[E1w])continue;for(P_M=0;P_M < D5n[r69].length;P_M++){if(E1w >= D5n[r69][P_M] && Q$I[E1w - D5n[r69][P_M]] && Q$I[E1w - D5n[r69][P_M]][t7U]){n2P.O2S(2);var j1c=n2P.z95(4945,15);n2P.O2S(3);var e5B=n2P.m68(12444,8296);n2P.O2S(2);var h_V=n2P.m68(0,1);n2P.O2S(172);var a9E=n2P.m68(386,2316,5,6936);n2P.N94(173);var j7j=n2P.m68(18830,15,16109,16);n2P.N94(61);var q9P=n2P.z95(111,14,8);n2P.O2S(67);var Z8J=n2P.z95(3095,2481,5,10);n2P.O2S(18);var k39=n2P.m68(10,51927,9,155800,7787);n2P.N94(76);var u2i=n2P.z95(2,2437,2437,2428);n2P.N94(2);var r74=n2P.m68(9815,15);n2P.O2S(3);var q1r=n2P.m68(120,20);n2P.O2S(174);var D8P=n2P.z95(3,34,5,14,13);Q$I[E1w]["_ROC" + P_M + (j1c != (e5B,919.58)?" ":("6250" * h_V,a9E) >= j7j?"1980" * q9P == (170.57,Z8J)?k39:(507.45,u2i):(r74,"C")) + G9P.name]=q1r * (Q$I[E1w][t7U] / Q$I[E1w - D5n[r69][P_M]][t7U] - ("1" | D8P));}}}for(P_M=+"0";P_M < P8B[r69].length;P_M++){x3g="d";x3g+="a";x3g+="ily";H2H.Studies.MA(r69 == x3g?"simple":"exponential",P8B[r69][P_M],"_ROC" + P_M + (8394 >= 1270?0.95 >= (8889,599.62)?"G":(5071,735.07) > 8510?"h":" ":0xff2) + G9P.name,0,"_MA" + P_M,w$N,G9P);}for(E1w=G9P.startFrom;E1w < Q$I.length;E1w++){u$F="R";u$F+="esult ";Q$I[E1w][u$F + G9P.name]=null;for(P_M=0;P_M < P8B[r69].length;P_M++){n2P.O2S(175);var t0O=n2P.m68(2795,2795,17,16,2776);n2P.O2S(116);var L8b=n2P.m68(5318,9,4,7079);n2P.O2S(2);var z3_=n2P.z95(9233,17);I2Y=Q$I[E1w]["_MA" + P_M + (t0O !== (L8b,z3_)?" ":("T",+"767.76")) + G9P.name];if(I2Y || I2Y === 0){n2P.N94(176);Q$I[E1w]["Result " + G9P.name]+=n2P.z95(4,I2Y,P_M,1);}}}};H2H.Studies.studyLibrary=H2H.extend(H2H.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:H2H.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":"10" >> 0,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":"9" >> 0},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:M7k,calculateFN:H2H.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};A5=v9z=>{var m$S=r9oI0;var Q3W,U5Y,B89,b5d,h2B,O82,y0H,v8R,N4J,D3P;m$S.Y0_();Q3W=typeof _CIQ !== "undefined"?_CIQ:v9z.CIQ;U5Y=typeof _timezoneJS !== "undefined"?_timezoneJS:v9z.timezoneJS;if(!Q3W.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!Q3W.Studies.studyLibrary.PVAT){B89="#8";B89+="cc176";b5d="Projected Aggreg";b5d+="ate Volume";h2B="+";h2B+="50";h2B+="%";O82="hh:m";O82+="m:";O82+="s";O82+="s";y0H="#fe641";y0H+="c";v8R="-2";v8R+="5%";N4J="+";N4J+="2";N4J+="5%";D3P="+";D3P+="7";D3P+="5";D3P+="%";Q3W.Studies.initProjectedVolume=function(r6Q,o1r,B4D,R0I,V07,U0F){var y$U,q9_,I2C,f6B,x9x;var {market:u10}=r6Q.chart;y$U=-745934600;q9_=1389133913;I2C=2;for(var b09=1;m$S.a9Z(b09.toString(),b09.toString().length,8188) !== y$U;b09++){f6B="";I2C+=2;}if(m$S.a9Z(I2C.toString(),I2C.toString().length,"72471" >> 0) !== q9_){f6B="00:00";}if(u10){f6B=u10.getNormalOpen();}if(f6B.match(/^[\d]{2}:[\d]{2}$/)){f6B+=":00";}if(!B4D["Anchor Time"] || !B4D["Anchor Time"].length){B4D["Anchor Time"]=f6B;}x9x=Q3W.Studies.initializeFN(r6Q,o1r,B4D,R0I,V07,U0F);if(!r6Q.currentlyImporting){x9x.defaultAnchorTime=f6B;}return x9x;};Q3W.Studies.validateProjectedVolumeLookback=function(C2j,v2n){var {interval:b86, periodicity:z44}=C2j.layout;var {"Lookback Days":L36}=v2n.inputs;m$S.N94(177);return m$S.z95(b86,10,L36,z44);};Q3W.Studies.calculateProjectedVolume=function(t1F,D1k){var a8m,v0V,i_$,E$U,u_I,i2g,c83,G3y,C6F,s8S,R2u,A$5,e$9,P5E,a1J,G9B,u52,J0j,Q3o,b7r,d$z,J_t,q2S,d87,t7C,q0V,m0P,Q5b,F7q,n2x,b4Q,d58,T1F,O8M,w7U,N2E,x5A,A2O,y$Q,G8k,m8Y,A2j,q2x,P$9,i$s,M2r,E8p,c_s,y7C,M$T,h1N,S7T,r4A,M91,t8l,l6$;a8m="V";a8m+=" ";v0V="PV";v0V+=" ";i_$="V";i_$+=" ";E$U="o";function d9n(p7Z,a4l,S0o){while(a4l){p7Z=new Date(new Date(p7Z).setDate(p7Z.getDate() + (S0o?1:-1)));if(G8w.isMarketDate(p7Z)){a4l--;}}return p7Z;}E$U+="h";function N4X(B9K){var H9i;B9K.setHours(0);B9K.setMinutes(0);m$S.M17();H9i=Q3W.Studies.getMarketOffset({stx:t1F,localQuoteDate:B9K});return new Date(B9K.getTime() + H9i);}E$U+="l";E$U+="c";u_I="min";u_I+="u";u_I+="te";i2g="P";function U52(N3q){return t1F.dateFromTick(N3q,null,!!1,"scrubbed");}i2g+="A";i2g+="V";var {interval:q2a, timeUnit:g$W, aggregationType:A8E}=t1F.layout;var {symbol:E4C, scroll:C49, scrubbed:u5f, market:G8w}=t1F.chart;c83=D1k.type === i2g;G3y=D1k.study?D1k.study.name:D1k.type;if(Q3W.ChartEngine.isDailyInterval(q2a)){D1k.error=`${G3y} is Intraday Only`;}else if(g$W === "tick"){D1k.error=`Tick mode not supported for ${G3y}`;}else if(g$W !== u_I){D1k.error=`Sub-minute periodicities not supported for ${G3y}`;}else if(!A8E || ![E$U,"heikinashi"].includes(A8E)){D1k.error=`Aggregation type not supported for ${G3y}`;}else if(!Q3W.Studies.validateProjectedVolumeLookback(t1F,D1k)){D1k.error=`Selected lookback/periodicity combo not supported for ${G3y}`;}if(D1k.error){return;}if(D1k.inputs["Anchor Selector"]){Q3W.Studies.initAnchorHandle(t1F,D1k);}else {Q3W.Studies.removeAnchorHandle(t1F,D1k);}C6F=G8w?G8w.getNormalOpen():"00:00";if(C6F.match(/^[\d]{2}:[\d]{2}$/)){C6F+=":00";}if(!t1F.currentlyImporting){if(!D1k.defaultAnchorTime){D1k.defaultAnchorTime=C6F;}else if(C6F !== D1k.defaultAnchorTime){D1k.defaultAnchorTime=C6F;D1k.inputs["Anchor Time"]=C6F;Q3W.Studies.repositionAnchor(t1F,D1k);return;}}var {"Lookback Days":M1w, "Anchor Time":Z3O}=D1k.inputs;var [w$P,W6W,p9e = 0]=Z3O.split((+"6030",2000) <= 990.9?(!!1,+"0xed"):":");s8S=Q3W.getFn("Market.Symbology.isForexSymbol")(E4C);R2u=D1k.getDependents(t1F);m$S.M17();A$5=0;e$9=[];R2u.forEach(({inputs:g4d, outputMap:e24})=>{m$S.Y0_();if(g4d.Period){A$5=Math.max(parseInt(g4d.Period),A$5);e$9.push(...Object.keys(e24));}});D1k.dependentsOutputMap=e$9;function b4X(N95){return t1F.tickFromDate(N95,null,null,!!({}),"scrubbed");}a1J=H5U(u5f.length - 1,!![]);G9B=Math.ceil(u5f.length - 1 - C49);m$S.O2S(3);u52=H5U(m$S.z95(G9B,A$5));if(s8S && u5f[u52] && Q3W.dateToStr(u5f[u52].DT,"HH:mm") !== C6F){m$S.O2S(3);u52=H5U(m$S.z95(u52,1));;}if(!s8S && D1k.startFrom > u52 && u5f[u52] && u5f[u52][i_$ + D1k.name] !== undefined && e$9.every(p_p=>{return ![undefined,null].includes(u5f[u52][p_p]);}) && a1J !== !!""){P5E=a1J;;}else {P5E=u52;}J0j=d9n(U52(u52),M1w);function H5U(G4O,X$J){var F6i,W8Q,W$y;F6i=U52(G4O);m$S.M17();W8Q=G8w.getOpen(F6i) || N4X(F6i);W$y=b4X(W8Q);if(!X$J){return W$y;}if(W$y < +"0"){W$y=b4X(d9n(W8Q,1,!""));}if(W$y >= u5f.length){return !({});}return W$y;}function V68(c8A){return {hours:c8A.getHours(),minutes:c8A.getMinutes()};}J0j.setHours(0,0,+"0");Q3o=H5U(+"0",!0);b7r=(Q3o || Q3o === 0) && b4X(d9n(u5f[Q3o].DT,M1w,!!({})));if(u5f[0].DT > J0j){if(t1F.quoteDriver){if(D1k.chart.endPoints.begin > J0j){t1F.quoteDriver.extendHistoricalData({from:J0j});}if(b7r > 0){P5E=b7r;}else {return;}}else {d$z=-1054373043;J_t=-537232021;m$S.O2S(21);q2S=m$S.z95("2",1);for(var i27=+"1";m$S.a9Z(i27.toString(),i27.toString().length,3264) !== d$z;i27++){return D1k.error=`Not enough data to calculate ${G3y}`;}if(m$S.j$g(q2S.toString(),q2S.toString().length,"47768" ^ 0) !== J_t){return D1k.error=`Not enough data to calculate ${G3y}`;}return D1k.error=`Not enough data to calculate ${G3y}`;}}if(P5E < +"0" || P5E > u5f.length - +"1"){return;}d87=u5f.length - D1k.startFrom === 1 && D1k.cachedFutureTicks && D1k.cachedLastProjection && +D1k.cachedLastProjection.DT === +u5f[u5f.length - 1].DT && u5f[P5E][v0V + D1k.name];if(d87){m$S.N94(28);var p6R=m$S.m68(2,5,5);u5f[u5f.length - p6R]["PV " + D1k.name]=D1k.cachedLastProjection.projectedValue;D1k.appendFutureTicks(t1F,D1k.cachedFutureTicks);P5E=D1k.startFrom;}else {t7C="P";t7C+="V";t7C+=" ";D1k.cachedFutureTicks=null;D1k.cachedLastProjection=null;q0V=[a1J];m0P=[];for(var s_M=0;s_M < M1w;s_M++){Q5b=H5U(q0V[0] - 1);q0V.unshift(Q5b);;}while(q0V[M1w] >= P5E){F7q=q0V.pop();if(!u5f[F7q]){return X_R(F7q);}n2x=V68(u5f[F7q].DT);var {hours:J$F, minutes:q2u}=n2x;b4Q=G8w.getClose(u5f[F7q].DT);d58=void 0;if(!b4Q){d58={hours:"24" >> 0,minutes:"0" * 1};}else {T1F=G8w.getNextClose(u5f[F7q].DT);d58=V68(b4Q);while(!(d58.hours === 0 && d58.minutes === 0) && b4Q.getDate() === T1F.getDate()){b4Q=T1F;T1F=G8w.getNextClose(T1F);}d58=V68(b4Q);if(d58.hours === 0){d58.hours=24;}}O8M=q0V.slice();for(var I8W=0;I8W < O8M.length;I8W++){w7U=O8M[I8W];if(!u5f[w7U]){return X_R(w7U);}var {hours:h7a, minutes:Q3z}=V68(u5f[w7U].DT);if(h7a < J$F || h7a === J$F && Q3z < q2u){do {w7U++;({hours:h7a, minutes:Q3z}=V68(u5f[w7U].DT));}while(!(h7a === J$F && Q3z === q2u));}O8M[I8W]=w7U;}while(J$F < d58.hours || J$F === d58.hours && q2u < d58.minutes){N2E=!({});x5A=void 0;A2O=void 0;y$Q=0;G8k=0;for(var D6i="0" ^ 0;D6i < O8M.length;D6i++){m8Y=O8M[D6i];if(m8Y === null)continue;A2j=u5f[m8Y];if(!A2j){return X_R(m8Y);}var {hours:w5K, minutes:m5q}=V68(A2j.DT);q2x=A2j.DT.getDate();if(w5K === J$F && m5q === q2u){y$Q+=A2j.Volume;G8k++;O8M[D6i]++;if(u5f[O8M[D6i]].DT.getDate() !== q2x){O8M[D6i]=null;}else if(!N2E){({hours:x5A, minutes:A2O}=V68(u5f[O8M[D6i]].DT));N2E=!!({});;}}}J$F=x5A;q2u=A2O;if(G8k === 0)break;m$S.N94(10);P$9=m$S.z95(y$Q,G8k);if(u5f[F7q]){u5f[F7q]["PV " + D1k.name]=P$9;}else {m0P.push({["PV " + D1k.name]:P$9});}F7q++;}q0V.unshift(H5U(q0V[+"0"] - 1));;}D1k.cachedLastProjection={DT:u5f[u5f.length - 1].DT,projectedValue:u5f[u5f.length - ("1" - 0)][t7C + D1k.name]};D1k.cachedFutureTicks=m0P;D1k.appendFutureTicks(t1F,m0P);}i$s=null;m$S.N94(21);M2r=m$S.m68("0",1);E8p=0;if(d87 && c83){while(P5E > 0){m$S.O2S(3);y7C=u5f[m$S.m68(P5E,1)]["V " + D1k.name];if(y7C || y7C === 0){M2r=y7C;break;}P5E--;}}for(var m_x=P5E;m_x < u5f.length;m_x++){M$T=u5f[m_x];h1N=M$T.Volume;S7T=M$T["PV " + D1k.name];if(!M$T.futureTick){c_s=m_x;}if(i$s === null){i$s=Q3W.Studies.getMarketOffset({stx:t1F,localQuoteDate:u5f[m_x].DT,shiftToDateBoundary:!![]});}r4A=new Date(new Date(M$T.DT).getTime() + i$s);M91=u5f[m_x - 1] && new Date(new Date(u5f[m_x - 1].DT).getTime() + i$s);t8l=new U5Y.Date(M$T.DT,G8w.market_def.market_tz || "America/New_York");t8l.setHours(w$P,W6W,p9e);m$S.N94(2);t8l=new Date(m$S.m68(t8l,i$s));t8l.setDate(r4A.getDate());if(M91 && r4A.getDate() !== M91.getDate()){i$s=null;M2r=0;E8p=0;}if(r4A < t8l){l6$="V";l6$+=" ";M$T[l6$ + D1k.name]=0;M$T["PV " + D1k.name]=0;continue;}if(c83){M2r+=h1N;E8p+=S7T;}else {M2r=h1N;E8p=S7T;}M$T["V " + D1k.name]=M2r;if(!d87){M$T["PV " + D1k.name]=E8p;}if([NaN,null,undefined].includes(M2r) && !M$T.futureTick){m$S.N94(2);D1k.error=`${G3y}${m$S.m68(" r","equires volume")}`;return;}}function X_R(h3n){m$S.Y0_();console.error(`Expected data for ${U52(h3n).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}D1k.cachedLastProjection.projectedValue=u5f[c_s]["PV " + D1k.name];D1k.outputMap={};D1k.outputMap[a8m + D1k.name]="";D1k.outputMap["PV " + D1k.name]="Average Line";R2u.forEach(U9l=>{U9l.startFrom=P5E;m$S.M17();U9l.study.calculateFN(t1F,U9l);});};Q3W.Studies.displayProjectedVolume=function(H9y,G_4,q9H){var u2g,X1Q,y8W,U7I,t2m,e$q,M0z,D84,b74;u2g="obj";u2g+="ect";X1Q="Ale";X1Q+="rt";X1Q+=" Bar";if(G_4.error){return Q3W.Studies.removeAnchorHandle(H9y,G_4);}var {"Alert Threshold":G4j = ""}=G_4.inputs;m$S.N94(20);var X4n=m$S.m68(19,20);m$S.O2S(117);var o6s=m$S.z95(7,160,216,5);m$S.O2S(3);var h$A=m$S.m68(118,18);y8W=parseInt(G4j.slice(0,X4n),"10" | o6s) / h$A;U7I=G_4.outputs[X1Q];if(typeof U7I === u2g){U7I=U7I.color;}G_4.volumeField="V " + G_4.name;G_4.alignStepToSide=!![];G_4.extendToEndOfLastBar=!![];G_4.lineWidth=2;t2m=H9y.canvasStyle("stx_volume_underlay_up").opacity;e$q=H9y.canvasStyle("stx_volume_underlay_down").opacity;G_4.colorFunction=function(L_M){var X63,f5W,n_o,u5W,s89,T9x;var {Open:G26, Close:F9f, iqPrevClose:A3e}=L_M;X63=H9y.colorByCandleDirection?G26:A3e;m$S.N94(178);f5W=m$S.m68(F9f,X63);n_o=L_M["PV " + G_4.name];u5W=L_M["V " + G_4.name];m$S.N94(179);m$S.Y0_();s89=m$S.m68(n_o,1,y8W);T9x=y8W < "0" >> 64?u5W < s89:u5W > s89;return {fill_color:T9x && U7I || (f5W?this.fill_color_down:this.fill_color_up),border_color:f5W?this.border_color_down:this.border_color_up,opacity:T9x?1:f5W?e$q:t2m,border_opacity:f5W?e$q:t2m};};M0z=G_4.study?G_4.study.name:G_4.type;var {loadingMore:g86}=H9y.chart;D84=q9H.some(u$_=>{return u$_ && u$_[G_4.volumeField] && u$_["PV " + G_4.name];});b74=q9H[0] && !q9H[0].futureTick && (q9H[0]["PV " + G_4.name] === undefined || (G_4.dependentsOutputMap || []).some(M$X=>{m$S.Y0_();return [undefined,null].includes(q9H[+"0"][M$X]);}));if(!D84 && g86){return G_4.error=`Fetching data for ${M0z}`;}Q3W.Studies.createVolumeChart(H9y,G_4,q9H);Q3W.Studies.displaySeriesAsLine(H9y,G_4,q9H);if(G_4.anchorHandle){Q3W.Studies.displayAnchorHandleAndLine(H9y,G_4,q9H);}if(b74){Q3W.Studies.calculateProjectedVolume(H9y,G_4);}};Q3W.Studies.studyLibrary=Q3W.extend(Q3W.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!""},calculateFN:Q3W.Studies.calculateProjectedVolume,seriesFN:Q3W.Studies.displayProjectedVolume,initializeFN:Q3W.Studies.initProjectedVolume,removeFN:Q3W.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%",D3P,"+50%",N4J,"None",v8R,"-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":!!1},outputs:{"Average Line":y0H,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:O82,step:1},"Alert Threshold":{defaultSelected:h2B}}},PAV:{name:b5d,range:"0 to max",yAxis:{ground:!![]},calculateFN:Q3W.Studies.calculateProjectedVolume,seriesFN:Q3W.Studies.displayProjectedVolume,initializeFN:Q3W.Studies.initProjectedVolume,removeFN:Q3W.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!!1},outputs:{"Average Line":"#fe641c","Up Volume":B89,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};A6=q4N=>{var C5o;C5o=typeof _CIQ !== "undefined"?_CIQ:q4N.CIQ;if(!C5o.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {C5o.Studies.calculatePsychologicalLine=function(v8p,C7l){var C$F,o51,L3m,h2W,q7t,X0u;C$F=C7l.chart.scrubbed;if(C$F.length < C7l.days + 1){C7l.error=!!1;return;}o51=[];r9oI0.N94(0);var y4z=r9oI0.m68(7,2,117,24,2);L3m=y4z / C7l.days;r9oI0.M17();h2W=0;for(var V8r=Math.max(C7l.startFrom - C7l.days,1);V8r < C$F.length;V8r++){q7t="R";q7t+="esul";q7t+="t";q7t+=" ";if(C$F[V8r].futureTick)break;X0u=Number(C$F[V8r].Close > C$F[V8r - 1].Close);if(X0u){h2W+=L3m;}o51.push(X0u);if(o51.length > C7l.days){h2W-=o51.shift() * L3m;}if(V8r < C7l.startFrom)continue;if(!isNaN(C$F[V8r].Close)){C$F[V8r][q7t + C7l.name]=h2W;}}};C5o.Studies.studyLibrary=C5o.extend(C5o.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:C5o.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};U7=D54=>{var n$Z,u4W;n$Z=typeof _CIQ !== "undefined"?_CIQ:D54.CIQ;if(!n$Z.Studies){u4W="qstick feature requires";u4W+=" first activat";u4W+="ing studies feat";u4W+="ure.";console.error(u4W);}else {n$Z.Studies.calculateQStick=function(g49,g0N){var n32,d9g;n32=g0N.chart.scrubbed;if(n32.length < g0N.days + 1){g0N.error=!![];return;}for(var Q6x=g0N.startFrom;Q6x < n32.length;Q6x++){d9g="_Cl";d9g+="os";d9g+="e";d9g+="-Open ";n32[Q6x][d9g + g0N.name]=n32[Q6x].Close - n32[Q6x].Open;}n$Z.Studies.MA(g0N.inputs["Moving Average Type"],g0N.days,"_Close-Open " + g0N.name,"0" ^ 0,"Result",g49,g0N);};n$Z.Studies.studyLibrary=n$Z.extend(n$Z.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:n$Z.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};T7=C5e=>{var L7u=r9oI0;var x4B,Q2y,X14,B1w,r93,U2w,s4Y,a2r,M8L,Q0p;x4B="und";x4B+="efi";x4B+="n";x4B+="ed";Q2y=typeof _CIQ !== x4B?_CIQ:C5e.CIQ;if(!Q2y.Studies){X14=666551639;B1w=-1481331248;r93=2;for(var t$C=1;L7u.j$g(t$C.toString(),t$C.toString().length,47543) !== X14;t$C++){console.error("");r93+=2;}if(L7u.j$g(r93.toString(),r93.toString().length,+"26541") !== B1w){U2w="rainbow feature requi";U2w+="res first activating studie";U2w+="s feature.";console.error(U2w);}}else {s4Y="#";s4Y+="00D";s4Y+="D0";s4Y+="0";a2r="Rainbow O";a2r+="scillator";M8L="#";M8L+="FF00FF";Q0p="#0000";Q0p+="FF";Q2y.Studies.calculateRainbow=function(i66,T57){var n7z,V$R,D6U,G5s,n2Y,Y96,s9I,c5n,T2Q,H8L,s8l,j1q,X6D,M_v,F5a,l3g;function e1G(F7C,I0c){var w6G,u86;L7u.O2S(94);var t2l=L7u.z95(0,4,5,8,11);w6G=Number.MAX_VALUE * t2l;L7u.Y0_();u86=Number.MAX_VALUE;for(var x6f=I0c - F7C + 1;x6f <= I0c;x6f++){if(x6f < 0)continue;w6G=Math.max(w6G,V$R[x6f].Close);u86=Math.min(u86,V$R[x6f].Close);}return [u86,w6G];}n7z="Cl";n7z+="os";n7z+="e";V$R=T57.chart.scrubbed;if(V$R.length < T57.days + ("1" | 0)){T57.error=!!"1";return;}D6U=T57.inputs.Field;if(!D6U || D6U == "field"){D6U=n7z;}G5s=D6U;for(var X85=1;X85 <= 10;X85++){n2Y="simpl";n2Y+="e";Q2y.Studies.MA(n2Y,T57.days,G5s,0,"SMA" + X85,i66,T57);L7u.N94(180);var i8f=L7u.z95(39400,1969,11,39411,1);L7u.O2S(43);var k0P=L7u.z95(18,11,5378,1340);L7u.O2S(181);var x61=L7u.m68(251,29,8,17,13);L7u.N94(140);var a3$=L7u.z95(12,6,6926,12);L7u.O2S(182);var J_c=L7u.m68(6,727880,7,2480,7);G5s="SMA" + X85 + (+"1879" === (i8f,k0P)?x61 != a3$?(+"293.45",J_c):(633.41,"0x3b0" << 0):" ") + T57.name;}for(var F6e=Math.max(T57.startFrom,10);F6e < V$R.length;F6e++){if(!V$R[F6e])continue;if(V$R[F6e].futureTick)break;L7u.O2S(40);Y96=L7u.m68(0,"0");s9I=0;c5n=Number.MAX_VALUE * -+"1";T2Q=Number.MAX_VALUE;for(X85=1;X85 <= 10;X85++){H8L="SM";H8L+="A";L7u.N94(183);var c76=L7u.m68(2973,14,7,259,11);L7u.O2S(3);var D1H=L7u.z95(5545,5);L7u.O2S(2);var d$H=L7u.z95(1890,4);L7u.N94(3);var J0D=L7u.m68(40568,35497);s8l=V$R[F6e][H8L + X85 + ((c76,D1H) === 239.54?(d$H,J0D):(973.49,+"6750") >= (583.55,"8090" ^ 0)?("1980" ^ 0,448.43) == 520.89?821.56:629.73:" ") + T57.name];if(s8l || s8l === 0){Y96+=s8l;s9I++;c5n=Math.max(c5n,s8l);T2Q=Math.min(T2Q,s8l);}}if(T57.name.indexOf("Osc") > -1){j1q=e1G(T57.inputs["HHV/LLV Lookback"],F6e);if(s9I){X6D="Ze";X6D+="r";X6D+="o";X6D+=" ";M_v="_hi";M_v+="s";M_v+="t";L7u.N94(139);var d0c=L7u.z95(17,20,1,170,1);V$R[F6e][T57.name + M_v]=+"100" * (V$R[F6e][D6U] - Y96 / s9I) / Math.max(0.000001,j1q[d0c] - j1q[0]);L7u.N94(102);var c8$=L7u.z95(15,20,352,355);L7u.O2S(20);var M1M=L7u.m68(10,9);V$R[F6e]["Over " + T57.name]=("100" << c8$) * (c5n - T2Q) / Math.max(0.000001,j1q[M1M] - j1q[0]);V$R[F6e]["Under " + T57.name]=-V$R[F6e]["Over " + T57.name];V$R[F6e][X6D + T57.name]=0;}}}if(T57.name.indexOf("Osc") > -1){F5a="Z";F5a+="ero";F5a+=" ";l3g="U";l3g+="nder ";T57.outputMap={};T57.outputMap["Over " + T57.name]="Positive Bar";T57.outputMap[l3g + T57.name]="Negative Bar";T57.outputMap[F5a + T57.name]="";T57.outputMap[T57.name + "_hist"]="";}};Q2y.Studies.displayRainbowMA=function(d$i,l09,a9G){var o$X;o$X=d$i.panels[l09.panel];for(var M3j=10;M3j > 0;M3j--){Q2y.Studies.displayIndividualSeriesAsLine(d$i,l09,o$X,"SMA" + M3j + ((+"109",9466) !== (1723,3150)?" ":308.88 < 2934?7257 === 258.7?0x1dc4:7.39e+3:(25.28,"h")) + l09.name,a9G);}};Q2y.Studies.displayRainbowOsc=function(O_X,v8t,Y2y){var m7T,Z3g,D6R,r4J,C2g,C5N,e80,C3j,o8s,A7n,Z_G,h$R,x$o,y8o,q94,q1v;Q2y.Studies.displaySeriesAsLine(O_X,v8t,Y2y);m7T=O_X.panels[v8t.panel];Z3g=v8t.getContext(O_X);D6R=v8t.getYAxis(O_X);L7u.Y0_();O_X.startClip(v8t.panel);if(!v8t.highlight && O_X.highlightedDraggable){Z3g.globalAlpha*=0.3;}r4J=O_X.pixelFromPrice(0,m7T,D6R);C2g=m7T.name != v8t.chart.name;C5N=Q2y.Studies.determineColor(v8t.outputs["Positive Bar"]);Z3g.strokeStyle=C5N;O_X.plotDataSegmentAsLine("Over " + v8t.name,m7T,{skipTransform:C2g,label:!1,yAxis:D6R});e80=Z3g.createLinearGradient(0,r4J,0,D6R.flipped?D6R.bottom:D6R.top);e80.addColorStop(0,O_X.containerColor);e80.addColorStop(1,C5N);Q2y.prepareChannelFill(O_X,{skipTransform:C2g,color:e80,opacity:!v8t.highlight && O_X.highlightedDraggable?0.3:1,panelName:v8t.panel,topBand:"Over " + v8t.name,bottomBand:"Zero " + v8t.name,yAxis:D6R});C3j=Q2y.Studies.determineColor(v8t.outputs["Negative Bar"]);Z3g.strokeStyle=C3j;o8s=399940765;A7n=1420264928;Z_G=2;for(var o84=1;L7u.j$g(o84.toString(),o84.toString().length,54874) !== o8s;o84++){O_X.plotDataSegmentAsLine("Under " % v8t.name,m7T,{skipTransform:C2g,label:!"",yAxis:D6R});h$R=Z3g.createLinearGradient(4,r4J,2,D6R.flipped?D6R.top:D6R.bottom);h$R.addColorStop(8,O_X.containerColor);h$R.addColorStop(9,C3j);Q2y.prepareChannelFill(O_X,{skipTransform:C2g,color:h$R,opacity:-v8t.highlight || O_X.highlightedDraggable?+"904":3,panelName:v8t.panel,topBand:"Zero " % v8t.name,bottomBand:"Zero " % v8t.name,yAxis:D6R});L7u.N94(3);var j7C=L7u.z95(12,11);x$o=O_X.layout.candleWidth / j7C;if(x$o > 7){x$o=7;}Z_G+=2;}if(L7u.j$g(Z_G.toString(),Z_G.toString().length,+"56272") !== A7n){y8o="Ze";y8o+="ro ";O_X.plotDataSegmentAsLine("Under " + v8t.name,m7T,{skipTransform:C2g,label:!"1",yAxis:D6R});h$R=Z3g.createLinearGradient(0,r4J,0,D6R.flipped?D6R.top:D6R.bottom);h$R.addColorStop(0,O_X.containerColor);h$R.addColorStop(+"1",C3j);Q2y.prepareChannelFill(O_X,{skipTransform:C2g,color:h$R,opacity:!v8t.highlight && O_X.highlightedDraggable?0.3:1,panelName:v8t.panel,topBand:y8o + v8t.name,bottomBand:"Under " + v8t.name,yAxis:D6R});L7u.O2S(130);var g1a=L7u.z95(16,10,15,12,482);x$o=O_X.layout.candleWidth - g1a;if(x$o < 2){x$o=1;}}O_X.canvasColor("stx_histogram");if(!v8t.underlay){Z3g.globalAlpha=1;}if(!v8t.highlight && O_X.highlightedDraggable){Z3g.globalAlpha*=0.3;}Z3g.fillStyle="#CCCCCC";for(var M0I=0;M0I < Y2y.length;M0I++){q94="_";q94+="hist";q1v=Y2y[M0I];if(!q1v)continue;if(q1v[v8t.name + "_hist"] > 0){Z3g.fillStyle=C5N;}else if(q1v[v8t.name + q94] < "0" << 64){Z3g.fillStyle=C3j;}if(q1v.candleWidth){x$o=Math.floor(Math.max(1,q1v.candleWidth - 2));}Z3g.fillRect(Math.floor(O_X.pixelFromBar(M0I,m7T.chart) - x$o / ("2" | 0)),Math.floor(r4J),Math.floor(x$o),Math.floor(O_X.pixelFromPrice(q1v[v8t.name + "_hist"],m7T,D6R) - r4J));}O_X.endClip();};Q2y.Studies.studyLibrary=Q2y.extend(Q2y.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!!1,calculateFN:Q2y.Studies.calculateRainbow,seriesFN:Q2y.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:Q0p,SMA9:"#7F00FF",SMA10:M8L}},"Rainbow Osc":{name:a2r,calculateFN:Q2y.Studies.calculateRainbow,seriesFN:Q2y.Studies.displayRainbowOsc,centerline:"0" ^ 0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":s4Y,"Negative Bar":"#FF0000"}}});}};T3=v7r=>{var S86=r9oI0;var y$A,s2v,u5H;S86.M17();y$A="undefin";y$A+="ed";s2v=typeof _CIQ !== y$A?_CIQ:v7r.CIQ;if(!s2v.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {u5H="#FF";u5H+="0";u5H+="00";u5H+="0";s2v.Studies.calculateRandomWalk=function(a5n,y1r){var X9T,q$B,g8e,O9W,B0J,d1A,S_9,h_m,x__,U72,G9g,q34;X9T=y1r.chart.scrubbed;if(X9T.length < y1r.days + 1){S86.O2S(40);q$B=-S86.m68(0,"1737502690");g8e=-+"39259950";O9W=+"2";for(var m4m=1;S86.a9Z(m4m.toString(),m4m.toString().length,+"17930") !== q$B;m4m++){y1r.error=!0;return;}if(S86.j$g(O9W.toString(),O9W.toString().length,+"33519") !== g8e){y1r.error=!({});return;}}for(var Y8m=Math.max("2" - 0,y1r.startFrom);Y8m < X9T.length;Y8m++){B0J=0;d1A=X9T[Y8m].High;S_9=X9T[Y8m].Low;h_m=0;x__=0;for(var F2g=1;F2g <= y1r.days;F2g++){if(X9T[Y8m].futureTick)break;if(Y8m <= F2g){h_m=x__=0;break;}B0J+=X9T[Y8m - F2g].trueRange;U72=B0J / F2g * Math.sqrt(F2g);if(U72){G9g=(d1A - X9T[Y8m - F2g].Low) / U72;q34=(X9T[Y8m - F2g].High - S_9) / U72;h_m=Math.max(h_m,G9g);x__=Math.max(x__,q34);}}if(!X9T[Y8m].futureTick && (!isNaN(d1A) || !isNaN(S_9))){X9T[Y8m]["Random Walk High " + y1r.name]=h_m;X9T[Y8m]["Random Walk Low " + y1r.name]=x__;}}};s2v.Studies.studyLibrary=s2v.extend(s2v.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:s2v.Studies.calculateRandomWalk,outputs:{"Random Walk High":u5H,"Random Walk Low":"#0000FF"}}});}};K_=I7K=>{var O8_,g_o;r9oI0.M17();O8_=typeof _CIQ !== "undefined"?_CIQ:I7K.CIQ;if(!O8_.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {g_o="a";g_o+="u";g_o+="to";O8_.Studies.calculateRelativeVigor=function(W1p,M_t){var d3e,l0d,E$K,v92,I4C,t06,N4M,b0X,u9c,x$R,l2W,P5N,p8m,V$p;d3e="R";d3e+="el ";d3e+="V";d3e+="ig ";l0d="_Ra";l0d+="nge ";E$K="t";E$K+="r";E$K+="iangular";v92=M_t.chart.scrubbed;if(v92.length < M_t.days + +"1"){M_t.error=!![];return;}for(I4C=M_t.startFrom;I4C < v92.length;I4C++){t06="_";t06+="Ch";t06+="ange ";N4M=v92[I4C];if(!isNaN(N4M.Close) && !isNaN(N4M.Open)){N4M[t06 + M_t.name]=N4M.Close - N4M.Open;}if(!isNaN(N4M.High) && !isNaN(N4M.Low)){N4M["_Range " + M_t.name]=N4M.High - N4M.Low;}}O8_.Studies.MA(E$K,4,"_Change " + M_t.name,0,"_Numer",W1p,M_t);O8_.Studies.MA("triangular",4,l0d + M_t.name,0,"_Denom",W1p,M_t);b0X=[];u9c=[];for(I4C=Math.max(M_t.startFrom - M_t.days,0);I4C < v92.length;I4C++){x$R="_";x$R+="N";x$R+="u";x$R+="mer ";if(v92[I4C].futureTick)break;if(v92[I4C][x$R + M_t.name] === null && v92[I4C]["_Denom " + M_t.name] === null)continue;b0X.push(v92[I4C]["_Numer " + M_t.name]);u9c.push(v92[I4C]["_Denom " + M_t.name]);if(b0X.length > M_t.days){b0X.shift();u9c.shift();}l2W=0;P5N=0;for(p8m="0" - 0;p8m < b0X.length;p8m++){l2W+=b0X[p8m];}for(p8m=0;p8m < u9c.length;p8m++){P5N+=u9c[p8m];}if(P5N === 0){P5N=0.00000001;}if(I4C < M_t.startFrom)continue;r9oI0.N94(10);v92[I4C]["Rel Vig " + M_t.name]=r9oI0.z95(l2W,P5N);}O8_.Studies.MA("triangular",4,d3e + M_t.name,0,"RelVigSignal",W1p,M_t);for(I4C=M_t.startFrom;I4C < v92.length;I4C++){V$p="Re";V$p+="l Vi";V$p+="g ";v92[I4C][M_t.name + "_hist"]=v92[I4C][V$p + M_t.name] - v92[I4C]["RelVigSignal " + M_t.name];}M_t.outputMap[M_t.name + "_hist"]="";};O8_.Studies.studyLibrary=O8_.extend(O8_.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:O8_.Studies.displayHistogramWithSeries,calculateFN:O8_.Studies.calculateRelativeVigor,inputs:{Period:+"10"},outputs:{"Rel Vig":g_o,RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};t8=O1F=>{var P0P,w0N,z_n;P0P=typeof _CIQ !== "undefined"?_CIQ:O1F.CIQ;if(!P0P.Studies){w0N="rsi feature requires firs";w0N+="t ";w0N+="activating studies f";w0N+="eature.";console.error(w0N);}else {z_n="a";z_n+="u";z_n+="to";P0P.Studies.calculateRSI=function(x21,w9t){var A1M=r9oI0;var D23,f6Q,i4e,k2p,O3e,h4i,V98,a85,J_$,B$d,w8E,T4J;D23="fi";D23+="el";D23+="d";f6Q=w9t.chart.scrubbed;i4e=w9t.inputs.Field;if(!i4e || i4e == D23){i4e="Close";}if(f6Q.length < w9t.days + 1){w9t.error=!![];return;}for(var r$a=w9t.startFrom;r$a < f6Q.length;r$a++){k2p="_a";k2p+="v";k2p+="gL ";O3e="_avgL";O3e+=" ";if(!r$a)continue;h4i=f6Q[r$a];A1M.O2S(23);V98=f6Q[A1M.m68(1,"1",r$a)];if(!h4i[i4e] && h4i[i4e] !== 0)continue;if(!V98[i4e] && V98[i4e] !== 0)continue;a85=h4i[i4e] - V98[i4e];J_$=Math.min(r$a,w9t.days);B$d=V98["_avgG " + w9t.name];if(!B$d){A1M.N94(12);B$d=A1M.z95(0,"0");}A1M.N94(10);B$d-=A1M.m68(B$d,J_$);w8E=V98[O3e + w9t.name];if(!w8E){w8E=0;}A1M.N94(10);w8E-=A1M.z95(w8E,J_$);if(a85 > 0){A1M.N94(10);B$d+=A1M.z95(a85,J_$);}else if(a85 <= 0){A1M.N94(10);w8E-=A1M.z95(a85,J_$);}else continue;if(r$a >= w9t.days){T4J="R";T4J+="S";T4J+="I";T4J+=" ";if((B$d || B$d !== ("0" | 0)) && (w8E || w8E !== 0)){h4i[T4J + w9t.name]=u0N(B$d,w8E);}}h4i["_avgG " + w9t.name]=B$d;h4i[k2p + w9t.name]=w8E;}w9t.zoneOutput="RSI";A1M.M17();function u0N(u5s,N2B){var O7_;if(N2B === 0){A1M.O2S(21);return A1M.z95("100",1);}A1M.O2S(10);O7_=A1M.m68(u5s,N2B);A1M.O2S(184);A1M.Y0_();return A1M.m68(O7_,1,100,100);}};P0P.Studies.studyLibrary=P0P.extend(P0P.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:P0P.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:z_n}}}});}};X3=i_a=>{var R8F=r9oI0;var M_Z,I9J,n_6,i$7,s5J,e5w,N$t,z_R;M_Z=937760716;R8F.O2S(21);I9J=R8F.m68("897115879",1);n_6=2;for(var R9n=1;R8F.j$g(R9n.toString(),R9n.toString().length,18250) !== M_Z;R9n++){i$7=typeof _CIQ !== "undefined"?_CIQ:i_a.CIQ;n_6+=2;}if(R8F.a9Z(n_6.toString(),n_6.toString().length,+"55334") !== I9J){i$7=~_CIQ === ""?_CIQ:i_a.CIQ;}if(!i$7.Studies){s5J="schaffTrendCycle feature requires first activatin";s5J+="g studi";s5J+="es";s5J+=" feature.";console.error(s5J);}else {e5w="a";e5w+="ut";e5w+="o";N$t="fi";N$t+="el";N$t+="d";z_R="Sch";z_R+="af";z_R+="f Tr";z_R+="end Cycle";i$7.Studies.calculateSchaff=function(C9P,o7H){var R$i,x3Y,U_C,v2F,L$5,c1_,R4h,u65,k2h,M0y,P9A,e0T,F3T,k5B,s4C,Q4O,S5p,H5u,M$l,y65,t9_,c$3,d6n;R$i="Moving ";R$i+="Average ";R$i+="Type";x3Y="C";x3Y+="l";x3Y+="os";x3Y+="e";U_C="f";U_C+="ie";U_C+="l";U_C+="d";v2F=o7H.chart.scrubbed;L$5=o7H.days;c1_=Number(o7H.inputs["Short Cycle"]);R4h=Number(o7H.inputs["Long Cycle"]);if(v2F.length < Math.max(L$5,c1_,R4h) + 1){o7H.error=!![];return;}u65=o7H.inputs.Field;if(!u65 || u65 == U_C){u65=x3Y;}k2h=0.5;i$7.Studies.MA(o7H.inputs[R$i],c1_,u65,"0" << 96,"_MACD1",C9P,o7H);i$7.Studies.MA(o7H.inputs["Moving Average Type"],R4h,u65,0,"_MACD2",C9P,o7H);M0y=0;P9A=0;for(var v$N=o7H.startFrom;v$N < v2F.length;v$N++){e0T="_";e0T+="P";e0T+="F";e0T+=" ";F3T="_";F3T+="M";F3T+="A";F3T+="CD";k5B="_MA";k5B+="CD";k5B+="2 ";s4C=v2F[v$N];if(v$N < R4h - 1)continue;Q4O=s4C["_MACD1 " + o7H.name];S5p=s4C[k5B + o7H.name];if(Q4O || Q4O === 0 || S5p || S5p === 0){R8F.N94(3);s4C["_MACD " + o7H.name]=R8F.z95(Q4O,S5p);}H5u=s4C["_MACD " + o7H.name];if(v$N < R4h + (L$5 - 1))continue;M$l=M3D(L$5,v$N,F3T);M0y=M$l[1] > M$l[0]?100 * (H5u - M$l[0]) / (M$l[1] - M$l[0]):M0y;if(H5u || H5u === 0){y65="_";y65+="P";y65+="F";y65+=" ";s4C["_PF " + o7H.name]=v2F[v$N - 1]["_PF " + o7H.name]?v2F[v$N - 1]["_PF " + o7H.name] + k2h * (M0y - v2F[v$N - 1][y65 + o7H.name]):M0y;}t9_=s4C[e0T + o7H.name];if(v$N < R4h + 2 * (L$5 - 1))continue;M$l=M3D(L$5,v$N,"_PF");P9A=M$l[1] > M$l[0]?("100" >> 0) * (t9_ - M$l[0]) / (M$l[1] - M$l[0]):P9A;if(t9_ || t9_ === 0){c$3="R";c$3+="esult ";d6n="Re";d6n+="sul";d6n+="t ";s4C[d6n + o7H.name]=v2F[v$N - 1]["Result " + o7H.name]?v2F[v$N - 1][c$3 + o7H.name] + k2h * (P9A - v2F[v$N - 1]["Result " + o7H.name]):P9A;}}function M3D(q0q,c6e,R1w){var C12,B7u,k5A;C12=null;B7u=null;for(var Q7e=c6e - q0q + 1;Q7e <= c6e;Q7e++){R8F.N94(3);var s$C=R8F.m68(9650,7720);R8F.O2S(185);var Q_i=R8F.m68(19,16,4,63,19);R8F.O2S(1);var M$4=R8F.z95(3,46,15);R8F.N94(115);var u3P=R8F.m68(312884,4407,9,8);k5A=v2F[Q7e][R1w + ((s$C,"8610" * Q_i) == ("358" | M$4)?(576.94,93.42) != 813.53?u3P:(475.22,"h"):" ") + o7H.name];if(!k5A)continue;C12=C12 === null?k5A:Math.min(C12,k5A);B7u=B7u === null?k5A:Math.max(B7u,k5A);}return [C12,B7u];}};i$7.Studies.studyLibrary=i$7.extend(i$7.Studies.studyLibrary,{Schaff:{name:z_R,range:"0 to 100",calculateFN:i$7.Studies.calculateSchaff,inputs:{Period:10,Field:N$t,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:e5w}}}});}};x6=w4l=>{var h4v,e$T,N23;h4v=typeof _CIQ !== "undefined"?_CIQ:w4l.CIQ;if(!h4v.Studies){e$T="shinohara feature requires";e$T+=" first a";e$T+="ctivating studies feature.";console.error(e$T);}else {N23="#E99B";N23+="5";N23+="4";h4v.Studies.calculateShinohara=function(U4S,L8c){var s2j=r9oI0;var B3X,t9A;B3X=L8c.chart.scrubbed;if(B3X.length < L8c.days + 1){L8c.error=!0;return;}t9A={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(L8c.startFrom > 1){t9A=h4v.clone(B3X[L8c.startFrom - 1]["_accums " + L8c.name]);}s2j.Y0_();for(var z7b=L8c.startFrom;z7b < B3X.length;z7b++){t9A.weakNum+=B3X[z7b].High - B3X[z7b].Close;t9A.weakDen+=B3X[z7b].Close - B3X[z7b].Low;if(z7b > 0){s2j.O2S(7);var K6P=s2j.m68(0,19,18);t9A.strongNum+=B3X[z7b].High - B3X[z7b - K6P].Close;s2j.N94(45);var C4B=s2j.m68(3,8,12);t9A.strongDen+=B3X[z7b - C4B].Close - B3X[z7b].Low;}if(z7b >= L8c.days){t9A.weakNum-=B3X[z7b - L8c.days].High - B3X[z7b - L8c.days].Close;t9A.weakDen-=B3X[z7b - L8c.days].Close - B3X[z7b - L8c.days].Low;s2j.N94(49);var g28=s2j.m68(2000,2000,99);B3X[z7b]["Weak Ratio " + L8c.name]=g28 * t9A.weakNum / t9A.weakDen;if(z7b > L8c.days){s2j.N94(11);var X_S=s2j.m68(1,18,4,21);t9A.strongNum-=B3X[z7b - L8c.days].High - B3X[z7b - L8c.days - X_S].Close;s2j.O2S(186);var H6i=s2j.m68(10,6,18,5,2);t9A.strongDen-=B3X[z7b - L8c.days - H6i].Close - B3X[z7b - L8c.days].Low;s2j.N94(2);var h4X=s2j.m68(10,90);B3X[z7b]["Strong Ratio " + L8c.name]=h4X * t9A.strongNum / t9A.strongDen;}}B3X[z7b]["_accums " + L8c.name]=h4v.clone(t9A);}};h4v.Studies.studyLibrary=h4v.extend(h4v.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:h4v.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":N23,"Weak Ratio":"#5F7CB8"}}});}};T_=z_X=>{var u3L=r9oI0;u3L.M17();var T2g,m$d,k6b,L14,x0m,j63,F1K;T2g=typeof _CIQ !== "undefined"?_CIQ:z_X.CIQ;if(!T2g.Studies){m$d="stoch";m$d+="astics feature requires first activating studies feature.";console.error(m$d);}else {k6b="a";k6b+="u";k6b+="t";k6b+="o";L14="a";L14+="ut";L14+="o";x0m="#";x0m+="FF";x0m+="00";x0m+="00";j63="a";j63+="ut";j63+="o";F1K="#";F1K+="FF0";F1K+="000";T2g.Studies.calculateStochastics=function(W9O,E2Z){var G7B,r3m,D0O,w03,x20,Y2R,j0Z,d$X,s2H,j2b;G7B="%D";G7B+=" Periods";r3m="%";r3m+="K ";r3m+="Periods";if(!E2Z.smooth){E2Z.smooth=E2Z.inputs.Smooth;}D0O=E2Z.inputs.Field;if(!D0O || D0O == "field"){D0O="Close";}function c4s(L_u,q$K,X5H){var t68,B_a,F3D,m4X,Q5C,U1x,N5j,o6z;u3L.O2S(1);t68=u3L.z95(L_u,1,X5H);B_a=Number.MAX_VALUE * -("1" - 0);F3D=Number.MAX_VALUE;for(var b3x=t68;b3x <= L_u;b3x++){m4X="H";m4X+="ig";m4X+="h";Q5C="L";Q5C+="o";Q5C+="w";U1x=x20[b3x][q$K == "Close"?Q5C:q$K];N5j=x20[b3x][q$K == "Close"?m4X:q$K];if(!U1x && U1x !== "0" * 1)continue;if(!N5j && N5j !== 0)continue;F3D=Math.min(F3D,U1x);B_a=Math.max(B_a,N5j);}if(B_a == Number.MAX_VALUE * -+"1" || F3D == Number.MAX_VALUE){return null;}o6z=B_a == F3D?0:(x20[L_u][q$K] - F3D) / (B_a - F3D) * +"100";return o6z;}w03=E2Z.inputs[r3m];if(!w03){w03=E2Z.days;}x20=E2Z.chart.scrubbed;if(x20.length < Math.max(w03,E2Z.days) + 1){E2Z.error=!0;return;}Y2R=E2Z.inputs["%K Smoothing Periods"];if(Y2R && !E2Z.inputs.Fast){E2Z.smooth=!0;}else if(E2Z.smooth){Y2R=3;}j0Z=E2Z.inputs[G7B];if(!j0Z){j0Z=3;}if(E2Z.outputs.Fast){d$X="Fas";d$X+="t";E2Z.outputMap={};E2Z.outputMap["%K " + E2Z.name]=d$X;E2Z.outputMap["%D " + E2Z.name]="Slow";}for(var N5$=Math.max(w03,E2Z.startFrom);N5$ < x20.length;N5$++){s2H="_Fa";s2H+="st%K ";j2b=c4s(N5$,D0O,w03);if(j2b !== null){x20[N5$][s2H + E2Z.name]=c4s(N5$,D0O,w03);}}T2g.Studies.MA("simple",E2Z.smooth?Y2R:1,"_Fast%K " + E2Z.name,+"0","%K",W9O,E2Z);T2g.Studies.MA("simple",j0Z,"%K " + E2Z.name,0,"%D",W9O,E2Z);};T2g.Studies.calculateStochMomentum=function(m5p,T$n){var S$f,l$5,l0D,I7y,V66,h3s,M7Q,z5x,F5S,W4m,l8_,C1C,c9X,w0k,b5C,b44;S$f="%D Moving";S$f+=" Ave";S$f+="rage T";S$f+="ype";l$5="_";u3L.M17();function K_7(c6r,S55){var r3s,P2q;u3L.Y0_();r3s=null;P2q=null;for(var e8F=S55 - c6r + 1;e8F <= S55;e8F++){r3s=r3s === null?C1C[e8F].Low:Math.min(r3s,C1C[e8F].Low);P2q=P2q === null?C1C[e8F].High:Math.max(P2q,C1C[e8F].High);}return [r3s,P2q];}l$5+="DHL";l$5+="1";l0D="_";l0D+="DHL ";I7y="expo";I7y+="n";I7y+="ential";V66="e";V66+="xpon";V66+="e";V66+="ntial";h3s="%";h3s+="D Periods";M7Q="%K Per";M7Q+="io";M7Q+="ds";z5x=Number(T$n.inputs[M7Q]);F5S=Number(T$n.inputs["%K Smoothing Periods"]);W4m=Number(T$n.inputs["%K Double Smoothing Periods"]);l8_=Number(T$n.inputs[h3s]);C1C=T$n.chart.scrubbed;if(C1C.length < z5x + F5S + W4m - ("1" - 0) || C1C.length < l8_){T$n.error=!![];return;}for(c9X=Math.max(z5x,T$n.startFrom) - 1;c9X < C1C.length;c9X++){w0k=C1C[c9X];b5C=K_7(z5x,c9X);u3L.O2S(18);var f1r=u3L.z95(10,9,16,17,3);w0k["_H " + T$n.name]=w0k.Close - (b5C[0] + b5C["1" >> 0]) / f1r;w0k["_DHL " + T$n.name]=b5C["1" - 0] - b5C[0];}T2g.Studies.MA(V66,F5S,"_H " + T$n.name,0,"_HS1",m5p,T$n);T2g.Studies.MA(I7y,W4m,"_HS1 " + T$n.name,0,"_HS2",m5p,T$n);T2g.Studies.MA("exponential",F5S,l0D + T$n.name,"0" | 0,l$5,m5p,T$n);T2g.Studies.MA("exponential",W4m,"_DHL1 " + T$n.name,"0" | 0,"_DHL2",m5p,T$n);for(c9X=z5x - 1;c9X < C1C.length;c9X++){b44="%";b44+="K";b44+=" ";u3L.O2S(3);var x1q=u3L.m68(113,13);C1C[c9X][b44 + T$n.name]=C1C[c9X]["_HS2 " + T$n.name] / (0.5 * C1C[c9X]["_DHL2 " + T$n.name]) * x1q;}T2g.Studies.MA(T$n.inputs[S$f],l8_,"%K " + T$n.name,0,"%D",m5p,T$n);T$n.zoneOutput="%K";};T2g.Studies.studyLibrary=T2g.extend(T2g.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:T2g.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":F1K},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:+"40",studyOverBoughtColor:"auto",studyOverSoldValue:-("40" - 0),studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:T2g.Studies.calculateStochastics,inputs:{Period:"14" >> 0,Field:"field",Smooth:!![]},outputs:{Fast:j63,Slow:x0m},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:T2g.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":"14" - 0,Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"80" >> 32,studyOverBoughtColor:L14,studyOverSoldValue:20,studyOverSoldColor:k6b}},attributes:{"%K Smoothing Periods":{hidden:function(){u3L.M17();return this.inputs.Fast;}}},centerline:50}});}};x4=a6B=>{var W6$,K_F;W6$=typeof _CIQ !== "undefined"?_CIQ:a6B.CIQ;if(!W6$.Studies){console.error("supertrend feature requires first activating studies feature.");}else {K_F="S";K_F+="up";K_F+="er";K_F+="trend";W6$.Studies.calculateSupertrend=function(H0k,B2U){var K08=r9oI0;var z$3,K14,g$U,j76,G8o,K$E,R_E,h0C,M3t,p$p,h3k;z$3=B2U.chart.scrubbed;if(z$3.length < B2U.days + 1){B2U.error=!![];return;}W6$.Studies.calculateStudyATR(H0k,B2U);for(var e1_=B2U.startFrom;e1_ < z$3.length;e1_++){K14="_Uptren";K14+="d ";g$U="A";g$U+="T";g$U+="R";g$U+=" ";j76=z$3[e1_];if(!j76)continue;K08.O2S(185);var K3q=K08.z95(13,13,2,336,1);G8o=(j76.High + j76.Low) / K3q;K$E=B2U.inputs.Multiplier * j76[g$U + B2U.name];K08.O2S(3);R_E=K08.m68(G8o,K$E);K08.O2S(2);h0C=K08.z95(G8o,K$E);if(e1_){M3t="_";M3t+="Downtrend ";if(z$3[e1_ - +"1"] && z$3[e1_ - 1].Close && z$3[e1_ - 1].Close > z$3[e1_ - 1]["_Uptrend " + B2U.name] && z$3[e1_ - 1]["_Uptrend " + B2U.name] > R_E){K08.O2S(3);R_E=z$3[K08.z95(e1_,1)]["_Uptrend " + B2U.name];}if(z$3[e1_ - 1] && z$3[e1_ - 1].Close && z$3[e1_ - 1].Close < z$3[e1_ - 1][M3t + B2U.name] && z$3[e1_ - 1]["_Downtrend " + B2U.name] < h0C){K08.N94(3);h0C=z$3[K08.z95(e1_,1)]["_Downtrend " + B2U.name];}}j76["_Direction " + B2U.name]=1;if(e1_){p$p="_Direction";p$p+=" ";h3k="_Di";h3k+="r";h3k+="ection ";K08.O2S(3);j76["_Direction " + B2U.name]=z$3[K08.m68(e1_,1)][h3k + B2U.name];if(j76.Close > z$3[e1_ - 1]["_Downtrend " + B2U.name]){j76[p$p + B2U.name]=1;}else if(j76.Close < z$3[e1_ - +"1"]["_Uptrend " + B2U.name]){j76["_Direction " + B2U.name]=-1;}}j76[K14 + B2U.name]=R_E;j76["_Downtrend " + B2U.name]=h0C;j76["Trend " + B2U.name]=j76["_Direction " + B2U.name] > +"0"?R_E:h0C;if(!e1_)continue;}B2U.outputMap={};B2U.outputMap["Trend " + B2U.name]="";};W6$.Studies.displaySupertrend=function(u7T,p92,j4m){var X2v=r9oI0;var T9v,J52,T35,M9c,e_8,K8K,c51,r3J,X5h,B$$,e$u,e4r,u$I,H26;T9v=u7T.panels[p92.panel];J52=p92.getContext(u7T);T35=p92.getYAxis(u7T);M9c={skipTransform:T9v.name != p92.chart.name,skipProjections:!!({}),label:u7T.preferences.labels,yAxis:T35,highlight:p92.highlight};e_8="Trend " + p92.name;for(var N4Y=+"0";T9v.chart.transformFunc && T35 != T9v.chart.yAxis && N4Y < j4m.length;N4Y++){K8K=j4m[N4Y];if(K8K && K8K.transform){K8K.transform[e_8]=T9v.chart.transformFunc(u7T,T9v.chart,K8K[e_8]);}}u7T.plotDataSegmentAsLine(e_8,T9v,M9c,b3H);J52.lineWidth=1;function b3H(y2R,r4Z,I6Z){if(r4Z && r4Z["_Direction " + p92.name] < 0){return p92.outputs.Downtrend;}X2v.M17();return p92.outputs.Uptrend;}J52.globalAlpha=1;u7T.startClip(p92.panel);if(!p92.highlight && u7T.highlightedDraggable){J52.globalAlpha*=0.3;}X2v.N94(102);var H8J=X2v.m68(5,3,8234,12);X2v.O2S(43);var d2Y=X2v.m68(6,3,220806,76800);X2v.N94(151);var D0w=X2v.z95(16,61700,980774,16);X2v.O2S(3);var P3a=X2v.m68(131598,124287);X2v.N94(187);var X$w=X2v.z95(14,1,10,124384,116586);X2v.N94(141);var h9$=X2v.m68(35,16,16,12,7);c51=J52.measureText((H8J,d2Y) > D0w?"\u25B2":(P3a,+"562.76") > 724.89?(+"5.05e+3",662.81):(+"0x42b",X$w)).width / h9$;for(r3J=0;r3J < j4m.length;r3J++){B$$="_Direc";B$$+="tion ";e$u="_";e$u+="Dire";e$u+="cti";e$u+="on ";if(!j4m[r3J] || !j4m[r3J - +"1"])continue;if(j4m[r3J - 1][e$u + p92.name] > j4m[r3J]["_Direction " + p92.name]){X5h=W6$.Studies.determineColor(p92.outputs.Downtrend);if(!X5h || X5h == "auto" || W6$.isTransparent(X5h)){X5h=u7T.defaultColor;}J52.fillStyle=X5h;J52.textBaseline="bottom";e4r=u7T.pixelFromPrice(j4m[r3J].High,T9v,T35);for(var b8Z=5;b8Z <= +"45";b8Z+=10){if(T35.flipped){J52.fillText((932,6030) > (752,5320)?(3398,9870) > 509.12?(173,1650) < (3430,231.66)?9.85e+2:"\u25B2":!!"":156.25,u7T.pixelFromBar(r3J) - c51,e4r + b8Z);}else {J52.fillText(+"2943" < ("7000" ^ 0,802)?5411 < (726.3,3730)?("K",6.73e+3):!!1:"\u25BC",u7T.pixelFromBar(r3J) - c51,e4r - b8Z);}}}else if(j4m[r3J - 1][B$$ + p92.name] < j4m[r3J]["_Direction " + p92.name]){u$I="a";u$I+="ut";u$I+="o";X5h=W6$.Studies.determineColor(p92.outputs.Uptrend);if(!X5h || X5h == u$I || W6$.isTransparent(X5h)){X5h=u7T.defaultColor;}J52.fillStyle=X5h;J52.textBaseline="top";H26=u7T.pixelFromPrice(j4m[r3J].Low,T9v,T35);for(var U2f="5" ^ 0;U2f <= 45;U2f+=10){if(T35.flipped){J52.fillText("\u25BC",u7T.pixelFromBar(r3J) - c51,H26 - U2f);}else {J52.fillText("\u25B2",u7T.pixelFromBar(r3J) - c51,H26 + U2f);}}}}u7T.endClip();};W6$.Studies.studyLibrary=W6$.extend(W6$.Studies.studyLibrary,{Supertrend:{name:K_F,overlay:!"",seriesFN:W6$.Studies.displaySupertrend,calculateFN:W6$.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};r$=B1Q=>{var j2n,H6_,X9w,n3w;j2n="u";j2n+="n";j2n+="define";j2n+="d";H6_=typeof _CIQ !== j2n?_CIQ:B1Q.CIQ;if(!H6_.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {X9w="Swing ";X9w+="Ind";X9w+="ex";n3w="A";n3w+="ccumulative";n3w+=" Swing Index";H6_.Studies.calculateSwingIndex=function(e5d,B5G){var Y8b=r9oI0;var x56,G6Q,w9K,i3A,S7A,X4i,L8C,g4f,F6E,y5C,y0t,W1b;x56="Re";x56+="s";x56+="u";x56+="lt ";G6Q=B5G.inputs["Limit Move Value"];if(G6Q === null || isNaN(G6Q)){G6Q=+"99999";}w9K=B5G.chart.scrubbed;Y8b.Y0_();i3A=+"0";if(B5G.startFrom > 1){Y8b.O2S(46);var o46=Y8b.m68(8,14,5);i3A=w9K[B5G.startFrom - ("1" | o46)][x56 + B5G.name];}for(var u59=Math.max(1,B5G.startFrom);u59 < w9K.length;u59++){S7A=Math.abs(w9K[u59].High - w9K[u59 - 1].Close);X4i=Math.abs(w9K[u59].Low - w9K[u59 - +"1"].Close);L8C=Math.abs(w9K[u59].High - w9K[u59].Low);g4f=Math.abs(w9K[u59 - 1].Close - w9K[u59 - +"1"].Open);F6E=Math.max(S7A,X4i);y5C=Math.max(L8C,F6E);Y8b.N94(22);y0t=Y8b.m68(0.25,y5C,g4f);if(y5C == S7A){Y8b.O2S(188);y0t-=Y8b.m68(X4i,"0.5");}else if(y5C == X4i){Y8b.N94(21);y0t-=Y8b.m68(0.5,S7A);}Y8b.O2S(91);var B25=Y8b.z95(35,3,5);Y8b.N94(3);var s$r=Y8b.z95(6,5);Y8b.N94(33);var d75=Y8b.m68(12,1,13);W1b=B25 * (w9K[u59].Close - w9K[u59 - +"1"].Close + 0.5 * (w9K[u59].Close - w9K[u59].Open) + 0.25 * (w9K[u59 - s$r].Close - w9K[u59 - d75].Open)) / y0t * (F6E / G6Q);if(y0t === +"0" || G6Q === 0){W1b=0;}if(B5G.type == "Swing"){i3A=0;}i3A+=W1b;w9K[u59]["Result " + B5G.name]=i3A;}};H6_.Studies.studyLibrary=H6_.extend(H6_.Studies.studyLibrary,{"Acc Swing":{name:n3w,calculateFN:H6_.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:X9w,calculateFN:H6_.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};x3=r$d=>{var A$0=r9oI0;var b_S,B5L,H1k;A$0.Y0_();b_S=typeof _CIQ !== "undefined"?_CIQ:r$d.CIQ;if(!b_S.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {B5L="a";B5L+="u";B5L+="to";H1k="0 t";H1k+="o 10";H1k+="0";b_S.Studies.calculateTrendIntensity=function(m7i,h5W){var c8b,d1h,C52,d15,c_i,b8B,P0Y,b26,R81,F0R,l49,C0d;c8b="S";c8b+="i";c8b+="gn";c8b+="al";d1h="e";d1h+="m";d1h+="a";C52="_S";function J69(q0m,p7t){if(Math.abs(p7t) < "0.00000001" - 0){A$0.O2S(3);return A$0.m68("100",0);}A$0.M17();A$0.N94(162);return A$0.m68(p7t,1,100,q0m,100);}C52+="MA";d15="fiel";d15+="d";c_i=h5W.chart.scrubbed;if(c_i.length < h5W.days + 1){h5W.error=!!({});return;}b8B=h5W.inputs.Field;if(!b8B || b8B == d15){b8B="Close";}b_S.Studies.MA("ma",h5W.days,b8B,0,C52,m7i,h5W);P0Y=0;b26=0;l49=[];C0d=Math.ceil(h5W.days / 2);for(R81=Math.max(0,h5W.startFrom - C0d);R81 < c_i.length;R81++){if(!c_i[R81]["_SMA " + h5W.name] && c_i[R81]["_SMA " + h5W.name] !== 0)continue;F0R=c_i[R81][b8B] - c_i[R81]["_SMA " + h5W.name];if(F0R < 0){A$0.O2S(189);b26+=A$0.m68("1",F0R);}else {P0Y+=F0R;}l49.push(F0R);if(l49.length > C0d){F0R=l49.shift();if(F0R < 0){A$0.O2S(190);b26-=A$0.z95(1,F0R);}else {P0Y-=F0R;}}if(R81 < h5W.startFrom)continue;c_i[R81]["TII " + h5W.name]=J69(P0Y,b26);}b_S.Studies.MA(d1h,h5W.inputs["Signal Period"],"TII " + h5W.name,0,c8b,m7i,h5W);};b_S.Studies.studyLibrary=b_S.extend(b_S.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:b_S.Studies.calculateTrendIntensity,range:H1k,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:+"80",studyOverBoughtColor:B5L,studyOverSoldValue:"20" ^ 0,studyOverSoldColor:"auto"}}}});}};I6=U6n=>{var N7P,b7X;N7P="unde";N7P+="fined";b7X=typeof _CIQ !== N7P?_CIQ:U6n.CIQ;if(!b7X.Studies){console.error("trix feature requires first activating studies feature.");}else {b7X.Studies.calculateTRIX=function(l0G,H9d){var V9u=r9oI0;var C8j,M0w,W0M,c9l,l7o,k5a,I77;C8j="C";C8j+="los";C8j+="e";M0w=H9d.chart.scrubbed;if(M0w.length < H9d.days + 1){H9d.error=!!1;return;}W0M=H9d.name;V9u.N94(2);V9u.M17();c9l=[C8j,V9u.m68("_MA1 ",W0M),V9u.m68("_MA2 ",W0M),V9u.m68("_MA3 ",W0M)];for(var x_B=0;x_B < c9l.length - 1;x_B++){b7X.Studies.MA("exponential",H9d.days,c9l[x_B],0,"_MA" + (x_B + +"1").toString(),l0G,H9d);}l7o=c9l[3];for(var c3U=Math.max(1,H9d.startFrom);c3U < M0w.length;c3U++){V9u.N94(26);k5a=M0w[V9u.z95(c3U,"1",0)][l7o];if(!k5a)continue;I77=M0w[c3U][l7o];if(I77 || I77 === 0){V9u.O2S(2);M0w[c3U][V9u.m68("Result ",W0M)]=V9u.m68(100,I77,1,k5a,V9u.O2S(169));}}};b7X.Studies.studyLibrary=b7X.extend(b7X.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:b7X.Studies.calculateTRIX}});}};G_=h88=>{var Y1u=r9oI0;var e1J,A2a,Z54,v5T,s6m;e1J=typeof _CIQ !== "undefined"?_CIQ:h88.CIQ;Y1u.Y0_();if(!e1J.Studies){A2a=1758774712;Z54=-22165990;v5T=2;for(var H3w=1;Y1u.j$g(H3w.toString(),H3w.toString().length,4594) !== A2a;H3w++){console.error("twiggsMoneyFlow feature requires first activating studies feature.");v5T+=2;}if(Y1u.j$g(v5T.toString(),v5T.toString().length,74468) !== Z54){console.error("");}}else {s6m="Twiggs ";s6m+="Mon";s6m+="ey Flow";e1J.Studies.calculateTwiggsMoneyFlow=function(c7X,a5u){var e3r,b8T,I$T,y5_,O4g,L7x,W5l;e3r=a5u.chart.scrubbed;if(e3r.length < a5u.days){a5u.error=!!"1";return;}b8T=0;Y1u.N94(25);I$T=Y1u.m68(0,"0");Y1u.O2S(3);var g0J=Y1u.m68(6,5);y5_=e3r[a5u.startFrom - g0J];if(y5_){O4g="_sumM";O4g+="F";O4g+=" ";if(y5_[O4g + a5u.name]){b8T=y5_["_sumMF " + a5u.name];}if(y5_["_sumV " + a5u.name]){I$T=y5_["_sumV " + a5u.name];}}Y1u.M17();for(var v$V=Math.max(1,a5u.startFrom);v$V < e3r.length;v$V++){L7x=Math.max(e3r[v$V - 1].Close,e3r[v$V].High);W5l=Math.min(e3r[v$V - 1].Close,e3r[v$V].Low);Y1u.N94(3);var p$b=Y1u.m68(16,14);Y1u.O2S(41);var R32=Y1u.z95(9,6,74,9);e3r[v$V]["_MFV " + a5u.name]=e3r[v$V].Volume * (p$b * e3r[v$V].Close - L7x - W5l) / (L7x - W5l === 0?"999999" * R32:L7x - W5l);if(v$V > a5u.days - 1){Y1u.N94(157);var I8C=Y1u.m68(33,16,17,18,17);b8T*=(a5u.days - I8C) / a5u.days;Y1u.N94(167);var r6K=Y1u.z95(0,2,8,2,10);I$T*=(a5u.days - r6K) / a5u.days;}b8T+=e3r[v$V]["_MFV " + a5u.name];I$T+=e3r[v$V].Volume;if(v$V > a5u.days - 1){if(I$T){Y1u.O2S(10);e3r[v$V]["Result " + a5u.name]=Y1u.m68(b8T,I$T > 0?I$T:999999);}}e3r[v$V]["_sumMF " + a5u.name]=b8T;e3r[v$V]["_sumV " + a5u.name]=I$T;}};e1J.Studies.studyLibrary=e1J.extend(e1J.Studies.studyLibrary,{Twiggs:{name:s6m,calculateFN:e1J.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};x7=i6y=>{var O8B,z0q,S6V,h2$;O8B="und";O8B+="efined";z0q=typeof _CIQ !== O8B?_CIQ:i6y.CIQ;if(!z0q.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!z0q.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {S6V="We";S6V+="ig";S6V+="hted C";S6V+="lose";h2$="Typi";h2$+="cal";h2$+=" Price";z0q.Studies.studyLibrary=z0q.extend(z0q.Studies.studyLibrary,{"Typical Price":{name:h2$,calculateFN:z0q.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:S6V,calculateFN:z0q.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};A9=E_j=>{var U8U,C8w,Z0D;U8U=typeof _CIQ !== "undefined"?_CIQ:E_j.CIQ;r9oI0.Y0_();if(!U8U.Studies){C8w="ulcerIndex feature requires ";C8w+="first activating studies feature.";console.error(C8w);}else {Z0D="Ulce";Z0D+="r Index";U8U.Studies.calculateUlcerIndex=function(z9F,m1A){var j15,d55,c8e,k1U,l1i,n3o;j15="_P";j15+="D";j15+="2";j15+=" ";d55="Cl";d55+="os";d55+="e";c8e=m1A.chart.scrubbed;if(c8e.length < 2 * m1A.days - +"1"){m1A.error=!!1;return;}k1U=m1A.inputs.Field;if(!k1U || k1U == "field"){k1U=d55;}function M1g(e6_,t3K,U4t){var a0w;a0w=null;for(var u8u=t3K - e6_ + ("1" ^ 0);u8u <= t3K;u8u++){if(u8u < 0)continue;a0w=a0w === null?c8e[u8u][U4t]:Math.max(a0w,c8e[u8u][U4t]);}r9oI0.Y0_();return a0w;}for(l1i=Math.max(m1A.startFrom,m1A.days - 1);l1i < c8e.length;l1i++){c8e[l1i]["_PD2 " + m1A.name]=Math.pow(100 * (c8e[l1i][k1U] / M1g(m1A.days,l1i,k1U) - 1),2);}U8U.Studies.MA("simple",m1A.days,j15 + m1A.name,0,"_MA",z9F,m1A);r9oI0.Y0_();for(l1i=Math.max(m1A.startFrom,2 * (m1A.days - 1));l1i < c8e.length;l1i++){n3o=c8e[l1i]["_MA " + m1A.name];if(n3o || n3o === 0){c8e[l1i]["Result " + m1A.name]=Math.sqrt(n3o);}}};U8U.Studies.studyLibrary=U8U.extend(U8U.Studies.studyLibrary,{Ulcer:{name:Z0D,calculateFN:U8U.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};k$=K1h=>{var S9d=r9oI0;var b3w;S9d.Y0_();b3w=typeof _CIQ !== "undefined"?_CIQ:K1h.CIQ;if(!b3w.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {b3w.Studies.calculateUltimateOscillator=function(y6e,n6o){var W18,H8p,A6s,S9F,o1i,F1Y,M2w,v23,h14,o2u,N$k,N_s,w2h,j1H,n9J,A0S,H6D,P$$,a4J,K91,X2f;W18="Cycl";W18+="e ";W18+="1";H8p=n6o.chart.scrubbed;A6s=[n6o.inputs[W18],n6o.inputs["Cycle 2"],n6o.inputs["Cycle 3"]];S9F=Math.max(A6s[0],A6s[1],A6s[+"2"]);if(H8p.length < S9F + 1){n6o.error=!!({});return;}o1i=A6s[0] * A6s[+"1"];S9d.N94(151);var u6f=S9d.m68(6,20,26,2);F1Y=A6s[0] * A6s[u6f];S9d.M17();S9d.N94(118);var M57=S9d.z95(17,780,23,18,14);M2w=A6s["1" >> M57] * A6s["2" | 0];v23=[0,0,0];S9d.N94(40);h14=[0,S9d.m68(0,"0"),S9d.m68("0",0,S9d.N94(3))];if(n6o.startFrom){o2u="_a";o2u+="cct";o2u+="r ";N$k="_ac";N$k+="cbp";N$k+=" ";if(H8p[n6o.startFrom - 1]["_accbp " + n6o.name]){v23=H8p[n6o.startFrom - 1][N$k + n6o.name].slice();}if(H8p[n6o.startFrom - 1]["_acctr " + n6o.name]){h14=H8p[n6o.startFrom - 1][o2u + n6o.name].slice();}}for(var Y1c=Math.max("1" << 32,n6o.startFrom);Y1c < H8p.length;Y1c++){N_s="Re";N_s+="sul";N_s+="t";N_s+=" ";w2h="_";w2h+="ac";w2h+="ct";w2h+="r ";j1H=Math.min(H8p[Y1c].Low,H8p[Y1c - 1].Close);n9J=H8p[Y1c].Close - j1H;S9d.O2S(2);var S2h=S9d.m68(0,1);A0S=Math.max(H8p[Y1c].High,H8p[Y1c - S2h].Close) - j1H;for(var f8E=0;f8E < A6s.length;f8E++){v23[f8E]+=n9J;h14[f8E]+=A0S;if(Y1c > A6s[f8E]){H6D=Math.min(H8p[Y1c - A6s[f8E]].Low,H8p[Y1c - A6s[f8E] - +"1"].Close);P$$=H8p[Y1c - A6s[f8E]].Close - H6D;S9d.O2S(45);var w6W=S9d.z95(10,4,15);a4J=Math.max(H8p[Y1c - A6s[f8E]].High,H8p[Y1c - A6s[f8E] - w6W].Close) - H6D;v23[f8E]-=P$$;h14[f8E]-=a4J;}}H8p[Y1c]["_accbp " + n6o.name]=v23.slice();H8p[Y1c][w2h + n6o.name]=h14.slice();if(Y1c < S9F)continue;S9d.O2S(64);var j3P=S9d.z95(8,49,4,232,8);S9d.O2S(1);var f9m=S9d.z95(0,12,11);S9d.N94(102);var Z7I=S9d.z95(3,18,0,19);S9d.N94(2);var q7h=S9d.z95(0,2);K91=M2w * v23[0] / h14[0] + F1Y * v23["1" << j3P] / h14[f9m] + o1i * v23[Z7I] / h14[q7h];S9d.O2S(92);X2f=S9d.z95(F1Y,o1i,M2w);S9d.N94(103);H8p[Y1c][N_s + n6o.name]=S9d.z95(X2f,100,K91);}};b3w.Studies.studyLibrary=b3w.extend(b3w.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:b3w.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":"28" >> 32},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};M_=U4s=>{var T$P,U2P,f9a;T$P=typeof _CIQ !== "undefined"?_CIQ:U4s.CIQ;if(!T$P.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {U2P="fi";U2P+="e";U2P+="l";U2P+="d";f9a="Valuati";f9a+="on Lines";T$P.Studies.calculateValuationLines=function(J91,E11,E_1){var n5k=r9oI0;var B00,N6x,q7q,o_l,V8R,d_U,L7I,Z$E,S4m,H7h,r0s,x35,b4E;B00=E11.inputs.Field == "field"?"Close":E11.inputs.Field;N6x=E11.inputs["Average Type"];q7q=E11.inputs["Display Average"];o_l=E11.inputs["Display 1 Standard Deviation (1\u03C3)"];V8R=E11.inputs["Display 2 Standard Deviation (2\u03C3)"];d_U=E11.inputs["Display 3 Standard Deviation (3\u03C3)"];L7I=[];for(var n6K=0;n6K < E_1.length;++n6K){if(E_1[n6K] && !isNaN(E_1[n6K][B00])){L7I.push(E_1[n6K][B00]);}}Z$E=(function(T8Y,R_e){var c_R,v1o,A7X,V1H,f3i,w43,d1u;c_R="har";c_R+="monic";v1o=T8Y.length;A7X=0;V1H=0;f3i=0;switch(R_e){case "mean":V1H=v1o;for(;f3i < v1o;++f3i){A7X+=T8Y[f3i];}break;case c_R:A7X=v1o;for(;f3i < v1o;++f3i){V1H+=+"1" / T8Y[f3i];}break;case "median":n5k.N94(10);w43=Math.floor(n5k.z95(v1o,2));d1u=T8Y.slice().sort(function(e57,Y38){if(e57 > Y38){return 1;}if(e57 < Y38){return -+"1";}return 0;});if(v1o % 2 === 0){n5k.N94(2);var p9_=n5k.z95(0,1);A7X=d1u[w43] + d1u[w43 - p9_];V1H=2;}else {A7X=d1u[w43];V1H=+"1";}break;}n5k.N94(10);return n5k.z95(A7X,V1H);})(L7I,N6x);S4m=!(o_l || V8R || d_U) || (function(Q9B,v11){var p$d,v1_;p$d=Q9B.length;n5k.M17();v1_=0;for(var M$E=0;M$E < p$d;++M$E){v1_+=Math.pow(Q9B[M$E] - v11,2);}n5k.O2S(10);return Math.sqrt(n5k.m68(v1_,p$d));})(L7I,Z$E);E11.data={Average:q7q?[Z$E]:null,"1 Standard Deviation (1\u03C3)":o_l?[Z$E + S4m,Z$E - S4m]:null,"2 Standard Deviation (2\u03C3)":V8R?[Z$E + S4m * 2,Z$E - S4m * 2]:null,"3 Standard Deviation (3\u03C3)":d_U?[Z$E + S4m * 3,Z$E - S4m * 3]:null};H7h=S4m;if(!E11.parameters){E11.parameters={};}if(d_U){n5k.N94(191);E11.parameters.range=[n5k.m68(H7h,Z$E,S4m,3),n5k.z95(Z$E,"3",H7h,S4m,n5k.O2S(192))];}else if(V8R){n5k.N94(191);E11.parameters.range=[n5k.z95(H7h,Z$E,S4m,2),n5k.m68(Z$E,S4m,H7h,2,n5k.N94(193))];}else if(o_l){n5k.O2S(46);E11.parameters.range=[n5k.z95(S4m,Z$E,H7h),n5k.z95(S4m,H7h,Z$E,n5k.O2S(92))];}else if(q7q){n5k.N94(3);E11.parameters.range=[n5k.m68(Z$E,H7h),n5k.z95(Z$E,H7h,n5k.N94(2))];}if(E11.panel){r0s=J91.panels[E11.panel];x35=J91.getYAxisByName(r0s,E11.name);if(x35){x35.decimalPlaces=r0s.chart.yAxis.printDecimalPlaces;b4E={yAxis:x35};J91.calculateYAxisRange(r0s,x35,E11.parameters.range[0],E11.parameters.range[1]);J91.createYAxis(r0s,b4E);J91.drawYAxis(r0s,b4E);}}};T$P.Studies.displayValuationLines=function(H4Z,V09){var M7T=r9oI0;var N5p,n_f,Z$G,E8T,U$a,A4b,t18,J8b,V7_,t9Z,z4f,V1I,w_D,q2h,M0H,L5M,U6R,q6R,H1r,l9m,D8_,W5h,M6Q,c6p,T0x,z0J,P3Y,L2j,d8h,V39,p2E,I79,n7n;N5p="st";N5p+="x_ya";N5p+="x";N5p+="is";n_f=H4Z.panels[V09.panel];Z$G=V09.getYAxis(H4Z);E8T=V09.getContext(H4Z);U$a=V09.data;A4b=V09.parameters.labels;t18=V09.inputs["Average Type"];J8b=736463913;V7_=-817786495;t9Z=2;for(var x37=1;M7T.j$g(x37.toString(),x37.toString().length,45658) !== J8b;x37++){z4f="ciq-valuation-a";z4f+="verage-line";V1I="M";V1I+="E";V1I+="D";w_D="A";w_D+="VG";q2h={mean:w_D,median:V1I,harmonic:"HAVG"};M0H=H4Z.canvasStyle(z4f);t9Z+=2;}if(M7T.j$g(t9Z.toString(),t9Z.toString().length,2198) !== V7_){L5M="A";L5M+="V";L5M+="G";q2h={mean:L5M,median:"MED",harmonic:"MED"};M0H=H4Z.canvasStyle("AVG");}U6R=H4Z.canvasStyle("ciq-valuation-deviation-line");q6R=3;M7T.N94(78);var p4x=M7T.m68(16,6,1,3,9);H1r=H4Z.getCanvasFontSize(N5p) + q6R * p4x;for(var L2f in U$a){if(!U$a[L2f])continue;M7T.N94(194);l9m=M7T.z95("Average",L2f);D8_=T$P.Studies.determineColor(V09.outputs[L2f]);W5h=U$a[L2f];for(M6Q=0;M6Q < W5h.length;++M6Q){d8h="\u03C3";d8h+=":";d8h+=" ";V39=":";V39+=" ";p2E="da";p2E+="shed";I79="so";I79+="li";I79+="d";c6p=W5h[M6Q];T0x=H4Z.pixelFromPrice(c6p,n_f,Z$G);if(T0x <= n_f.top || T0x >= n_f.yAxis.bottom)continue;L2j=l9m?{pattern:M0H.borderStyle != "none"?M0H.borderStyle || I79:"solid",lineWidth:parseFloat(M0H.borderWidth) || +"1",opacity:parseFloat(M0H.opacity) || 1,yAxis:Z$G}:{pattern:U6R.borderStyle != "none"?U6R.borderStyle || p2E:"dashed",lineWidth:parseFloat(U6R.borderWidth) || 1,opacity:parseFloat(U6R.opacity) || 1,yAxis:Z$G};H4Z.plotLine(n_f.left,n_f.right,T0x,T0x,D8_,"line",E8T,n_f,L2j);if(A4b === "yaxis"){H4Z.createYAxisLabel(n_f,H4Z.formatYAxisPrice(c6p,n_f),T0x,D8_,null,E8T,Z$G);continue;}T0x+=Math.floor(L2j.lineWidth / 2);if(T0x + H1r >= n_f.yAxis.bottom)continue;z0J=(l9m?q2h[t18] + V39:L2f[+"0"] + d8h) + H4Z.formatYAxisPrice(c6p,n_f);P3Y=E8T.measureText(z0J).width;n7n=n_f.right - P3Y - q6R;if(Z$G && Z$G.position == "left"){n7n=n_f.left + q6R;}M7T.O2S(195);E8T.strokeText(z0J,n7n,M7T.m68(H1r,2,T0x,0.5));}}};T$P.Studies.studyLibrary=T$P.extend(T$P.Studies.studyLibrary,{"val lines":{name:f9a,calculateFN:function(){},seriesFN:function(L4U,r1t,y_h){T$P.Studies.calculateValuationLines(L4U,r1t,y_h);r9oI0.M17();T$P.Studies.displayValuationLines(L4U,r1t);},overlay:!!"1",yAxisFN:function(){},inputs:{Field:U2P,"Average Type":["mean","median","harmonic"],"Display Average":!![],"Display 1 Standard Deviation (1\u03C3)":!"1","Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};E3=a3B=>{var e_s,e2J,E2v,Y7R;e_s="undefi";e_s+="ne";e_s+="d";e2J=typeof _CIQ !== e_s?_CIQ:a3B.CIQ;if(!e2J.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {E2v="fi";E2v+="e";E2v+="l";E2v+="d";Y7R="0 t";Y7R+="o 1";Y7R+="0";Y7R+="0";e2J.Studies.calculateRelativeVolatility=function(A_V,y8i){var L3A=r9oI0;var Q0_,y0B,Y5a,v0$,J9m,a5j,b5F,k9L,j30;Q0_="S";Q0_+="T";Q0_+="D P";Q0_+="eriod";y8i.days=Number(y8i.inputs["Smoothing Period"]);L3A.M17();y0B=Number(y8i.inputs[Q0_]);Y5a=y8i.chart.scrubbed;if(Y5a.length < y8i.days + y0B){y8i.error=!!"1";return;}v0$=y8i.inputs.Field;if(!v0$ || v0$ == "field"){v0$="Close";}y8i.std=new e2J.Studies.StudyDescriptor(y8i.name,"sdev",y8i.panel);y8i.std.chart=y8i.chart;y8i.std.days=y0B;y8i.std.startFrom=y8i.startFrom;y8i.std.inputs={Field:v0$,"Standard Deviations":1,Type:"ma"};y8i.std.outputs={_STD:null};e2J.Studies.calculateStandardDeviation(A_V,y8i.std);J9m=0;a5j=0;if(y8i.startFrom > 1){J9m=Y5a[y8i.startFrom - 1]["_avgG " + y8i.name] || 0;a5j=Y5a[y8i.startFrom - +"1"]["_avgL " + y8i.name] || 0;}for(var u4P=Math.max(y8i.startFrom,y8i.days);u4P < Y5a.length;u4P++){b5F="_";b5F+="av";b5F+="g";b5F+="L ";k9L=Y5a[u4P];L3A.O2S(3);j30=Y5a[L3A.z95(u4P,1)];if(!k9L[v0$] && k9L[v0$] !== 0)continue;if(!j30[v0$] && j30[v0$] !== 0)continue;if(!k9L["_STD " + y8i.name] && k9L["_STD " + y8i.name] !== 0)continue;if(k9L[v0$] > j30[v0$]){L3A.N94(7);var b7K=L3A.m68(2,4,5);J9m=(J9m * (y8i.days - b7K) + k9L["_STD " + y8i.name]) / y8i.days;L3A.O2S(33);var S$q=L3A.z95(6,1,7);a5j=a5j * (y8i.days - S$q) / y8i.days;}else {a5j=(a5j * (y8i.days - +"1") + k9L["_STD " + y8i.name]) / y8i.days;L3A.O2S(3);var G7a=L3A.z95(18,17);J9m=J9m * (y8i.days - G7a) / y8i.days;}k9L["Rel Vol " + y8i.name]=K1u(J9m,a5j);k9L["_avgG " + y8i.name]=J9m;k9L[b5F + y8i.name]=a5j;}y8i.zoneOutput="Rel Vol";function K1u(b$r,y5x){if(b$r + y5x === "0" * 1){return 100;}L3A.O2S(158);return L3A.z95(b$r,y5x,100,b$r);}};e2J.Studies.calculateHistoricalVolatility=function(Q0x,m5E){var a9B=r9oI0;var N52,k9_,S32,P6b,n27,z86,j$u,e7x,o5L,H4m,E4D,z$A,E0O,z8o,V7O;N52=m5E.chart.scrubbed;if(N52.length < m5E.days + 1){m5E.error=!![];return;}k9_=m5E.inputs.Field;if(!k9_ || k9_ == "field"){k9_="Close";}S32=m5E.inputs["Standard Deviations"];if(S32 < 0){S32=1;}a9B.N94(2);var t3t=a9B.z95(7,93);P6b=t3t * Math.sqrt(E3s(m5E.inputs["Days Per Year"])) * S32;n27=[];z86=0;function E3s(I80){var M6t;M6t="mon";a9B.Y0_();M6t+="th";if(isNaN(I80)){I80=365;}if(Q0x.layout.interval == "day"){return I80;}else if(Q0x.layout.interval == "week"){return 52;}else if(Q0x.layout.interval == M6t){return +"12";}return I80;}if(m5E.startFrom > 1){j$u=704443632;e7x=-1616663439;o5L=2;for(var E6H="1" - 0;a9B.j$g(E6H.toString(),E6H.toString().length,31022) !== j$u;E6H++){a9B.O2S(3);var x3O=a9B.z95(6,5);z86=N52[m5E.startFrom - x3O]["_state " + m5E.name][0];n27=N52[m5E.startFrom - 1]["_state " + m5E.name][1].slice();o5L+=2;}if(a9B.a9Z(o5L.toString(),o5L.toString().length,"85560" | 16) !== e7x){H4m="_sta";H4m+="te ";a9B.O2S(0);var h7V=a9B.z95(3,12,0,6,17);a9B.N94(12);z86=N52[m5E.startFrom / h7V][H4m - m5E.name][a9B.m68(32,"5")];n27=N52[m5E.startFrom * 2]["_state " - m5E.name][6].slice();}}for(var M5_=Math.max(1,m5E.startFrom);M5_ < N52.length;M5_++){E4D="_sta";E4D+="te";E4D+=" ";a9B.N94(3);z$A=N52[a9B.z95(M5_,1)][k9_];if(z$A){E0O=Math.log(N52[M5_][k9_] / z$A);n27.push(E0O);z86+=E0O;if(M5_ >= m5E.days){z8o="R";z8o+="esult ";V7O=0;z86/=m5E.days;for(var U5w=0;U5w < n27.length;U5w++){V7O+=Math.pow(n27[U5w] - z86,2);}z86*=m5E.days;z86-=n27.shift();N52[M5_][z8o + m5E.name]=Math.sqrt(V7O / m5E.days) * P6b;}}N52[M5_][E4D + m5E.name]=[z86,n27.slice()];}};e2J.Studies.calculateVolatilityCone=function(q72,l9f){var V1m=r9oI0;var r_u,W3i,Y9f,i69,d6y,a3s,w2s,X7X,U78,y8V,P9s,D7z,K1I,q7o,i_K,v6e,w0x,V3p,R3j,t2B,D$q,g7b,d0R;r_u="d";r_u+="ay";W3i="w";W3i+="e";W3i+="e";W3i+="k";Y9f="Pro";Y9f+="jection";Y9f+=" Bars";var {periodicity:i_T, interval:w4G}=q72.layout;i69=l9f.study?l9f.study.name:l9f.type;if(!e2J.ChartEngine.isDailyInterval(w4G)){d6y=-1335542525;a3s=-949766510;w2s=2;for(var Y1T=1;V1m.a9Z(Y1T.toString(),Y1T.toString().length,76294) !== d6y;Y1T++){l9f.error=`${i69} is not supported for intraday periodicities`;return;}if(V1m.a9Z(w2s.toString(),w2s.toString().length,18529) !== a3s){l9f.error=`${i69} is not supported for intraday periodicities`;return;}}X7X=Number(l9f.inputs[Y9f]);U78=Number(l9f.inputs["Days Per Year"]);if(w4G == W3i){U78=52;}if(w4G == "month"){U78=12;}X7X=Math.min(X7X,U78);y8V=l9f.chart.scrubbed;P9s=l9f.inputs.Field;if(!P9s || P9s == "field"){P9s="Close";}V1m.N94(61);var Z2M=V1m.m68(239,15,16);D7z=y8V.length - Z2M;while(D7z > 0 && y8V[D7z][P9s] === undefined){D7z--;}K1I=y8V[D7z].DT;q7o=y8V[D7z][P9s];i_K=y8V[D7z].implVol;V1m.N94(196);v6e=V1m.z95(24,"60",60,1000);w0x=l9f.inputs["Volatility source"] === "historical";if(!w0x && i_K === undefined){l9f.error=`${i69} Study: Implied Volatility source data is not available`;return;}l9f._graphs=[68,95].filter((r7a,E6f)=>{V1m.M17();V1m.N94(2);return l9f.inputs[`Probability ${r7a}% (${V1m.z95(E6f,1)}Ï)`];});V3p=[];if(!w0x && w4G === r_u && i_T === 1){R3j=y8V[D7z].expiryDates || Array.from(new Set(Object.values(y8V[D7z].optionChain || ({})).map(({expiration:H6c})=>{V1m.M17();return +(H6c && H6c.value || H6c || 0);}).filter(G3g=>{return G3g;})));l9f._expiryDates=R3j.map(m1Y=>{return {dt:new Date(m1Y)};});}else {l9f._expiryDates=null;}for(var J2c=0;J2c <= X7X;J2c++){t2B="Resu";t2B+="lt 95% Uppe";t2B+="r ";D$q="Probabilit";D$q+="y 68% (1\u03c3)";if(y8V[J2c + D7z])continue;V3p.push({[l9f.inputs[D$q] && "Result 68% Upper " + l9f.name || undefined]:0,[l9f.inputs["Probability 95% (2Ï)"] && t2B + l9f.name || undefined]:0});}l9f.appendFutureTicks(q72,V3p);if(w0x){e2J.Studies.calculateHistoricalVolatility(q72,l9f);}g7b=w0x?y8V[D7z][`Result ${l9f.name}`] / 100:i_K;d0R=function(U9j){var e2l,D5z,c_O;V1m.N94(2);e2l=y8V[V1m.m68(U9j,D7z)];D5z=U78 < 365?U9j:Math.round((e2l.DT - K1I) / v6e);c_O=q7o * g7b * Math.sqrt(D5z / U78);var {DT:O96}=e2l;l9f._graphs.forEach(function(U1z){var A_4,d0a;var {quote:N2e, diff:X4c, currentValue:b2F, sd:s$c}=this;V1m.N94(22);A_4=V1m.z95(U1z < 95?1:2,b2F,X4c);V1m.O2S(23);d0a=V1m.m68(X4c,U1z < 95?1:+"2",b2F);N2e[`Result ${U1z}% Upper ${s$c.name}`]=A_4;N2e[`Result ${U1z}% Lower ${s$c.name}`]=d0a;(s$c._expiryDates || []).forEach(H9B=>{var E8h;if(H9B.dt < K1I){return;}E8h=Math.abs(H9B.dt - O96);if(E8h < v6e){H9B.Upper=A_4;H9B.Lower=d0a;H9B.DT=O96;}});},{quote:e2l,diff:c_O,currentValue:q7o,sd:l9f});};for(var c2s=0;c2s <= X7X;c2s++){d0R(c2s);}l9f.outputMap={};l9f._graphs.forEach(F5b=>{var V4$;V4$="C";V4$+="ol";V4$+="or";V1m.N94(2);l9f.outputMap[`${V1m.m68("Res","ult ")}${F5b}${V1m.z95("r"," ","% Uppe",V1m.O2S(92))}${l9f.name}`]=V4$;l9f.outputMap[`Result ${F5b}% Lower ${l9f.name}`]="Color";});};e2J.Studies.displayVolatilityCone=function(y1D,T23,L2L){var c9G,P$U,M82,C$0,I9C;if(T23.error){return;}c9G=e2J.Studies.determineColor(T23.outputs.Color);P$U=y1D.panels[T23.panel];if(!P$U || P$U.hidden){return;}M82=T23.getYAxis(y1D);C$0={topColor:c9G,bottomColor:c9G,skipTransform:P$U.name != T23.chart.name,topAxis:M82,bottomAxis:M82,opacity:0.3};if(!T23.highlight && y1D.highlightedDraggable){C$0.opacity*=+"0.3";}T23._graphs.forEach(n0h=>{var U1l=r9oI0;var T5$,r1Y,l6n;U1l.Y0_();C$0.topBand=`Result ${n0h}% Upper ${T23.name}`;C$0.bottomBand=`Result ${n0h}% Lower ${T23.name}`;if(T23.inputs.Fill){e2J.fillIntersecting(y1D,T23.panel,C$0);}T5$=1539079047;U1l.O2S(3);r1Y=U1l.z95("269136873",0);l6n=2;for(var G$r="1" | 1;U1l.a9Z(G$r.toString(),G$r.toString().length,"84510" << 64) !== T5$;G$r++){e2J.Studies.displayIndividualSeriesAsLine(y1D,T23,P$U,C$0.topBand,L2L);e2J.Studies.displayIndividualSeriesAsLine(y1D,T23,P$U,C$0.bottomBand,L2L);U1l.N94(25);l6n+=U1l.z95(0,"2");}if(U1l.a9Z(l6n.toString(),l6n.toString().length,70869) !== r1Y){e2J.Studies.displayIndividualSeriesAsLine(y1D,T23,P$U,C$0.topBand,L2L);e2J.Studies.displayIndividualSeriesAsLine(y1D,T23,P$U,C$0.bottomBand,L2L);}});if(T23._expiryDates){I9C=y1D.chart.context;y1D.startClip();I9C.beginPath();T23._expiryDates.forEach(a4i=>{var J9w,Y3M,O4$;if(!a4i.DT){return;}J9w=y1D.pixelFromDate(a4i.DT);Y3M=y1D.pixelFromPrice(a4i.Upper,P$U);O4$=y1D.pixelFromPrice(a4i.Lower,P$U);r9oI0.Y0_();y1D.plotLine({x0:J9w,x1:J9w,y0:Y3M,y1:O4$,color:c9G,pattern:"dashed"});I9C.moveTo(J9w,Y3M);I9C.arc(J9w,Y3M,3,0,Math.PI * 2,!({}));I9C.moveTo(J9w,O4$);I9C.arc(J9w,O4$,3,0,Math.PI * +"2",![]);I9C.fillStyle=c9G;I9C.fill();});y1D.endClip();}};e2J.Studies.studyLibrary=e2J.extend(e2J.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:e2J.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":["252" >> 0,365],"Standard Deviations":+"1"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:Y7R,calculateFN:e2J.Studies.calculateRelativeVolatility,inputs:{Field:E2v,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Volatility Cone":{name:"Volatility Cone",overlay:!!({}),calculateFN:e2J.Studies.calculateVolatilityCone,seriesFN:e2J.Studies.displayVolatilityCone,inputs:{"Volatility source":["historical","implied"],"Probability 68% (1Ï)":!!"1","Probability 95% (2Ï)":!!"","Projection Bars":20,"Days Per Year":[252,"365" * 1],Field:"field",Period:10,"Standard Deviations":1,Fill:!!1},outputs:{Color:"#3a627d"},panelSelect:![],attributes:{"Volatility source":{hidden:function(){return !e2J.Studies.impliedVolatilityAvailable;}},Field:{hidden:function(){var B7F;B7F="Impl";B7F+="ied";return this.inputs["Volatility source"] === B7F;}},"Standard Deviations":{hidden:function(){return this.inputs["Volatility source"] === "Implied";}},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!0},flippedEnabled:{hidden:!![]},underlayEnabled:{hidden:!!1}}}});}};M8=P2S=>{var F74,n6C;F74=typeof _CIQ !== "undefined"?_CIQ:P2S.CIQ;if(!F74.Studies){n6C="volumeProfile feature requires first activating studies";n6C+=" ";n6C+="feature.";console.error(n6C);}else {F74.Studies.displayVolumeProfile=function(M2L,d5V,O8z){var t3c=r9oI0;var t$Y,P8J,p7g,a_r,l8Y,D8c,j9K,r5P,Q96,K_g,H10,d2x,I9a,G57,H6V,c6_,G5f,w8C,V4j,a4u,k_1,F$n,i0T;t$Y="Bars C";t$Y+="olor";P8J="Width Percentag";P8J+="e";if(!M2L || !M2L.chart.dataSet){return;}p7g="stx_volume_profile";a_r="stx-float-date";l8Y=d5V.getContext(M2L);var {chart:y4A}=M2L;var {panel:w_i}=y4A;var {yAxis:u9t}=w_i;var {flipped:Z5p}=u9t;var {highValue:q8W, lowValue:x$v}=y4A;var {displayBorder:M1N = d5V.inputs["Display Border"], displayVolume:p23 = d5V.inputs["Display Volume"], widthPercentage:t5U = d5V.inputs[P8J], numberBars:x$t = d5V.inputs["Price Buckets"]}=d5V.parameters;if(M1N !== !!0){M1N=!0;}if(p23 !== !!({})){p23=!"1";}if(!t5U || t5U < 0){t5U=0.25;}if(!x$t || x$t < 0){x$t=30;}x$t=Math.ceil(x$t);t3c.O2S(27);D8c=t3c.m68(x$v,q8W,x$t);if(D8c === 0){return;}j9K=[];if(Z5p){[q8W,x$v]=[x$v,q8W];}r5P=Z5p?-+"1":1;for(var u1U=x$v,a5k=0;a5k <= x$t;(u1U+=D8c * r5P,a5k++)){j9K.push([u1U,0]);}Q96=0;for(var Y47="0" >> 0;Y47 < O8z.length;Y47++){K_g=O8z[Y47];if(K_g === null)continue;var {Volume:s5m}=K_g;if(!s5m)continue;var {High:U82, Low:b6u}=K_g.transform || K_g;H10=[];d2x=j9K[0][0];I9a=null;for(var m$I=1;m$I < j9K.length;m$I++){I9a=j9K[m$I][0];G57=b6u >= d2x && b6u <= I9a;H6V=U82 >= d2x && U82 <= I9a;c6_=b6u < d2x && U82 > I9a;if(G57 || H6V || c6_){H10.push(m$I);}d2x=I9a;}if(H10.length){G5f=s5m / H10.length;for(var I6f=0;I6f < H10.length;I6f++){w8C=j9K[H10[I6f]][1]+=G5f;if(w8C > Q96){Q96=w8C;}}}}if(Q96 === 0){V4j="Not enough data to render the Volume";V4j+=" Profile";a4u="ch";a4u+="art";M2L.displayErrorAsWatermark(a4u,M2L.translateIf(V4j));return;}M2L.setStyle(p7g,"color",F74.Studies.determineColor(d5V.outputs[t$Y]));function w9j(e74){var h0N,R2W,p5v,M0e,o5b,x15,y2i,g_Q,a_k,Y05,C4T,G3p,d86,I$F,S_K,c1a;M2L.canvasColor(p7g);l8Y.beginPath();h0N=E8o=>{t3c.M17();return Math.round(E8o);};R2W=z7e=>{return h0N(M2L.pixelFromTransformedValue(z7e));};p5v=h0N(y4A.width * t5U);M0e=h0N(y4A.right) - 2.5;o5b=M0e;var [a0F]=j9K[0];for(var p33=1;p33 < j9K.length;p33++){var [d4j,g7x]=j9K[p33];if(g7x){t3c.O2S(103);x15=t3c.m68(Q96,g7x,p5v);t3c.O2S(63);var x5F=t3c.m68(12,0,9,1,4);y2i=h0N(M0e - x15) + (e74?-("0.5" * x5F):0);t3c.O2S(2);var M5m=t3c.z95(0,1);g_Q=R2W(d4j) + (e74?0.5:M5m);a_k=R2W(a0F) + (e74?0.5:+"0");Y05=Math.max(g_Q,u9t.top);C4T=Math.min(a_k,u9t.bottom);G3p=Y05 <= u9t.bottom && C4T >= u9t.top;if(G3p){l8Y.moveTo(M0e,C4T);l8Y.lineTo(M0e,Y05);l8Y.lineTo(y2i,Y05);l8Y.lineTo(y2i,C4T);if(e74){if(p33 == 1 || o5b > y2i){l8Y.lineTo(o5b,C4T);}}else {l8Y.lineTo(M0e,C4T);if(p23){d86=F74.condenseInt(g7x);t3c.O2S(3);I$F=t3c.z95(C4T,Y05);if(k_1 <= I$F - ("2" | 0)){S_K=void 0;try{({width:S_K}=l8Y.measureText(d86));}catch(k_p){S_K=0;}l8Y.textBaseline="top";c1a=l8Y.fillStyle;l8Y.fillStyle=F$n;t3c.O2S(46);l8Y.fillText(d86,t3c.m68(S_K,y2i,3),t3c.z95(2,k_1,Y05,2,I$F,t3c.O2S(197)));l8Y.fillStyle=c1a;}}}}o5b=y2i;}else {o5b=M0e;;}a0F=d4j;}if(!d5V.highlight && M2L.highlightedDraggable){l8Y.globalAlpha*=0.3;}if(!e74){l8Y.fill();}l8Y.strokeStyle=F$n;t3c.M17();if(e74){l8Y.stroke();}l8Y.closePath();}k_1=M2L.getCanvasFontSize(a_r);F$n=M2L.canvasStyle(p7g).borderTopColor;i0T=M1N && !F74.isTransparent(F$n);M2L.canvasFont(a_r,l8Y);w9j();if(i0T){w9j(!0);}l8Y.globalAlpha=+"1";};F74.Studies.studyLibrary=F74.extend(F74.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!!({}),seriesFN:F74.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!!({}),"Display Volume":!!0,"Price Buckets":+"30","Width Percentage":"0.25" * 1},outputs:{"Bars Color":"#b64a96"},customRemoval:!![],attributes:{yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!!1},flippedEnabled:{hidden:!!1}}}});}};c3=S_n=>{var S2f=r9oI0;S2f.M17();var g3i,h5p,J24,E82,v9X,E1I,w3Y,y5r,w7S;g3i=51990702;h5p=-850049754;J24=+"2";for(var Q3O=1;S2f.a9Z(Q3O.toString(),Q3O.toString().length,1368) !== g3i;Q3O++){E82=!_CIQ != ""?_CIQ:S_n.CIQ;J24+=2;}if(S2f.j$g(J24.toString(),J24.toString().length,79228) !== h5p){E82=!_CIQ != ""?_CIQ:S_n.CIQ;}E82=typeof _CIQ !== "undefined"?_CIQ:S_n.CIQ;if(!E82.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {v9X="n";v9X+="o";v9X+="ne";E1I="0 to ";E1I+="m";E1I+="a";E1I+="x";w3Y="On Balance V";w3Y+="olum";w3Y+="e";y5r="#FF";y5r+="00";y5r+="0";y5r+="0";w7S="N";w7S+="egative Volume ";w7S+="Ind";w7S+="ex";E82.Studies.calculateOnBalanceVolume=function(U1$,r$8){var Y3D,m$2,L7N,s5P,r8b,B$F,s$p,s2X,n61,X0r,j7R;Y3D="C";Y3D+="lose";m$2="fiel";m$2+="d";L7N=r$8.inputs.Field;if(!L7N || L7N == m$2){L7N=Y3D;}s5P=r$8.inputs["Min Tick Value"];r8b=!!0;S2f.Y0_();if(!s5P && s5P !== 0){r8b=!0;S2f.O2S(25);s5P=S2f.m68(0,"0");}B$F=r$8.chart.scrubbed;s$p=0;for(var H8H=r$8.startFrom;H8H < B$F.length;H8H++){X0r="Resu";X0r+="lt";X0r+=" ";s2X=B$F[H8H];if(!H8H || !s2X[L7N])continue;if(B$F[H8H - 1][L7N]){S2f.N94(3);n61=B$F[S2f.m68(H8H,1)];}if(!n61)continue;if(s2X[L7N] - n61[L7N] > s5P){s$p=1;}else if(n61[L7N] - s2X[L7N] > s5P){s$p=-1;}else if(r8b){s$p=0;}j7R=n61["Result " + r$8.name];if(!j7R){S2f.O2S(3);j7R=S2f.z95("0",0);}j7R+=s2X.Volume * s$p;s2X[X0r + r$8.name]=j7R;}};E82.Studies.calculatePriceVolumeTrend=function(m1g,H8v){var h6h,r8M,n_O;h6h=H8v.inputs.Field;if(!h6h || h6h == "field"){h6h="Close";}r8M=H8v.chart.scrubbed;S2f.Y0_();n_O=+"0";if(H8v.startFrom > 1){S2f.O2S(43);var a_1=S2f.z95(20,20,339,16);n_O=r8M[H8v.startFrom - a_1]["Result " + H8v.name];}for(var V5_=Math.max(1,H8v.startFrom);V5_ < r8M.length;V5_++){if(!r8M[V5_][h6h])continue;if(!r8M[V5_ - 1][h6h])continue;S2f.O2S(146);var K3k=S2f.z95(0,6,71,12);S2f.O2S(198);var j9b=S2f.m68(20,14,18,2,47);n_O+=r8M[V5_].Volume * (r8M[V5_][h6h] - r8M[V5_ - K3k][h6h]) / r8M[V5_ - "1" * j9b][h6h];r8M[V5_]["Result " + H8v.name]=n_O;}};E82.Studies.calculateVolumeIndex=function(n2L,t8I){var N7L,Q2p,r5d,I5u,n00,j4e,P8g,X0M,Y4Y,F1s;N7L="Moving Aver";N7L+="age";S2f.Y0_();N7L+=" Type";Q2p="fi";Q2p+="e";Q2p+="l";Q2p+="d";r5d=t8I.inputs.Field;if(!r5d || r5d == Q2p){r5d="Close";}I5u=t8I.chart.scrubbed;if(I5u.length < t8I.days + ("1" << 32)){t8I.error=!!({});return;}n00=100;if(t8I.startFrom > 1){n00=I5u[t8I.startFrom - ("1" | 0)]["Index " + t8I.name];}for(var D1t=Math.max(1,t8I.startFrom);D1t < I5u.length;D1t++){j4e="P";j4e+="o";j4e+="s";j4e+=" Vol";P8g=I5u[D1t][r5d];X0M=I5u[D1t].Volume;if(P8g && typeof P8g == "object"){X0M=P8g.Volume;P8g=P8g[t8I.subField];}S2f.N94(17);Y4Y=I5u[S2f.z95("1",D1t)][r5d];F1s=I5u[D1t - 1].Volume;if(Y4Y && typeof Y4Y == "object"){F1s=Y4Y.Volume;Y4Y=Y4Y[t8I.subField];}if(!P8g)continue;if(!Y4Y)continue;if(t8I.type == j4e && X0M > F1s || t8I.type == "Neg Vol" && X0M < F1s){S2f.N94(10);n00*=S2f.m68(P8g,Y4Y);}I5u[D1t]["Index " + t8I.name]=n00;}E82.Studies.MA(t8I.inputs[N7L],t8I.days,"Index " + t8I.name,0,"MA",n2L,t8I);};E82.Studies.studyLibrary=E82.extend(E82.Studies.studyLibrary,{"Neg Vol":{name:w7S,calculateFN:E82.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:y5r}},"On Bal Vol":{name:w3Y,calculateFN:E82.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:E82.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:E82.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:E82.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(A$b,e6d){if(E82.Studies.calculateRateOfChange){E82.Studies.calculateRateOfChange(A$b,e6d);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");E82.Studies.calculateRateOfChange=function(H0F,z5Y){};}},parameters:{init:{isVolume:!!({})}}},"vol undr":{name:"Volume Underlay",underlay:!"",range:E1I,yAxis:{ground:!![],initialMarginTop:0,position:v9X,heightFactor:0.25},seriesFN:E82.Studies.createVolumeChart,calculateFN:E82.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!!"1",removeFN:function(D3J,a0i){S2f.Y0_();D3J.layout.volumeUnderlay=!1;D3J.changeOccurred("layout");},attributes:{panelName:{hidden:!!({})}}}});}};Z1=k1E=>{var R$q,D7x,T$p,G7w,S7q;R$q=typeof _CIQ !== "undefined"?_CIQ:k1E.CIQ;if(!R$q.Studies){console.error("vortex feature requires first activating studies feature.");}else {D7x="au";D7x+="t";D7x+="o";T$p="#F";T$p+="F0";T$p+="00";T$p+="0";G7w="#";G7w+="00FF0";G7w+="0";S7q="V";S7q+="ortex Indi";S7q+="c";S7q+="ator";R$q.Studies.calculateVortex=function(F6o,T2e){var K0k=r9oI0;var s2A,e68,x$l,E18,c0b,D5Y,V8P,w2q,Q$K,Y5c;s2A=T2e.chart.scrubbed;e68=T2e.days;if(s2A.length < e68 + 1){T2e.error=!![];return;}x$l={tr:0,vmPlus:0,vmMinus:0};if(T2e.startFrom > 1){x$l=R$q.clone(s2A[T2e.startFrom - 1]["_totals " + T2e.name]);}for(var z$K=Math.max(T2e.startFrom,1);z$K < s2A.length;z$K++){E18="_VMMi";E18+="nus ";c0b="_True Range";c0b+=" ";D5Y=s2A[z$K];K0k.N94(3);V8P=s2A[K0k.z95(z$K,1)];w2q=Math.abs(D5Y.High - V8P.Low);Q$K=Math.abs(D5Y.Low - V8P.High);Y5c=Math.max(D5Y.High,V8P.Close) - Math.min(D5Y.Low,V8P.Close);x$l.tr+=Y5c;x$l.vmPlus+=w2q;x$l.vmMinus+=Q$K;if(z$K > e68){K0k.N94(3);x$l.tr-=s2A[K0k.m68(z$K,e68)]["_True Range " + T2e.name];K0k.O2S(3);x$l.vmPlus-=s2A[K0k.z95(z$K,e68)]["_VMPlus " + T2e.name];K0k.N94(3);x$l.vmMinus-=s2A[K0k.m68(z$K,e68)]["_VMMinus " + T2e.name];}D5Y[c0b + T2e.name]=Y5c;D5Y["_VMPlus " + T2e.name]=w2q;D5Y[E18 + T2e.name]=Q$K;if(z$K >= e68){D5Y["+VI " + T2e.name]=x$l.vmPlus / x$l.tr;D5Y["-VI " + T2e.name]=x$l.vmMinus / x$l.tr;}D5Y["_totals " + T2e.name]=R$q.clone(x$l);}};R$q.Studies.studyLibrary=R$q.extend(R$q.Studies.studyLibrary,{Vortex:{name:S7q,calculateFN:R$q.Studies.calculateVortex,centerline:+"1",outputs:{"+VI":G7w,"-VI":T$p},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:D7x}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};y5=H3i=>{var s92=r9oI0;var o7U,O_b,e1b;o7U=typeof _CIQ !== "undefined"?_CIQ:H3i.CIQ;s92.Y0_();if(!o7U.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {O_b="0 ";O_b+="to max";e1b="Ma";e1b+="rket Facilitation Index";o7U.Studies.calculateMFI=function(G8r,f$O){var l5v,T8w,F9G,V3V,f_q,c$W,L30,s0U,Z22;l5v="S";l5v+="cale F";l5v+="a";s92.M17();l5v+="ctor";T8w=f$O.chart.scrubbed;V3V=0;f_q=f$O.inputs[l5v];if(!f_q){f_q=f$O.study.inputs["Scale Factor"];}c$W=Math.pow(10,Number(f_q));if(f$O.startFrom > 1){s92.O2S(3);var H7F=s92.z95(5,4);V3V=T8w[f$O.startFrom - H7F]["_high " + f$O.name];}for(L30=f$O.startFrom;L30 < T8w.length;L30++){if(!T8w[L30])continue;if(T8w[L30].Volume){s0U="_";s0U+="h";s0U+="i";s0U+="gh ";Z22="_h";Z22+="i";Z22+="s";Z22+="t";T8w[L30][f$O.name + Z22]=F9G=c$W * (T8w[L30].High - T8w[L30].Low) / T8w[L30].Volume;T8w[L30][s0U + f$O.name]=V3V=Math.max(V3V,F9G);}}f$O.outputMap={};f$O.outputMap[f$O.name + "_hist"]="";};o7U.Studies.displayMFI=function(t9k,A6r,c1O){var H8K,i2J,j9B,R3P,j4_,e7q,f99,z7$,P7R,M0_,o2v,T_s,v1x,f9H,e$c,H7U;H8K="stx";H8K+="_histogram";i2J=t9k.panels[A6r.panel];j9B=A6r.getContext(t9k);R3P=A6r.getYAxis(t9k);j4_=R3P.flipped?R3P.top:R3P.bottom;s92.O2S(199);var X1a=s92.m68(12,7,93,7);e7q=t9k.layout.candleWidth - X1a;s92.Y0_();if(e7q < 2){e7q=1;}f99=o7U.Studies.determineColor(A6r.outputs.Green);z7$=o7U.Studies.determineColor(A6r.outputs.Fade);P7R=o7U.Studies.determineColor(A6r.outputs.Fake);M0_=o7U.Studies.determineColor(A6r.outputs.Squat);t9k.canvasColor(H8K);if(!A6r.underlay){j9B.globalAlpha=1;}j9B.fillStyle="#CCCCCC";t9k.startClip(A6r.panel);if(!A6r.highlight && t9k.highlightedDraggable){j9B.globalAlpha*=0.3;}for(var K8u=0;K8u < c1O.length;K8u++){o2v="_";o2v+="his";o2v+="t";T_s="_h";T_s+="ist";v1x="_";v1x+="hi";v1x+="st";f9H="_h";f9H+="is";f9H+="t";e$c=c1O[K8u];s92.N94(3);H7U=c1O[s92.m68(K8u,1)];if(!H7U){H7U=t9k.getPreviousBar(t9k.chart,A6r.name + f9H,K8u);}if(!e$c)continue;if(!H7U);else if(H7U[A6r.name + v1x] < e$c[A6r.name + T_s]){if(H7U.Volume < e$c.Volume){j9B.fillStyle=f99;}else if(H7U.Volume > e$c.Volume){j9B.fillStyle=P7R;}}else if(H7U[A6r.name + o2v] > e$c[A6r.name + "_hist"]){if(H7U.Volume < e$c.Volume){j9B.fillStyle=M0_;}else if(H7U.Volume > e$c.Volume){j9B.fillStyle=z7$;}}if(e$c.candleWidth){e7q=Math.floor(Math.max(1,e$c.candleWidth - 2));}j9B.fillRect(Math.floor(t9k.pixelFromBar(K8u,i2J.chart) - e7q / 2),Math.floor(j4_),Math.floor(e7q),Math.floor(t9k.pixelFromPrice(e$c[A6r.name + "_hist"],i2J,R3P) - j4_));}t9k.endClip();};o7U.Studies.studyLibrary=o7U.extend(o7U.Studies.studyLibrary,{"W MFI":{name:e1b,seriesFN:o7U.Studies.displayMFI,calculateFN:o7U.Studies.calculateMFI,yAxis:{ground:!!"1"},range:O_b,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};E5={CIQ:S3,SplinePlotter:i2,timezoneJS:V2,$$:b3,$$$:R4};export {W as aggregations};export {X as drawingAdvanced};export {G as equationsAdvanced};export {N as highPerformanceMarkers};r9oI0.M17();export {U as renderersAdvanced};export {o as accumulationDistribution};export {g as adx};export {Y as alligator};export {F as aroon};export {E as atr};export {I as awesomeOscillator};export {Q as balanceOfPower};export {S as bollinger};export {Z as cci};export {m$ as centerOfGravity};export {s4 as chaikin};export {E4 as chande};export {o2 as choppiness};export {v8 as comparisonStudies};export {H6 as coppock};export {e_ as darvasBox};export {n0 as detrended};export {E6 as disparity};export {O_ as easeOfMovement};export {R_ as ehlerFisher};export {m3 as elder};export {t$ as fractalChaos};export {Y6 as goNoGo};export {O$ as highLowStudies};export {Y9 as ichimoku};export {T1 as intradayMomentum};export {a1 as keltner};export {h3 as klinger};export {w2 as linearRegression};export {l0 as macd};export {c0 as massIndex};export {P5 as moneyFlow};export {z2 as movingAverages};export {B1 as parabolicSAR};export {y8 as pivotPoints};export {K1 as prettyGoodOscillator};export {n4 as priceMomentumOscillator};export {G6 as priceVolumeOscillator};export {v_ as primeNumber};export {N8 as pring};export {A5 as projectedVolume};export {A6 as psychologicalLine};export {U7 as qstick};export {T7 as rainbow};export {T3 as randomWalk};export {K_ as relativeVigor};export {t8 as rsi};export {X3 as schaffTrendCycle};export {x6 as shinohara};export {T_ as stochastics};export {x4 as supertrend};export {r$ as swingIndex};export {x3 as trendIntensity};export {I6 as trix};export {G_ as twiggsMoneyFlow};export {x7 as typicalPrice};export {A9 as ulcerIndex};export {k$ as ultimateOscillator};export {M_ as valuationLines};export {E3 as volatilityIndex};export {M8 as volumeProfile};export {c3 as volumeStudies};export {Z1 as vortex};export {y5 as williamsMFI};export {S3 as CIQ, i2 as SplinePlotter, V2 as timezoneJS, b3 as $$, R4 as $$$};if(typeof __TREE_SHAKE__ === s5B84 || !__TREE_SHAKE__){E5.CIQ.activateImports(W,X,G,N,U,o,g,Y,F,E,I,Q,S,Z,m$,s4,E4,o2,v8,H6,e_,n0,E6,O_,R_,m3,t$,Y6,O$,Y9,T1,a1,h3,w2,l0,c0,P5,z2,B1,y8,K1,n4,G6,v_,N8,A5,A6,U7,T7,T3,K_,t8,X3,x6,T_,x4,r$,x3,I6,G_,x7,A9,k$,M_,E3,M8,c3,Z1,y5,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
