/**!
 *	8.7.0
 *	Generation date: 2024-07-29T17:58:45.965Z
 *	Client name: choice broking
 *	Package Type: Technical Analysis e98f22c
 *	License type: annual
 *	Expiration date: "2025/08/11"
 *	Domain lock: ["127.0.0.1","localhost","choicebroking.in","choiceindia.com"]
 *	Filesystem lock: "file://*", "file://c/*", "file://d/*", "file://e/*"
 *	iFrame lock: true
 *	Features: Active Trader,SignalIQ,TFC
 */

/***********************************************************!
 * Copyright Â© 2024 S&P Global All rights reserved
*************************************************************/
/*************************************! DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! !*************************************
* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting *
* and load that file right after the library has been loaded, but before the chart engine is instantiated.              *
* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          *
*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
B9olJ[315305]=(function(){var s8B=2;for(;s8B !== 9;){switch(s8B){case 2:s8B=typeof globalThis === '\x6f\x62\u006a\x65\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var T5R;try{var R3R=2;for(;R3R !== 6;){switch(R3R){case 7:delete S4Z['\u0024\x5a\x4c\u004e\x6d'];R3R=6;break;case 9:delete T5R['\x4d\x64\x54\x71\u006b'];var S4Z=Object['\u0070\u0072\x6f\u0074\u006f\x74\u0079\x70\u0065'];R3R=7;break;case 3:throw "";R3R=9;break;case 4:R3R=typeof MdTqk === '\u0075\u006e\u0064\x65\x66\x69\u006e\u0065\u0064'?3:9;break;case 2:Object['\u0064\x65\u0066\x69\x6e\u0065\u0050\u0072\x6f\u0070\x65\u0072\u0074\x79'](Object['\x70\u0072\u006f\x74\x6f\u0074\x79\u0070\u0065'],'\u0024\u005a\u004c\u004e\u006d',{'\u0067\x65\x74':function(){return this;},'\u0063\u006f\x6e\x66\u0069\x67\x75\x72\u0061\x62\u006c\x65':true});T5R=$ZLNm;T5R['\x4d\x64\u0054\x71\x6b']=T5R;R3R=4;break;}}}catch(r0v){T5R=window;}return T5R;break;}}})();c8gL5r(B9olJ[315305]);B9olJ[116052]=true;B9olJ[346433]=B9olJ[122786];B9olJ.w7b=function(){return typeof B9olJ[425057].f8fTrL6 === 'function'?B9olJ[425057].f8fTrL6.apply(B9olJ[425057],arguments):B9olJ[425057].f8fTrL6;};B9olJ.U7z=function(){return typeof B9olJ[359798].i$ppaBl === 'function'?B9olJ[359798].i$ppaBl.apply(B9olJ[359798],arguments):B9olJ[359798].i$ppaBl;};B9olJ[22731]=282;B9olJ.d8W=function(){return typeof B9olJ[359798].i$ppaBl === 'function'?B9olJ[359798].i$ppaBl.apply(B9olJ[359798],arguments):B9olJ[359798].i$ppaBl;};B9olJ[261934]="tKw";function B9olJ(){}B9olJ.y4d=function(){return typeof B9olJ[122786].D8cbclS === 'function'?B9olJ[122786].D8cbclS.apply(B9olJ[122786],arguments):B9olJ[122786].D8cbclS;};B9olJ[122786]=(function(){var h0E=2;for(;h0E !== 9;){switch(h0E){case 2:var a3U=[arguments];a3U[2]=undefined;a3U[8]={};a3U[8].D8cbclS=function(){var V3T=2;for(;V3T !== 90;){switch(V3T){case 57:V3T=O2l[88] < O2l[2].length?56:69;break;case 7:O2l[5]=O2l[7];O2l[9]={};O2l[9].f6G=['v55'];V3T=13;break;case 69:V3T=(function(Y43){var T$L=2;for(;T$L !== 22;){switch(T$L){case 2:var X6Y=[arguments];T$L=1;break;case 1:T$L=X6Y[0][0].length === 0?5:4;break;case 7:T$L=X6Y[7] < X6Y[0][0].length?6:18;break;case 5:return;break;case 18:X6Y[8]=false;T$L=17;break;case 4:X6Y[6]={};X6Y[5]=[];X6Y[7]=0;T$L=8;break;case 17:X6Y[7]=0;T$L=16;break;case 11:X6Y[6][X6Y[9][O2l[76]]].t+=true;T$L=10;break;case 16:T$L=X6Y[7] < X6Y[5].length?15:23;break;case 19:X6Y[7]++;T$L=7;break;case 6:X6Y[9]=X6Y[0][0][X6Y[7]];T$L=14;break;case 12:X6Y[5].G8ozY(X6Y[9][O2l[76]]);T$L=11;break;case 23:return X6Y[8];break;case 15:X6Y[2]=X6Y[5][X6Y[7]];X6Y[4]=X6Y[6][X6Y[2]].h / X6Y[6][X6Y[2]].t;T$L=26;break;case 24:X6Y[7]++;T$L=16;break;case 10:T$L=X6Y[9][O2l[83]] === O2l[13]?20:19;break;case 8:X6Y[7]=0;T$L=7;break;case 14:T$L=typeof X6Y[6][X6Y[9][O2l[76]]] === 'undefined'?13:11;break;case 25:X6Y[8]=true;T$L=24;break;case 13:X6Y[6][X6Y[9][O2l[76]]]=(function(){var o7J=2;for(;o7J !== 9;){switch(o7J){case 2:var o6E=[arguments];o6E[3]={};o6E[3].h=0;o6E[3].t=0;return o6E[3];break;}}}).C93q3(this,arguments);T$L=12;break;case 20:X6Y[6][X6Y[9][O2l[76]]].h+=true;T$L=19;break;case 26:T$L=X6Y[4] >= 0.5?25:24;break;}}})(O2l[87])?68:67;break;case 4:O2l[2]=[];O2l[7]={};O2l[7].f6G=['h3H'];O2l[7].c$u=function(){var h0G=typeof l$BPwj === 'function';return h0G;};V3T=7;break;case 73:O2l[97][O2l[83]]=O2l[79];O2l[87].G8ozY(O2l[97]);V3T=71;break;case 10:O2l[1].f6G=['v55'];O2l[1].c$u=function(){var E0H=function(){return ('xy').substring(0,1);};var Z6g=!(/\x79/).H0x7zK(E0H + []);return Z6g;};O2l[8]=O2l[1];O2l[6]={};O2l[6].f6G=['h3H'];V3T=16;break;case 13:O2l[9].c$u=function(){var Y0c=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var s20=!(/\x28\133/).H0x7zK(Y0c + []);return s20;};O2l[3]=O2l[9];O2l[1]={};V3T=10;break;case 41:O2l[42].c$u=function(){var F0S=function(){return escape('=');};var C$7=(/\x33\u0044/).H0x7zK(F0S + []);return C$7;};O2l[89]=O2l[42];O2l[61]={};V3T=38;break;case 5:return 48;break;case 71:O2l[20]++;V3T=76;break;case 31:O2l[45]=O2l[82];O2l[55]={};O2l[55].f6G=['v55'];O2l[55].c$u=function(){var Z2C=function(){return [] + ('a').concat('a');};var J6F=!(/\u005b\u005d/).H0x7zK(Z2C + []) && (/\x61\141/).H0x7zK(Z2C + []);return J6F;};V3T=44;break;case 32:O2l[82].c$u=function(){var f2r=function(){return ('a|a').split('|');};var f7s=!(/\u007c/).H0x7zK(f2r + []);return f7s;};V3T=31;break;case 53:O2l[2].G8ozY(O2l[29]);O2l[2].G8ozY(O2l[89]);O2l[2].G8ozY(O2l[3]);O2l[2].G8ozY(O2l[16]);O2l[2].G8ozY(O2l[5]);O2l[2].G8ozY(O2l[78]);V3T=47;break;case 67:a3U[2]=28;return 69;break;case 1:V3T=a3U[2]?5:4;break;case 75:O2l[97]={};O2l[97][O2l[76]]=O2l[90][O2l[99]][O2l[20]];V3T=73;break;case 2:var O2l=[arguments];V3T=1;break;case 44:O2l[73]=O2l[55];O2l[42]={};O2l[42].f6G=['v55'];V3T=41;break;case 16:O2l[6].c$u=function(){var I8w=typeof d6tQMQ === 'function';return I8w;};O2l[4]=O2l[6];O2l[92]={};O2l[92].f6G=['h3H'];V3T=25;break;case 38:O2l[61].f6G=['v55'];O2l[61].c$u=function(){var s3h=function(){return ('a').codePointAt(0);};var M7Y=(/\071\x37/).H0x7zK(s3h + []);return M7Y;};O2l[16]=O2l[61];O2l[2].G8ozY(O2l[8]);V3T=53;break;case 68:V3T=26?68:67;break;case 47:O2l[2].G8ozY(O2l[73]);O2l[2].G8ozY(O2l[4]);O2l[2].G8ozY(O2l[45]);O2l[87]=[];O2l[13]='e65';V3T=63;break;case 77:O2l[20]=0;V3T=76;break;case 56:O2l[90]=O2l[2][O2l[88]];try{O2l[79]=O2l[90][O2l[38]]()?O2l[13]:O2l[46];}catch(L6S){O2l[79]=O2l[46];}V3T=77;break;case 62:O2l[99]='f6G';O2l[83]='X9k';O2l[38]='c$u';O2l[76]='k$G';V3T=58;break;case 21:O2l[36].c$u=function(){var v7d=false;var k8N=[];try{for(var g5t in console)k8N.G8ozY(g5t);v7d=k8N.length === 0;}catch(P2i){}var t3r=v7d;return t3r;};O2l[78]=O2l[36];O2l[82]={};O2l[82].f6G=['v55'];V3T=32;break;case 63:O2l[46]='t7i';V3T=62;break;case 70:O2l[88]++;V3T=57;break;case 58:O2l[88]=0;V3T=57;break;case 25:O2l[92].c$u=function(){var D56=typeof K8CEY1 === 'function';return D56;};O2l[29]=O2l[92];O2l[36]={};O2l[36].f6G=['h3H'];V3T=21;break;case 76:V3T=O2l[20] < O2l[90][O2l[99]].length?75:70;break;}}};return a3U[8];break;}}})();B9olJ[315305].k0ii=B9olJ;B9olJ[359798]=(function(){var A6y=function(k$8,E3I){var L7F=E3I & 0xffff;var V4O=E3I - L7F;return (V4O * k$8 | 0) + (L7F * k$8 | 0) | 0;},i$ppaBl=function(L0c,D5Y,t6t){var P_H=0xcc9e2d51,H8T=0x1b873593;var W06=t6t;var O0H=D5Y & ~0x3;for(var m4i=0;m4i < O0H;m4i+=4){var J2i=L0c.J7gIe(m4i) & 0xff | (L0c.J7gIe(m4i + 1) & 0xff) << 8 | (L0c.J7gIe(m4i + 2) & 0xff) << 16 | (L0c.J7gIe(m4i + 3) & 0xff) << 24;J2i=A6y(J2i,P_H);J2i=(J2i & 0x1ffff) << 15 | J2i >>> 17;J2i=A6y(J2i,H8T);W06^=J2i;W06=(W06 & 0x7ffff) << 13 | W06 >>> 19;W06=W06 * 5 + 0xe6546b64 | 0;}J2i=0;switch(D5Y % 4){case 3:J2i=(L0c.J7gIe(O0H + 2) & 0xff) << 16;case 2:J2i|=(L0c.J7gIe(O0H + 1) & 0xff) << 8;case 1:J2i|=L0c.J7gIe(O0H) & 0xff;J2i=A6y(J2i,P_H);J2i=(J2i & 0x1ffff) << 15 | J2i >>> 17;J2i=A6y(J2i,H8T);W06^=J2i;}W06^=D5Y;W06^=W06 >>> 16;W06=A6y(W06,0x85ebca6b);W06^=W06 >>> 13;W06=A6y(W06,0xc2b2ae35);W06^=W06 >>> 16;return W06;};return {i$ppaBl:i$ppaBl};})();B9olJ.O80=function(){return typeof B9olJ[425057].m4dWZWB === 'function'?B9olJ[425057].m4dWZWB.apply(B9olJ[425057],arguments):B9olJ[425057].m4dWZWB;};B9olJ.o4m=function(){return typeof B9olJ[425057].m4dWZWB === 'function'?B9olJ[425057].m4dWZWB.apply(B9olJ[425057],arguments):B9olJ[425057].m4dWZWB;};B9olJ.B2i=function(){return typeof B9olJ[122786].D8cbclS === 'function'?B9olJ[122786].D8cbclS.apply(B9olJ[122786],arguments):B9olJ[122786].D8cbclS;};B9olJ[425057]=(function(z_Q){return {m4dWZWB:function(){var i1a,u93=arguments;switch(z_Q){case 143:i1a=u93[3] * u93[0] / u93[2] + u93[1] - u93[4];break;case 76:i1a=u93[3] - u93[1] * (u93[0] - u93[2]);break;case 136:i1a=(u93[0] - u93[1] - u93[4]) / u93[2] - u93[3];break;case 68:i1a=(u93[0] - u93[1] + u93[4]) * u93[3] - u93[2];break;case 185:i1a=(u93[1] << u93[2]) * u93[3] / (u93[0] + u93[4]);break;case 86:i1a=u93[0] / u93[1] + u93[3] + u93[2];break;case 123:i1a=u93[2] / u93[1] / u93[0] / u93[4] - u93[3];break;case 27:i1a=(u93[0] - u93[1]) / u93[2];break;case 14:i1a=-u93[3] / u93[1] / u93[0] + u93[2];break;case 164:i1a=u93[1] * (u93[0] + u93[2]);break;case 93:i1a=u93[4] + (u93[3] - u93[0]) / (u93[1] - u93[2]) * (u93[5] - u93[6]);break;case 117:i1a=-u93[4] * u93[3] * u93[0] / u93[1] + u93[2];break;case 98:i1a=u93[2] * u93[1] / u93[0];break;case 26:i1a=u93[1] - (u93[0] - u93[2]);break;case 159:i1a=(u93[3] + u93[2]) / u93[0] - u93[1] + u93[4];break;case 41:i1a=u93[0] ^ u93[1];break;case 80:i1a=(u93[5] * u93[2] - u93[3] * u93[4]) / (u93[6] * u93[1] - u93[0]);break;case 1:i1a=u93[0] * u93[2] - u93[1];break;case 148:i1a=u93[1] * u93[0] * u93[2];break;case 103:i1a=(u93[4] + u93[0]) * u93[1] - u93[3] - u93[2];break;case 56:i1a=(u93[3] - u93[1] + u93[0]) / u93[4] + u93[2];break;case 158:i1a=u93[1] / u93[2] * u93[4] - u93[3] + u93[0];break;case 170:i1a=-u93[3] * u93[1] / u93[2] + u93[0];break;case 82:i1a=u93[2] * u93[0] + u93[1];break;case 153:i1a=u93[1] + u93[0] * (u93[2] - u93[3]);break;case 50:i1a=(u93[0] - u93[3]) * u93[2] - u93[4] + u93[1];break;case 81:i1a=(u93[2] - u93[1] * u93[0]) / u93[3];break;case 17:i1a=-u93[0] + u93[1];break;case 2:i1a=u93[1] + u93[0];break;case 154:i1a=u93[0] / u93[2] - u93[3] + u93[1];break;case 165:i1a=(u93[3] - u93[1]) / u93[0] / u93[4] - u93[2];break;case 49:i1a=u93[2] + u93[0] / +u93[1];break;case 141:i1a=u93[0] / u93[1] + u93[2];break;case 7:i1a=u93[1] * u93[0];break;case 145:i1a=u93[1] * u93[2] * u93[0] / (u93[4] + u93[3]);break;case 64:i1a=(u93[2] - u93[5]) / (u93[4] - u93[1]) > (u93[0] | u93[3]);break;case 11:i1a=u93[1] - u93[0] + u93[2];break;case 74:i1a=u93[2] / (u93[0] | u93[1]);break;case 25:i1a=u93[0] << u93[1];break;case 30:i1a=u93[0] * u93[2] - u93[1] - u93[3] - u93[4];break;case 146:i1a=-u93[4] / u93[3] + u93[2] + u93[1] - u93[0];break;case 70:i1a=(-u93[4] - u93[1]) * u93[2] - u93[0] + u93[3];break;case 104:i1a=u93[2] + u93[3] + u93[7] + u93[5] + u93[0] + u93[1] + u93[4] + u93[6];break;case 127:i1a=(u93[0] * u93[1] - u93[2]) / u93[3] - u93[4];break;case 142:i1a=-u93[0] - u93[1] - u93[3] + u93[2];break;case 3:i1a=(u93[1] + u93[0]) / u93[2];break;case 182:i1a=u93[0] + u93[2] * u93[3] + u93[1];break;case 55:i1a=(u93[1] + u93[0]) / u93[2] - u93[3];break;case 85:i1a=(u93[4] - u93[3]) * u93[0] / u93[2] - u93[1];break;case 140:i1a=u93[1] * u93[3] / u93[4] - u93[0] + u93[2];break;case 149:i1a=+u93[1] - +u93[3] / (u93[0] + u93[4] / u93[2]);break;case 125:i1a=-u93[2] + u93[1] - u93[3] - u93[0] + u93[4];break;case 150:i1a=-u93[3] / u93[0] / u93[2] * u93[1] + u93[4];break;case 187:i1a=u93[1] + (u93[4] / u93[2] - u93[3] / u93[0]);break;case 111:i1a=u93[0] + u93[2] * +u93[1];break;case 75:i1a=u93[3] + (u93[0] - u93[2]) / u93[1];break;case 77:i1a=u93[2] + u93[0] + u93[1];break;case 32:i1a=(u93[0] + u93[2] + u93[4]) / u93[3] - u93[1];break;case 88:i1a=-(u93[0] - u93[2]) * u93[3] + u93[1];break;case 28:i1a=u93[3] / u93[0] + u93[2] - u93[1];break;case 0:i1a=(u93[3] - u93[0]) * u93[1] + u93[2];break;case 157:i1a=u93[1] - (u93[0] >> u93[2]);break;case 135:i1a=(u93[2] + u93[1] - u93[4]) * u93[0] - u93[3];break;case 180:i1a=-u93[2] * u93[1] * u93[3] + u93[0] + u93[4];break;case 23:i1a=u93[0] * u93[1] + u93[3] - u93[2];break;case 144:i1a=u93[3] / u93[0] - u93[1] - u93[4] + u93[2];break;case 128:i1a=u93[1] + u93[3] - u93[2] + u93[0];break;case 162:i1a=u93[0] - (u93[1] | u93[2]);break;case 102:i1a=-u93[1] / u93[2] * u93[4] / u93[3] + u93[0];break;case 84:i1a=-u93[3] + u93[0] + u93[1] - u93[2];break;case 69:i1a=u93[0] >> u93[1];break;case 36:i1a=+u93[2] * u93[0] - u93[3] - u93[1];break;case 172:i1a=(u93[0] - u93[1]) * u93[2];break;case 168:i1a=u93[1] - u93[0] / (u93[2] + u93[3]);break;case 160:i1a=(u93[0] % u93[2] + u93[3]) * u93[1];break;case 100:i1a=(-u93[2] - u93[1]) * u93[4] + u93[3] + u93[0];break;case 9:i1a=u93[1] / u93[0];break;case 67:i1a=u93[3] / u93[1] / u93[2] + u93[0];break;case 124:i1a=(u93[3] * u93[1] - u93[2]) * u93[0] - u93[4];break;case 109:i1a=u93[1] * u93[4] + u93[2] + u93[3] - u93[0];break;case 121:i1a=-u93[2] / u93[3] + u93[0] - u93[1];break;case 53:i1a=u93[0] * u93[1] / u93[3] - u93[2];break;case 39:i1a=(u93[1] - u93[3]) * u93[2] + u93[0] + u93[4];break;case 57:i1a=-u93[3] / u93[0] * u93[2] + u93[1];break;case 139:i1a=-u93[4] * u93[2] / u93[3] + u93[0] + u93[1];break;case 96:i1a=(u93[0] + u93[2] * u93[1]) / (u93[3] - u93[4]);break;case 65:i1a=(-u93[2] + u93[3] - u93[4]) * u93[1] + u93[0];break;case 138:i1a=u93[1] - u93[4] - u93[2] + u93[0] + u93[3];break;case 47:i1a=u93[2] - u93[1] / u93[0];break;case 16:i1a=(u93[1] + u93[4] + u93[3] + u93[2]) / u93[0];break;case 73:i1a=-u93[0] - u93[1] + u93[2];break;case 89:i1a=u93[2] - u93[1] - u93[0];break;case 59:i1a=(u93[3] - u93[1]) / (u93[2] - u93[0]);break;case 173:i1a=u93[1] * -u93[0];break;case 38:i1a=u93[1] * u93[0] * u93[3] - u93[2];break;case 34:i1a=u93[3] * u93[1] < u93[2] - u93[0];break;case 126:i1a=u93[2] * u93[0] + u93[1] - u93[3] - u93[4];break;case 8:i1a=u93[2] - u93[3] - u93[1] + u93[0];break;case 22:i1a=u93[1] - u93[0] * u93[2];break;case 156:i1a=+u93[1] * (u93[0] / u93[2] - u93[3]);break;case 161:i1a=u93[1] / (u93[2] * u93[0]) <= u93[3];break;case 101:i1a=u93[1] - +u93[0];break;case 62:i1a=-u93[2] * u93[3] + u93[0] - u93[1];break;case 110:i1a=-u93[3] * u93[4] - u93[0] + u93[1] + u93[2];break;case 63:i1a=(u93[2] + u93[3] - u93[0]) * u93[4] + u93[1];break;case 35:i1a=u93[2] + (u93[1] - u93[0]);break;case 10:i1a=-u93[3] / u93[4] - u93[1] - u93[2] + u93[0];break;case 52:i1a=-u93[3] / u93[0] * u93[4] * u93[2] + u93[1];break;case 29:i1a=u93[3] * u93[2] - u93[1] - u93[0];break;case 129:i1a=u93[2] / u93[3] + u93[1] - u93[4] + u93[0];break;case 176:i1a=u93[2] - (u93[1] ^ u93[0]);break;case 60:i1a=-u93[2] * u93[4] / u93[0] - u93[3] + u93[1];break;case 114:i1a=(u93[3] - u93[0]) * u93[4] * u93[2] + u93[1];break;case 155:i1a=u93[0] - u93[3] + u93[4] - u93[2] + u93[1];break;case 51:i1a=(u93[0] - u93[1]) / (u93[3] - u93[2]) > +u93[4];break;case 42:i1a=(u93[0] + u93[2]) * u93[1] - u93[3];break;case 171:i1a=u93[4] * u93[3] / u93[2] + u93[1] + u93[0];break;case 43:i1a=u93[0] | u93[1];break;case 95:i1a=(u93[1] * u93[0] + u93[2]) / u93[3];break;case 151:i1a=(u93[0] - u93[2]) * (u93[1] / u93[4] - u93[3]);break;case 78:i1a=u93[4] * (u93[2] + u93[0]) / (u93[3] ^ u93[1]);break;case 147:i1a=-u93[4] * u93[2] - u93[3] - u93[0] + u93[1];break;case 184:i1a=u93[1] + u93[3] / u93[2] + u93[0];break;case 48:i1a=u93[1] + u93[2] / u93[0];break;case 31:i1a=-u93[1] + u93[0] + u93[2];break;case 178:i1a=(u93[0] - u93[1]) * u93[2] - u93[3];break;case 163:i1a=u93[1] > u93[0];break;case 94:i1a=((u93[1] - u93[4]) * u93[0] + u93[2]) / u93[3];break;case 5:i1a=u93[0] + u93[3] - u93[2] - u93[1];break;case 87:i1a=-u93[1] * u93[0] + u93[2];break;case 179:i1a=(-u93[0] + u93[3]) / u93[2] - u93[1];break;case 137:i1a=(-u93[2] + u93[4]) / u93[3] + u93[0] - u93[1];break;case 37:i1a=(u93[2] + u93[0]) / (u93[1] - u93[3]);break;case 131:i1a=u93[1] - u93[3] + u93[0] - u93[2];break;case 177:i1a=+u93[2] * (u93[4] / u93[1] - (u93[3] | u93[0]));break;case 133:i1a=u93[1] * u93[3] * u93[4] * u93[2] - u93[0];break;case 12:i1a=u93[3] - u93[1] + u93[2] + u93[0];break;case 40:i1a=(u93[2] + u93[0]) / u93[4] * u93[3] - u93[1];break;case 97:i1a=(u93[2] + u93[3] * u93[1]) / (u93[0] >> u93[4]);break;case 33:i1a=u93[2] / u93[1] - u93[0];break;case 107:i1a=(u93[1] - (u93[2] + (u93[4] - u93[0]))) / u93[3];break;case 19:i1a=u93[3] + u93[0] + u93[2] - u93[1];break;case 106:i1a=u93[0] * (u93[1] | u93[2]);break;case 174:i1a=u93[0] * -+u93[1];break;case 58:i1a=u93[0] < u93[1];break;case 116:i1a=(u93[3] + u93[0]) / u93[2] + u93[1];break;case 15:i1a=-u93[1] + u93[0] + u93[3] - u93[4] - u93[2];break;case 120:i1a=(u93[3] + u93[4]) * u93[1] * u93[2] - u93[0];break;case 183:i1a=u93[1] == u93[0];break;case 90:i1a=u93[2] * u93[1] - u93[3] + u93[4] - u93[0];break;case 119:i1a=(u93[0] + u93[2]) * u93[1];break;case 61:i1a=(u93[2] + u93[1]) / u93[3] + u93[0] - u93[4];break;case 115:i1a=(-u93[1] - u93[0]) / u93[3] + u93[2];break;case 91:i1a=-u93[0] * u93[3] * u93[1] + u93[2];break;case 92:i1a=(-u93[0] - u93[2]) * u93[4] * u93[3] + u93[1];break;case 83:i1a=u93[1] + +u93[0];break;case 113:i1a=u93[1] + u93[4] - u93[2] - u93[0] - u93[3];break;case 118:i1a=(u93[4] + u93[3]) * u93[0] + u93[1] - u93[2];break;case 44:i1a=(u93[0] - u93[3]) / u93[2] - u93[4] + u93[1];break;case 181:i1a=u93[3] - u93[2] * u93[0] - u93[1];break;case 134:i1a=(u93[0] / u93[2] + u93[3]) * u93[4] - u93[1];break;case 79:i1a=u93[1] * (u93[4] * u93[2] + u93[3]) / u93[0];break;case 6:i1a=u93[0] - u93[1];break;case 24:i1a=(-u93[4] * u93[0] - u93[1]) / u93[2] + u93[3];break;case 108:i1a=u93[0] + u93[3] + u93[1] + u93[2];break;case 112:i1a=(-u93[0] + u93[2]) / u93[1] - u93[3] - u93[4];break;case 20:i1a=u93[0] / (u93[2] / u93[1]);break;case 132:i1a=+u93[1] * u93[0];break;case 54:i1a=u93[2] * u93[1] / u93[0] / u93[4] + u93[3];break;case 66:i1a=(u93[3] - u93[0]) * (u93[1] - u93[4]) / (u93[2] - u93[6]) + u93[5];break;case 71:i1a=-u93[2] + u93[1] - u93[0];break;case 186:i1a=u93[1] * u93[0] * u93[2] * u93[3];break;case 18:i1a=(-u93[1] + u93[0]) * u93[2] - u93[3];break;case 122:i1a=u93[0] * u93[2] * u93[4] + (u93[5] - u93[6] * u93[1]) * u93[3];break;case 99:i1a=u93[1] !== u93[0];break;case 167:i1a=-u93[1] + u93[2] - u93[3] - u93[0];break;case 13:i1a=(u93[3] - u93[0]) / u93[2] + u93[1];break;case 152:i1a=u93[2] / u93[0] / u93[3] - u93[1];break;case 169:i1a=(u93[4] - u93[3]) * u93[1] - u93[2] - u93[0];break;case 72:i1a=u93[0] * u93[2] * u93[3] - u93[4] - u93[1];break;case 4:i1a=u93[1] + u93[0] - u93[2];break;case 21:i1a=u93[2] + u93[1] * u93[0];break;case 166:i1a=u93[1] / u93[3] / u93[0] / u93[2] + u93[4];break;case 175:i1a=(u93[0] ^ u93[2]) - u93[4] / (+u93[5] + u93[1] / u93[3]);break;case 45:i1a=u93[0] * u93[4] * u93[2] + u93[3] - u93[1];break;case 130:i1a=u93[4] / u93[3] * u93[2] - u93[1] - u93[0];break;case 105:i1a=-u93[0] / u93[1] + u93[2];break;case 46:i1a=-u93[2] * u93[3] + u93[0] - u93[4] + u93[1];break;}return i1a;},f8fTrL6:function(a6t){z_Q=a6t;}};})();B9olJ[304240]="DBY";function c8gL5r(o97){function Y8t(U2A){var e_o=2;for(;e_o !== 5;){switch(e_o){case 2:var Y4e=[arguments];return Y4e[0][0].Function;break;}}}function R0v(c5K){var I6I=2;for(;I6I !== 5;){switch(I6I){case 2:var E7_=[arguments];return E7_[0][0].Array;break;}}}function h48(N_E){var W37=2;for(;W37 !== 5;){switch(W37){case 2:var h0i=[arguments];return h0i[0][0].RegExp;break;}}}var W5W=2;for(;W5W !== 80;){switch(W5W){case 85:t2v(Y8t,"apply",e5C[45],e5C[33]);W5W=84;break;case 82:t2v(q4c,e5C[77],e5C[73],e5C[54]);W5W=81;break;case 45:e5C[94]+=e5C[16];e5C[94]+=e5C[56];e5C[54]=e5C[95];e5C[54]+=e5C[63];W5W=62;break;case 86:t2v(R0v,"push",e5C[45],e5C[91]);W5W=85;break;case 84:t2v(q4c,e5C[68],e5C[73],e5C[27]);W5W=83;break;case 39:e5C[16]="a";e5C[93]="__";e5C[59]="8C";e5C[34]="EY1";W5W=54;break;case 87:t2v(m4F,"charCodeAt",e5C[45],e5C[57]);W5W=86;break;case 33:e5C[36]="j";e5C[97]="";e5C[97]="__r";e5C[30]="";e5C[30]="Q";e5C[63]="";W5W=44;break;case 81:t2v(q4c,e5C[94],e5C[73],e5C[22]);W5W=80;break;case 62:e5C[54]+=e5C[30];e5C[77]=e5C[97];e5C[77]+=e5C[72];e5C[77]+=e5C[53];W5W=58;break;case 2:var e5C=[arguments];e5C[1]="";e5C[1]="e";e5C[4]="";W5W=3;break;case 3:e5C[4]="gI";e5C[7]="";e5C[7]="J7";e5C[5]="";W5W=6;break;case 58:e5C[24]=e5C[42];e5C[24]+=e5C[86];e5C[24]+=e5C[3];e5C[27]=e5C[14];W5W=77;break;case 6:e5C[5]="G";e5C[2]="";e5C[2]="3";e5C[6]="zY";e5C[9]="";e5C[9]="_op";W5W=20;break;case 73:e5C[68]+=e5C[39];e5C[33]=e5C[38];e5C[33]+=e5C[19];e5C[33]+=e5C[2];W5W=69;break;case 83:t2v(h48,"test",e5C[45],e5C[24]);W5W=82;break;case 88:var t2v=function(d5z,P08,l2V,S9y){var O1g=2;for(;O1g !== 5;){switch(O1g){case 2:var N5f=[arguments];B5a(e5C[0][0],N5f[0][0],N5f[0][1],N5f[0][2],N5f[0][3]);O1g=5;break;}}};W5W=87;break;case 50:e5C[73]=0;e5C[22]=e5C[55];e5C[22]+=e5C[59];e5C[22]+=e5C[34];e5C[94]=e5C[93];W5W=45;break;case 54:e5C[55]="";e5C[55]="K";e5C[45]=1;e5C[73]=1;W5W=50;break;case 20:e5C[8]="_";e5C[3]="zK";e5C[42]="";e5C[10]="8o";e5C[38]="C";W5W=15;break;case 15:e5C[42]="H0x";e5C[39]="timize";e5C[14]="l";e5C[19]="93q";e5C[11]="$BPw";e5C[53]="";W5W=22;break;case 89:e5C[57]+=e5C[1];W5W=88;break;case 69:e5C[91]=e5C[5];e5C[91]+=e5C[10];e5C[91]+=e5C[6];e5C[57]=e5C[7];e5C[57]+=e5C[4];W5W=89;break;case 44:e5C[63]="M";e5C[16]="";e5C[56]="bstract";e5C[16]="";e5C[95]="d6tQ";W5W=39;break;case 22:e5C[53]="al";e5C[72]="";e5C[72]="esidu";e5C[86]="7";W5W=33;break;case 77:e5C[27]+=e5C[11];e5C[27]+=e5C[36];e5C[68]=e5C[8];e5C[68]+=e5C[9];W5W=73;break;}}function m4F(z32){var C9i=2;for(;C9i !== 5;){switch(C9i){case 2:var R6E=[arguments];return R6E[0][0].String;break;}}}function q4c(d5J){var d2V=2;for(;d2V !== 5;){switch(d2V){case 2:var c0Z=[arguments];return c0Z[0][0];break;}}}function B5a(q58,I7y,U6M,b7h,w5b){var m3w=2;for(;m3w !== 13;){switch(m3w){case 6:n5G[4]=false;try{var R6p=2;for(;R6p !== 13;){switch(R6p){case 14:try{var o96=2;for(;o96 !== 3;){switch(o96){case 2:n5G[6]=n5G[9];n5G[6]+=n5G[5];n5G[6]+=n5G[3];n5G[0][0].Object[n5G[6]](n5G[7],n5G[0][4],n5G[1]);o96=3;break;}}}catch(b_w){}R6p=13;break;case 9:n5G[7][n5G[0][4]]=n5G[7][n5G[0][2]];n5G[1].set=function(s5i){var C6P=2;for(;C6P !== 5;){switch(C6P){case 2:var S7P=[arguments];n5G[7][n5G[0][2]]=S7P[0][0];C6P=5;break;}}};n5G[1].get=function(){var d12=2;for(;d12 !== 13;){switch(d12){case 3:Y7O[2]="ine";Y7O[8]="undef";Y7O[9]=Y7O[8];Y7O[9]+=Y7O[2];d12=6;break;case 2:var Y7O=[arguments];Y7O[1]="";Y7O[1]="d";Y7O[2]="";d12=3;break;case 6:Y7O[9]+=Y7O[1];return typeof n5G[7][n5G[0][2]] == Y7O[9]?undefined:n5G[7][n5G[0][2]];break;}}};n5G[1].enumerable=n5G[4];R6p=14;break;case 3:return;break;case 4:R6p=n5G[7].hasOwnProperty(n5G[0][4]) && n5G[7][n5G[0][4]] === n5G[7][n5G[0][2]]?3:9;break;case 2:n5G[1]={};n5G[2]=(1,n5G[0][1])(n5G[0][0]);n5G[7]=[n5G[2],n5G[2].prototype][n5G[0][3]];R6p=4;break;}}}catch(u7E){}m3w=13;break;case 3:n5G[9]="";n5G[9]="defin";n5G[4]=true;n5G[4]=true;m3w=6;break;case 2:var n5G=[arguments];n5G[3]="rty";n5G[5]="";n5G[5]="ePrope";m3w=3;break;}}}}B9olJ.O3H=function(){return typeof B9olJ[425057].f8fTrL6 === 'function'?B9olJ[425057].f8fTrL6.apply(B9olJ[425057],arguments):B9olJ[425057].f8fTrL6;};var z84xO,W,X,S,F,I,U,g,G,Z,N,Q,o,Y,E,O5,H_,B6,x_,e6,p3,R5,k6,X6,o9,m5,E_,T6,C$,Y8,D5,W1,Q2,x7,s5,K2,J4,c6,S$,b9,z7,g0,A$,z9,N0,C5,o_,n1,p9,Q8,N1,G2,k2,r9,P6,E0,i6,t8,K4,O4,j4,b1,w8,E8,T$,w_,X1,j7,U8,l9,e_;z84xO="u";z84xO+="ndef";z84xO+="ined";import {CIQ as H2, SplinePlotter as Z9, timezoneJS as e9, $$ as e5, $$$ as o$} from "../js/standard.js";W=y5=>{var r6O=B9olJ;var M_;M_=typeof _CIQ !== "undefined"?_CIQ:y5.CIQ;M_.Renderer.Aggregations=function(P$){var j3,f7E;this.construct(P$);r6O.y4d();j3=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;this.isAggregation=!!1;j3.highlightable=!!"";if(j3.name != "_main_series"){f7E="Aggregat";f7E+="ions are only allowed on m";f7E+="ain series.";console.warn(f7E);j3.invalid=!!({});}};M_.inheritsFrom(M_.Renderer.Aggregations,M_.Renderer.OHLC,!1);M_.Renderer.Aggregations.requestNew=function(E$,a$){var c8,p8s,w1$,X_,V$;c8=null;for(var d7=0;d7 < E$.length;d7++){p8s="ran";p8s+="g";p8s+="ebars";w1$="k";w1$+="a";w1$+="g";w1$+="i";X_=E$[d7];switch(X_){case w1$:case "pandf":c8=X_;break;case "heikinashi":case "linebreak":case p8s:case "renko":c8="candle";break;default:return null;}}if(c8 === null){return null;}r6O.y4d();V$=new M_.Renderer[c8 == "candle"?"OHLC":"Aggregations"]({params:M_.extend(a$,{type:c8})});V$.isAggregation=!!"1";return V$;};M_.Renderer.Aggregations.prototype.drawIndividualSeries=function(H9,J6){var y4u,T_,t6,C$P,y4q,h39,a$Z;y4u="pa";y4u+="n";y4u+="d";r6O.B2i();y4u+="f";if(J6.invalid){return;}T_=this.stx;t6={colors:[]};if(J6.type == "kagi"){C$P="stx_k";C$P+="agi_dow";C$P+="n";y4q="st";y4q+="x_kagi_";y4q+="u";y4q+="p";T_.drawKagiSquareWave(H9.panel,y4q,C$P,J6);t6.colors.push(T_.getCanvasColor("stx_kagi_up"));t6.colors.push(T_.getCanvasColor("stx_kagi_down"));}else if(J6.type == y4u){h39="st";h39+="x_p";h39+="andf_do";h39+="wn";a$Z="stx_";a$Z+="pandf_up";T_.drawPointFigureChart(H9.panel,a$Z,1818 <= 444.11?83 == (2160,6120)?"N":("7.07e+3" * 1,5.01e+3):"X",J6);t6.colors.push(T_.getCanvasColor("stx_pandf_up"));T_.drawPointFigureChart(H9.panel,h39,"O",J6);t6.colors.push(T_.getCanvasColor("stx_pandf_down"));}return t6;};M_.ChartEngine.prototype.setAggregationType=function(X9){r6O.B2i();var B6M,M9;B6M="can";B6M+="d";B6M+="le";this.layout.chartType=B6M;M9=this.chart;if(M9.baseline.userLevel !== !!""){M9.baseline.userLevel=M9.baseline.defaultLevel;M9.panel.yAxis.scroll=M_.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=X9;this.setMainSeriesRenderer();if(M9.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};M_.ChartEngine.prototype.drawKagiSquareWave=function(o5,D2,p_,v6){var c9,y_,F_,F$,N6,Q_,n6,q4,Y_,G6,b7,M3,E7,K$,V_,Y1,p7,h1,i0,i$,K_;c9=o5.chart;this.startClip(o5.name);y_=c9.dataSegment;F_=c9.context;F$=o5.yAxis;if(F$.flipped){N6=D2;D2=p_;p_=N6;}Q_=this.canvasStyle(D2);n6=this.canvasStyle(p_);this.canvasColor(D2);if(v6.border_color_up){F_.strokeStyle=v6.border_color_up;}q4=F_.strokeStyle;this.canvasColor(p_);if(v6.border_color_down){F_.strokeStyle=v6.border_color_down;}Y_=F_.strokeStyle;G6=1;if(Q_.width && parseInt(Q_.width,"10" | 8) <= 25){G6=Math.max(1,M_.stripPX(Q_.width));}b7=1;if(n6.width && parseInt(n6.width,10) <= 25){b7=Math.max(1,M_.stripPX(n6.width));}if(this.highlightedDraggable){F_.globalAlpha*=0.3;}F_.beginPath();M3=c9.dataSet.length - c9.scroll - +"1";E7=!!1;K$=null;V_=null;Y1=null;r6O.w7b(0);var B90=r6O.O80(16,5,81,0);r6O.O3H(1);var e1n=r6O.o4m(21,125,6);p7=o5.left - "0.5" * B90 * this.layout.candleWidth + this.micropixels - e1n;for(var n3=0;n3 <= y_.length;n3++){p7+=this.layout.candleWidth;h1=y_[n3];if(!h1)continue;if(!h1.cache || c9.pixelCacheExpired){h1.cache={};}if(h1.projection)break;Y1=h1.kagiTrend;if(F$.flipped){Y1*=-1;}if(h1.transform && c9.transformFunc){i0=h1.kagiPrevOpen;h1=h1.transform;h1.kagiPrevOpen=c9.transformFunc(this,c9,i0);}i$=h1.cache;r6O.O3H(2);K_=r6O.o4m(n3,M3);if(K_ < o5.cacheLeft || K_ > o5.cacheRight || !i$.kagiOpen){i$.kagiOpen=F$.semiLog?F$.height * (1 - (Math.log(Math.max(h1.Open,0)) / Math.LN10 - F$.logLow) / F$.logShadow):(F$.high - h1.Open) * F$.multiplier;i$.kagiClose=F$.semiLog?F$.height * (("1" << 32) - (Math.log(Math.max(h1.Close,0)) / Math.LN10 - F$.logLow) / F$.logShadow):(F$.high - h1.Close) * F$.multiplier;if(F$.flipped){i$.kagiOpen=F$.bottom - i$.kagiOpen;i$.kagiClose=F$.bottom - i$.kagiClose;}else {i$.kagiOpen+=F$.top;i$.kagiClose+=F$.top;}}V_=i$.kagiClose;K$=F$.semiLog?F$.height * (1 - (Math.log(Math.max(h1.kagiPrevOpen,0)) / Math.LN10 - F$.logLow) / F$.logShadow):(F$.high - h1.kagiPrevOpen) * F$.multiplier;if(F$.flipped){K$=F$.bottom - K$;}else {K$+=F$.top;}if(E7){F_.moveTo(M3 >= 0?o5.left:Math.floor(p7),i$.kagiOpen);F_.lineTo(Math.floor(p7),i$.kagiOpen);if(i$.kagiClose < i$.kagiOpen){F_.strokeStyle=q4;F_.lineWidth=G6;}else {F_.strokeStyle=Y_;F_.lineWidth=b7;}}else {if(Y1 != -("1" * 1) && i$.kagiClose < K$ && K$ < i$.kagiOpen){F_.lineTo(Math.floor(p7),K$);F_.stroke();F_.beginPath();F_.moveTo(Math.floor(p7),K$);F_.strokeStyle=q4;F_.lineWidth=G6;}else if(Y1 != 1 && i$.kagiClose > K$ && K$ > i$.kagiOpen){F_.lineTo(Math.floor(p7),K$);F_.stroke();F_.beginPath();F_.moveTo(Math.floor(p7),K$);F_.strokeStyle=Y_;F_.lineWidth=b7;}}F_.lineTo(Math.floor(p7),i$.kagiClose);if(n3 + 1 < y_.length){F_.lineTo(Math.floor(p7 + this.layout.candleWidth),i$.kagiClose);}E7=![];}F_.stroke();this.endClip();F_.lineWidth=+"1";r6O.B2i();c9.pixelCacheExpired=!({});};M_.ChartEngine.prototype.drawPointFigureChart=function(X4,j2,O0,Y7){var s8,P4,a2,f0,F9,Z1,I7,t_,l7,m9,G5,K7,P0,p$,O7,d8,S5,j6,C_,y8,K9,q8,w6,y6,L5,e2;s8=X4.chart;this.startClip(X4.name);P4=s8.dataSegment;a2=s8.context;this.canvasColor(j2);if(O0 == (+"337.18" >= (699.28,6333)?(0x14a,"a"):"X") && Y7.border_color_up){a2.strokeStyle=Y7.border_color_up;}else if(O0 == "O" && Y7.border_color_down){a2.strokeStyle=Y7.border_color_down;}f0=this.canvasStyle(j2);F9=parseInt(f0.paddingTop,10);function C3(c1,u1,y9){r6O.w7b(3);a2.moveTo(r6O.O80(u1,c1,2),r6O.O80(F9,y9,O7,r6O.O3H(4)));r6O.w7b(2);a2.bezierCurveTo(r6O.O80(t_,u1),r6O.O80(F9,y9,O7,r6O.O3H(4)),r6O.o4m(t_,u1,r6O.w7b(2)),r6O.O80(y9,O7,Z1,p$,r6O.O3H(5)),r6O.o4m(u1,c1,2,r6O.w7b(3)),r6O.o4m(y9,O7,Z1,p$,r6O.w7b(5)));r6O.O3H(6);a2.bezierCurveTo(r6O.O80(c1,I7),r6O.O80(y9,O7,Z1,p$,r6O.O3H(5)),r6O.o4m(c1,I7,r6O.O3H(6)),r6O.o4m(F9,y9,O7,r6O.w7b(4)),r6O.o4m(u1,c1,2,r6O.O3H(3)),r6O.o4m(F9,y9,O7,r6O.O3H(4)));}Z1=parseInt(f0.paddingBottom,10);I7=parseInt(f0.paddingLeft,10);t_=parseInt(f0.paddingRight,10);if(f0.width && parseInt(f0.width,10) <= +"25"){a2.lineWidth=Math.max(1,M_.stripPX(f0.width));}else {a2.lineWidth=2;}if(this.highlightedDraggable){r6O.w7b(7);a2.globalAlpha*=r6O.o4m(1,"0.3");}a2.beginPath();l7=this.chart.state.aggregation.box;r6O.O3H(8);var Z2r=r6O.o4m(18,17,2,2);m9=s8.dataSet.length - s8.scroll - Z2r;G5=X4.yAxis;p$=l7 * G5.multiplier;r6O.O3H(9);r6O.B2i();O7=r6O.O80(2,p$);d8=this.layout.candleWidth;r6O.O3H(10);var Z$M=r6O.o4m(23,2,17,9,3);S5=X4.left - d8 + this.micropixels - Z$M;function J5(x3,H$,Q0){r6O.O3H(2);a2.moveTo(r6O.o4m(I7,x3),r6O.O80(Z1,Q0,O7,r6O.O3H(11)));r6O.O3H(6);a2.lineTo(r6O.O80(H$,t_),r6O.O80(O7,p$,F9,Q0,r6O.w7b(12)));r6O.O3H(2);a2.moveTo(r6O.O80(I7,x3),r6O.o4m(O7,p$,F9,Q0,r6O.O3H(12)));r6O.w7b(6);a2.lineTo(r6O.o4m(H$,t_),r6O.o4m(Z1,Q0,O7,r6O.O3H(11)));}for(var H0=0;H0 < P4.length;H0++){S5+=d8;j6=P4[H0];if(!j6)continue;if(!j6.cache || s8.pixelCacheExpired){j6.cache={};}if(j6.projection)break;C_=j6.pfOpen;y8=j6.pfClose;K9=j6.pfTrend;q8=j6.pfStepBack;if(j6.transform && s8.transformFunc){j6=j6.transform;C_=s8.transformFunc(this,s8,C_);y8=s8.transformFunc(this,s8,y8);}w6=j6.cache;r6O.w7b(2);y6=r6O.O80(H0,m9);if(y6 < X4.cacheLeft || y6 > X4.cacheRight || !w6.pfOpen){if(G5.flipped){w6.pfOpen=G5.bottom - (G5.high - C_) * G5.multiplier;w6.pfClose=G5.bottom - (G5.high - y8) * G5.multiplier;}else {w6.pfOpen=(G5.high - C_) * G5.multiplier + G5.top;w6.pfClose=(G5.high - y8) * G5.multiplier + G5.top;}}L5=Math.round(S5);r6O.w7b(2);e2=Math.round(r6O.o4m(d8,S5));K7=Math.abs(Math.round((y8 - C_) / l7));P0=w6.pfOpen;if(O0 == q8){if(q8 == ((1872,4118) >= 6030?(575.17,1020) < ("3170" ^ 0,6250)?6.29e+3:875:"X")){r6O.w7b(6);J5(L5,e2,r6O.O80(P0,p$));}else if(q8 == (6770 == (444.26,615.25)?(187.27,380.57):"O")){r6O.w7b(2);C3(L5,e2,r6O.o4m(p$,P0));}}if(O0 == K9){for(;K7 >= "0" - 0;K7--){if(O0 == "X"){J5(L5,e2,P0);P0-=G5.flipped?-p$:p$;}else if(O0 == ((273.95,8267) < ("9050" << 32,861.42)?(!!1,556.29):"558.87" * 1 == +"1436"?3880 != (4250,"8870" ^ 0)?0x23b4:(0x1903,!!({})):"O")){C3(L5,e2,P0);P0+=G5.flipped?-p$:p$;}}}}a2.stroke();this.endClip();a2.lineWidth=1;s8.pixelCacheExpired=!1;};M_.ChartEngine.calculateAggregation=function(k0,X$,m4,D3){var t9s,g9t,O8k,Z6,P7;t9s="p";t9s+="and";t9s+="f";g9t="line";g9t+="b";g9t+="r";g9t+="eak";O8k="k";O8k+="a";O8k+="gi";P7=k0.layout;if(["heikinashi","heikenashi"].indexOf(X$) > -("1" | 0)){Z6=M_.calculateHeikinAshi(k0,m4,D3);}else if(X$ == "rangebars"){Z6=M_.calculateRangeBars(k0,m4,P7.rangebars,D3);}else if(X$ == O8k){Z6=M_.calculateKagi(k0,m4,P7.kagi,D3);}else if(X$ == g9t){Z6=M_.calculateLineBreak(k0,m4,P7.priceLines,D3);}else if(X$ == "renko"){Z6=M_.calculateRenkoBars(k0,m4,P7.renko,D3);}else if(X$ == t9s){Z6=M_.calculatePointFigure(k0,m4,P7.pandf,D3);}return Z6;};M_.calculateHeikinAshi=function(k_,G_,g5){var d27,F60,b9f,k3,l_,n4,s7,F0,s4,d5,N5,l0,S6,n_;d27=-884606899;F60=-500553848;b9f=2;for(var N0c="1" << 32;r6O.d8W(N0c.toString(),N0c.toString().length,+"11353") !== d27;N0c++){if(+G_.length){return G_;}if(-g5){g5=[];}b9f+=2;}if(r6O.d8W(b9f.toString(),b9f.toString().length,46130) !== F60){if(-G_.length){return G_;}if(!g5){g5=[];}}if(!G_.length){return G_;}if(!g5){g5=[];}k3=[];for(var B5=0;B5 < G_.length;B5++){l_=G_[B5];if(!l_)continue;r6O.w7b(13);var W6G=r6O.o4m(16,2,16,0);n4=k3[k3.length - W6G];if(!n4 && !B5){r6O.w7b(14);var u0t=r6O.O80(3,1,6,15);n4=g5[g5.length - u0t];}if(!n4){n4=l_;}s7=l_.Close;F0=l_.Open;s4=l_.High;d5=l_.Low;N5=n4.Open;F0=F0 || F0 === 0?F0:s7;s4=s4 || s4 === 0?s4:s7;d5=d5 || d5 === 0?d5:s7;N5=N5 || N5 === 0?N5:n4.Close;r6O.w7b(15);var t02=r6O.o4m(17,6,12,19,16);l0=(N5 + n4.Close) / t02;r6O.O3H(16);S6=r6O.O80(4,F0,s7,d5,s4);n_={DT:l_.DT,displayDate:l_.displayDate,Date:l_.Date,Open:l0,Close:S6,High:Math.max(s4,Math.max(l0,S6)),Low:Math.min(d5,Math.min(l0,S6)),Volume:l_.Volume,iqPrevClose:n4.Close};for(var N2 in l_){if(!n_[N2] && n_[N2] !== 0){n_[N2]=l_[N2];}}k3.push(n_);}return k3;};M_.calculateKagi=function(z$,g4,V4,h9){var r3,F1,z5E,B$,M$,O_,D0,Q6,K1;if(!g4.length){return g4;}if(!h9){h9=[];}r3=z$.layout;F1=z$.chart;V4=parseFloat(V4);F1.defaultChartStyleConfig.kagi=M_.ChartEngine.isDailyInterval(r3.interval)?4:0.4;if(isNaN(V4) || V4 <= 0){V4=F1.defaultChartStyleConfig.kagi;if(M_.Market.Symbology.isForexSymbol(F1.symbol)){V4/=4;}if(r3.kagi !== null){z5E="l";z5E+="ay";z5E+="out";r3.kagi=null;z$.changeOccurred(z5E);}}V4/=100;B$=[];r6O.O3H(17);var j50=r6O.O80(6,7);M$=h9[h9.length - j50];O_=M$?M$.DT:0;for(var B3=0;B3 < g4.length;B3++){D0=g4[B3];if(!D0)continue;if(!M$){r6O.w7b(6);M$=g4[r6O.o4m(B3,1)];}if(!M$)continue;Q6=M$.Open || M$.Open === 0?M$.Open:M$.Close;if(Q6 > M$.Close){if(D0.Close > M$.Close * (("1" ^ 0) + V4)){D0.Open=M$.Close;}else {if(M$.Close > D0.Close){M$.Close=D0.Close;}M$.Volume+=D0.Volume;if(B3 < g4.length - 1)continue;}}else if(Q6 < M$.Close){if(D0.Close < M$.Close * (1 - V4)){D0.Open=M$.Close;}else {if(M$.Close < D0.Close){M$.Close=D0.Close;}M$.Volume+=D0.Volume;if(B3 < g4.length - 1)continue;}}else {M$.Close=D0.Close;M$.Volume+=D0.Volume;if(B3 < g4.length - 1)continue;}K1={DT:M$.DT,displayDate:M$.displayDate,Date:M$.Date,Open:M$.Open,Close:M$.Close,High:Math.max(M$.Open,M$.Close),Low:Math.min(M$.Open,M$.Close),Volume:M$.Volume,iqPrevClose:M$.iqPrevClose};for(var V8 in M$){if(!K1[V8] && K1[V8] !== 0){K1[V8]=M$[V8];}}if(B$.length){K1.kagiPrevOpen=B$[B$.length - 1].Open;}else {K1.kagiPrevOpen=K1.Open;}if(K1.Close > K1.kagiPrevOpen && K1.kagiPrevOpen > K1.Open){K1.kagiTrend=+"1";}else if(K1.Close < K1.kagiPrevOpen && K1.kagiPrevOpen < K1.Open){K1.kagiTrend=-+"1";}if(O_ < K1.DT){B$.push(K1);}M$=D0;F1.currentQuote={Close:D0.Close};}return B$;};M_.calculateLineBreak=function(G1,q2,d$,a4){var S4,b3,B5U,Y5,R3,v5,r_,B7,c$,v_,d6,Q7,G0,D9,g2;if(!q2.length){return q2;}if(!a4){a4=[];}S4=G1.layout;b3=G1.chart;b3.defaultChartStyleConfig.priceLines=3;d$=parseInt(d$,10);if(isNaN(d$) || d$ <= "0" * 1){d$=b3.defaultChartStyleConfig.priceLines;if(S4.priceLines !== null){B5U="layou";B5U+="t";S4.priceLines=null;G1.changeOccurred(B5U);}}else if(d$ > 10){S4.priceLines=d$=10;}Y5=a4.slice(-d$);R3=Y5.length;v5=0;a:for(var e0=0;e0 < q2.length;e0++){r_=q2[e0];if(!r_)continue;v5+=r_.Volume;r6O.w7b(18);var I3i=r6O.o4m(13,6,2,13);B7=Y5[Y5.length - I3i];if(!B7){B7={Open:r_.Open,Close:r_.Open,High:r_.Open,Low:r_.Open};}c$=B7.Close;v_=B7.High;d6=B7.Low;Q7=B7.Open;v_=v_ || v_ === +"0"?v_:c$;d6=d6 || d6 === 0?d6:c$;Q7=Q7 || Q7 === "0" * 1?Q7:c$;G0={DT:r_.DT,displayDate:r_.displayDate,Date:r_.Date,Close:r_.Close,Volume:v5,iqPrevClose:c$};b3.currentQuote={Close:r_.Close};if(r_.Close > c$ && B7.Close > Q7){}else if(r_.Close < c$ && B7.Close < Q7){}else if(r_.Close > v_){for(D9=2;D9 <= d$;D9++){g2=Y5[Y5.length - D9];if(g2 && r_.Close <= g2.High){continue a;}}}else if(r_.Close < d6){for(D9=2;D9 <= d$;D9++){g2=Y5[Y5.length - D9];if(g2 && r_.Close >= g2.Low){continue a;}}}else continue;if(r_.Close < B7.Close){G0.Open=Math.min(Q7,c$);}else {G0.Open=Math.max(Q7,c$);}G0.Low=Math.min(G0.Open,G0.Close);G0.High=Math.max(G0.Open,G0.Close);for(var d9 in r_){if(!G0[d9] && G0[d9] !== 0){G0[d9]=r_[d9];}}Y5.push(G0);v5=0;}return Y5.slice(R3);};r6O.B2i();function m3(t5){return t5 > 0.001?Number(t5.toFixed(+"4")):t5;}M_.getMaxRenkoBarsPerRecord=function(j0){return 200;};M_.calculateRenkoBars=function(n0,i9,T4,h7,A4){var w2,Y0,W2,D4,f5,p1W,P3,u8,l3,O8,V3,i7,o3,a7,e3,a5,g_,A5,R9,U$,o8,V0,U5,n7,L_,A9,I2;r6O.y4d();if(!i9.length){return [];}function N4(R0,H4){var w4;R0=Number(R0.toFixed(+"8"));H4=Number(H4.toFixed(8));r6O.y4d();w4={DT:a5.DT,displayDate:a5.displayDate,Date:a5.Date,Open:R0,Close:H4,High:Math.max(R0,H4),Low:Math.min(R0,H4),Volume:"0" ^ 0,iqPrevClose:R0 != H4?R0:null};for(var F6 in a5){if(!w4[F6] && w4[F6] !== 0){w4[F6]=a5[F6];}}o3.push(w4);}if(!h7){h7=[];}w2=n0.layout;Y0=n0.chart;W2=T4;D4=Y0.state.aggregation;if(!D4){D4=Y0.state.aggregation={};}f5=Math.min(+"300",i9.length);if(!D4.minMax){p1W="Lo";p1W+="w";D4.minMax=n0.determineMinMax(i9.slice(i9.length - f5),["Close","High",p1W]);}r6O.O3H(19);var J_8=r6O.O80(12,32,2,19);P3=D4.minMax[J_8] - D4.minMax[0];u8=n0.panels[Y0.name].height;if(!u8){return [];}l3=h7.length > 0;r6O.O3H(20);O8=m3(r6O.o4m(P3,30,u8));V3=M_.getMaxRenkoBarsPerRecord(Y0.symbolObject);if(A4){i7=i9.reduce((E4,b8)=>{var o6;o6=Math.abs(b8.Close - b8.iqPrevClose);r6O.B2i();return o6 > E4?o6:E4;},0);r6O.w7b(9);D4.minAutoRenko=m3(r6O.O80(V3,i7));}Y0.defaultChartStyleConfig.renko=D4.minAutoRenko || O8;if(T4 === null || isNaN(T4) || T4 <= 0){T4=Y0.defaultChartStyleConfig.renko;if(w2.renko !== null){w2.renko=null;n0.changeOccurred("layout");}}else {r6O.w7b(9);T4=Math.max(T4,r6O.o4m(u8,P3));if(w2.renko !== T4){w2.renko=T4;n0.changeOccurred("layout");}}o3=[];a7=null;e3=null;a5=null;if(h7.length){r6O.w7b(6);var G$W=r6O.O80(3,2);g_=h7[h7.length - G$W];a7=g_.Low - T4;e3=g_.High + T4;}for(var G$=0;G$ < i9.length;G$++){A5=i9[G$];if(!A5)continue;if(!a7 && !e3){R9=A5.Open || A5.Open === "0" - 0?A5.Open:A5.Close;U$=Math.floor(R9 / T4) * T4;o8=isNaN(U$)?R9:U$;r6O.O3H(6);a7=r6O.O80(o8,T4);r6O.w7b(2);e3=r6O.o4m(T4,o8);}r6O.w7b(7);V0=r6O.O80(V3,T4);U5=!w2.renko;n7=a7 - A5.Close;L_=A5.Close - e3;A9=n7 > V0 || L_ > V0;I2=U5 && A9 && !A4 && !l3;if(I2){return M_.calculateRenkoBars(n0,i9,W2,h7,!![]);}while(!![]){if(!a5){a5=A5;}if(A5.Close <= a7){r6O.w7b(2);N4(r6O.o4m(T4,a7),a7);r6O.O3H(21);e3=r6O.O80(T4,2,a7);a7-=T4;a5=null;}else if(A5.Close >= e3){r6O.O3H(6);N4(r6O.o4m(e3,T4),e3);r6O.O3H(22);a7=r6O.o4m(2,e3,T4);e3+=T4;a5=null;}else break;}Y0.currentQuote=A5;}if(a7 < i9[i9.length - 1].Close && a7 + T4 > i9[i9.length - 1].Close){r6O.w7b(2);N4(r6O.O80(T4,a7),i9[i9.length - 1].Close);}else if(e3 > i9[i9.length - 1].Close && e3 - T4 < i9[i9.length - +"1"].Close){r6O.O3H(6);N4(r6O.O80(e3,T4),i9[i9.length - 1].Close);}return o3;};M_.calculateRangeBars=function(m$,W9,Q3,W6){var g7,U0,R$,m_,p4,W7,E9,C9,b_,J0,z2,G3,V2,v3,M7,q7,a8,c3,L0,X8;if(!W9.length){return W9;}if(!W6){W6=[];}g7=m$.layout;U0=m$.chart;function f_(N3){var t1;t1={DT:G3.DT,displayDate:G3.displayDate,Date:G3.Date,Open:Number(z2.toFixed(8)),Close:Number(N3.toFixed(8)),High:Number(b_.toFixed(8)),Low:Number(J0.toFixed(+"8")),Volume:0};t1.iqPrevClose=t1.Open;for(var J9 in G3){if(!t1[J9] && t1[J9] !== +"0"){t1[J9]=G3[J9];}}E9.push(t1);}R$=U0.state.aggregation;if(!R$){R$=U0.state.aggregation={};}m_=Math.min(+"300",W9.length);function S2(){r6O.O3H(2);b_=r6O.O80(Q3,C9);r6O.w7b(6);J0=r6O.o4m(C9,Q3);z2=C9;}if(!R$.minMax){R$.minMax=m$.determineMinMax(W9.slice(W9.length - m_),["Close","High","Low"]);}p4=R$.minMax[+"1"] - R$.minMax[0];W7=m$.panels[U0.name].height;if(!W7){return [];}r6O.O3H(20);U0.defaultChartStyleConfig.range=m3(r6O.o4m(p4,30,W7));function W0(Z$,L8){r6O.B2i();var S2i,s7O;while(+"1"){S2i="u";S2i+="nd";S2i+="efined";if(!G3){G3=Z$;}if(C9 < L8){C9=Math.min(L8,b_);r6O.O3H(6);J0=Math.max(J0,r6O.o4m(C9,Q3));if(L8 < b_)break;}else if(C9 >= L8){C9=Math.max(L8,J0);r6O.w7b(2);b_=Math.min(b_,r6O.o4m(Q3,C9));if(L8 > J0)break;}if(typeof C9 == S2i){s7O="Uh oh undefined in calculateRangeBars:pro";s7O+="cessMove";console.log(s7O);return;}f_(C9);G3=null;S2();}}if(Q3 === null || isNaN(Q3) || Q3 < 0){Q3=U0.defaultChartStyleConfig.range;if(g7.range !== null){g7.range=null;m$.changeOccurred("layout");}}else {r6O.w7b(9);Q3=Math.max(Q3,r6O.o4m(W7,p4));if(g7.range !== Q3){g7.range=Q3;m$.changeOccurred("layout");}}E9=[];C9=null;b_=null;J0=null;z2=null;G3=null;for(var d_=0;d_ < W9.length;d_++){V2=W9[d_];if(!V2)continue;r6O.w7b(6);v3=W9[r6O.O80(d_,1)];if(!d_){if(!v3){r6O.w7b(23);var a5W=r6O.o4m(6,13,93,16);v3=W6[W6.length - a5W];}if(v3){C9=v3.Close;if(C9 || C9 === 0){S2();}}}if(!v3)continue;M7=V2.Close;q7=V2.Open;a8=V2.High;c3=V2.Low;if(!M7 && M7 !== 0)continue;q7=q7 || q7 === 0?q7:M7;a8=a8 || a8 === 0?a8:M7;c3=c3 || c3 === 0?c3:M7;if(!C9 && C9 !== 0){L0=Math.floor(q7 / Q3) * Q3;C9=isNaN(L0)?q7:L0;S2();W0(v3,q7);}if(d_){W0(V2,q7);}if(a8 - q7 < q7 - c3){if(a8){W0(V2,a8);}if(c3){W0(V2,c3);}}else {if(c3){W0(V2,c3);}if(a8){W0(V2,a8);}}W0(V2,M7);if(d_ == W9.length - 1 && M7 != z2){X8=b_;r6O.w7b(2);b_=r6O.O80(Q3,J0);r6O.O3H(6);J0=r6O.O80(X8,Q3);f_(M7);}}return E9;};M_.calculatePointFigure=function(J1,G8,n9,B0){var W_,i1,L6,S_,I0,I8,L7S,h6,S1,B4,f9,L4,m0,c7,u4,L3,P2,m2,M4,Y9;if(!G8.length){return G8;}if(!B0){B0=[];}W_=J1.layout;i1=J1.chart;function U7(Y6,w0){for(var w5 in Y6){if(!w0[w5] && w0[w5] !== 0){w0[w5]=Y6[w5];}}r6O.y4d();return w0;}L6=i1.state.aggregation;if(!L6){L6=i1.state.aggregation={};}i1.defaultChartStyleConfig.box=1;i1.defaultChartStyleConfig.reversal=3;if(!n9){n9={};}S_=n9.box;if(!S_){if(W_.pandf){if(W_.pandf.box !== null){W_.pandf.box=null;J1.changeOccurred("layout");}}S_=i1.defaultChartStyleConfig.box;I0=G8[G8.length - 1].Close;if(I0){if(I0 < "0.25" * 1){S_=0.0625;}else if(I0 < "1" >> 32){S_=+"0.125";}else if(I0 < "5" * 1){r6O.O3H(7);S_=r6O.O80(1,"0.25");}else if(I0 < 20){S_=0.5;}else if(I0 < 100){S_=1;}else if(I0 < 200){S_=2;}else if(I0 < 500){S_=4;}else if(I0 < 1000){S_=5;}else if(I0 < 25000){S_=50;}else {S_=500;}}if(!M_.ChartEngine.isDailyInterval(W_.interval)){S_/=10;}if(M_.Market.Symbology.isForexSymbol(i1.symbol)){if(I0){if(I0 < 1){S_=0.001;}else if(I0 < ("2" | 0)){S_=0.002;}else if(I0 < 50){S_=0.02;}else if(I0 < 200){S_=0.2;}}if(M_.ChartEngine.isDailyInterval(W_.interval)){S_*=10;}}i1.defaultChartStyleConfig.box=S_;}S_=parseFloat(S_);if(isNaN(S_) || S_ <= 0){if(W_.pandf){if(W_.pandf.box !== null){W_.pandf.box=null;J1.changeOccurred("layout");}}i1.defaultChartStyleConfig.box=S_=1;}I8=Math.ceil(parseFloat(n9.reversal));if(I8 > 0 && I8 > n9.reversal){L7S="la";L7S+="y";L7S+="o";L7S+="ut";W_.pandf.reversal=I8;J1.changeOccurred(L7S);}else if(isNaN(I8) || I8 <= 0){if(W_.pandf){if(W_.pandf.reversal !== null){W_.pandf.reversal=null;J1.changeOccurred("layout");}}I8=i1.defaultChartStyleConfig.reversal;}L6.box=S_;function h2(p8,c0,e$,I4,u_,u0,f3,M5,a_){r6O.y4d();return {DT:p8.DT,Date:p8.Date,pfOpen:M5,pfClose:a_,Open:c0,Close:u_,High:e$,Low:I4,Volume:u0,iqPrevClose:f3};}I8*=S_;h6=+"0.00000001";S1=(S_.toString() + (429.66 <= (4402,"350" << 0)?!![]:".")).split(".")[1].length;B4=[];f9=0;for(var j8=0;j8 < G8.length;j8++){m0=G8[j8];if(!m0)continue;f9+=m0.Volume;u4=m0.Close;L3=m0.Open;P2=m0.High;m2=m0.Low;L3=L3 || L3 === 0?L3:u4;P2=P2 || P2 === 0?P2:u4;m2=m2 || m2 === 0?m2:u4;if(!B4.length && !B0.length){L4=U7(m0,h2(m0,L3,P2,m2,u4,f9,P2 + S_,Number((Math.ceil(m2 / S_ - h6) * S_).toFixed(S1)),Number((Math.floor(P2 / S_ + h6) * S_).toFixed(S1))));L4.pfTrend=(7861,+"3910") == +"489.41"?0xf35:5290 < 5399?"X":(+"255.05",+"142.52") >= (2510,+"302")?"b":(425.84,!!({}));if(L4.pfOpen == L4.pfClose){L4.pfStepBack=("1230" * 1,2020) === (7248,+"8340")?244.16 >= 897.2?!"":(+"6940",7720) != ("3765" >> 32,7574)?(905.19,"l"):"i":"-";}B4.push(L4);f9=0;continue;}r6O.w7b(24);var X_L=r6O.O80(19,13,1,318,16);c7=B4[B4.length - X_L];if(!c7){c7=M_.clone(B0[B0.length - 1]);}if(c7.pfTrend == ((7590,794.89) > (1374,4430)?222 < (590.7,"804.55" * 1)?(![],0x1dd6):(0xa57,0x13e4):"O")){if(m2 <= c7.pfClose - S_){c7.pfClose=Number((Math.ceil(m2 / S_ - h6) * S_).toFixed(S1));if(c7.pfStepBack == ((377.73,4930) !== 7681?(8036,6200) === (627.61,936.45)?6485 !== (5500,1370)?(8.11e+3,!!""):(![],0x5b0):"O":"M")){c7.pfStepBack=null;}i5(c7,P2,m2,u4,f9);}else if(P2 >= c7.pfClose + I8){M4=c7.pfClose + S_;Y9=Number((Math.floor(P2 / S_ + h6) * S_).toFixed(S1));L4=h2(m0,L3,P2,m2,u4,f9,c7.pfClose,M4,Y9);if(M4 == Y9){L4.pfStepBack="X";}if(c7.pfStepBack == ((5860,2932) < 966?7730 != +"784.5"?(416,7276) > (4590,5982)?(!!0,+"8.94e+3"):("897.60" - 0,"Q"):(0x22c5,425.24):"O")){c7.pfOpen=M4;c7.pfClose=Y9;c7.pfTrend=(9582,1323) > +"9110"?(509.68,!"1"):+"7517" >= (825.24,6294)?"X":(4.50e+3,"d");i5(c7,P2,m2,u4,f9);}else {L4=U7(m0,L4);L4.pfTrend="X";B4.push(L4);}}else {i5(c7,P2,m2,u4,f9);}f9=0;}else if(c7.pfTrend == (+"6510" > 5770?1600 != 4120?862.33 === 3245?2.43e+3:"X":!1:("112.77" - 0,"D"))){if(P2 >= c7.pfClose + S_){c7.pfClose=Number((Math.floor(P2 / S_ + h6) * S_).toFixed(S1));if(c7.pfStepBack == ((2923,3270) > "990" - 0?(55.97,9395) !== 4872?"X":"326.33" * 1 >= ("8460" ^ 0)?6.20e+2:"838.09" * 1:(0x15f9,!!1)) || c7.pfStepBack == ((3000,783.09) >= (2730,562.42)?(7320,2560) != 8125?"-":(6484,419) < 9920?(4.26e+3,334.51):7.08e+3:8.73e+3)){c7.pfStepBack=null;}i5(c7,P2,m2,u4,f9);}else if(m2 <= c7.pfClose - I8){M4=c7.pfClose - S_;Y9=Number((Math.ceil(m2 / S_ - h6) * S_).toFixed(S1));L4=h2(m0,L3,P2,m2,u4,f9,c7.pfClose,M4,Y9);if(M4 == Y9){L4.pfStepBack="O";}if(c7.pfStepBack == ((7120,5020) < 9072?"X":(!({}),!![])) || c7.pfStepBack == (+"426.13" === (6647,857)?449.34:"-")){c7.pfOpen=M4;c7.pfClose=Y9;c7.pfTrend=(7380,"432.09" * 1) != (8543,104)?"O":(982,2400) <= ("2262" | 86)?2.19e+2:(77,"5623" * 1) != (+"5960",2943)?"s":(!![],![]);i5(c7,P2,m2,u4,f9);if(M4 != Y9 && c7.pfStepBack == ((313,562.88) > (451.24,8520)?(+"2895",+"781") === (4610,994.35)?681.45:!!"":"-")){c7.pfStepBack=null;}}else {L4=U7(m0,L4);L4.pfTrend=(5334,843) > (+"8894",4790)?("J","r"):"O";B4.push(L4);}}else {i5(c7,P2,m2,u4,f9);}f9=0;}}function i5(U2,I9,o1,W4,y7){U2.High=Math.max(I9,U2.High);r6O.B2i();U2.Low=Math.min(o1,U2.Low);U2.Close=W4;U2.Volume+=y7;}return B4;};};X=F8=>{var P1m=B9olJ;var p0k,r2,Z8,Q1h,P39,X0r,D6Z,d8D,C9$,A1U,T5g,z$z,f3T,g24,U6T,y7s,y4B,B5x,Y8E,S01,Q4l,x_v,V8Q,s6v,u6_,G4M,y5K;p0k="undef";p0k+="ine";p0k+="d";r2=typeof _CIQ !== p0k?_CIQ:F8.CIQ;Z8=typeof _timezoneJS !== "undefined"?_timezoneJS:F8.timezoneJS;if(!r2.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {Q1h="fon";Q1h+="t";P39="l";P39+="ineWi";P39+="dt";P39+="h";X0r="c";X0r+="ol";X0r+="or";D6Z="axis";D6Z+="Label";d8D="f";d8D+="illColor";C9$="p";C9$+="attern2";A1U="ac";A1U+="tiv";A1U+="e";A1U+="2";T5g="c";T5g+="olor";z$z="lin";z$z+="eWi";z$z+="dth";f3T="f";f3T+="illC";f3T+="o";f3T+="lor";g24="p";g24+="ar";g24+="a";g24+="meters";U6T="pat";U6T+="t";U6T+="ern";y7s="t";y7s+="z";y4B="p";y4B+="l";B5x="p";B5x+="t";Y8E="p";Y8E+="at";Y8E+="ter";Y8E+="n";S01="colo";S01+="r";Q4l="p";Q4l+="at";Q4l+="ter";Q4l+="n";x_v="l";x_v+="ineWi";x_v+="dth";V8Q="co";V8Q+="lor";s6v="pa";s6v+="tt";s6v+="er";s6v+="n";u6_="pa";u6_+="tter";u6_+="n";G4M="lin";G4M+="eWidth";y5K="col";y5K+="or";r2.Drawing.ray=function(){P1m.y4d();this.name="ray";};r2.inheritsFrom(r2.Drawing.ray,r2.Drawing.line);r2.Drawing.ray.prototype.adjust=function(){var R1;R1=this.stx.panels[this.panelName];if(!R1){return;}this.setPoint(0,this.d0,this.v0,R1.chart);this.setPoint(1,this.d1,this.v1,R1.chart);if(r2.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(+"1",this.d1B,this.v1B,R1.chart);}};r2.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};r2.inheritsFrom(r2.Drawing.continuous,r2.Drawing.segment);r2.Drawing.continuous.prototype.click=function(V6,C2,h_){var l5,b0,R6,S9,M6;l5=this.stx;b0=l5.panels[this.panelName];if(!b0){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,C2,h_,b0.chart);this.penDown=!![];return !1;}if(this.accidentalClick(C2,h_)){l5.undo();return !0;}this.setPoint(1,C2,h_,b0.chart);R6=r2.Drawing.segment;S9=new R6();M6=this.serialize(l5);S9.reconstruct(l5,M6);P1m.B2i();l5.addDrawing(S9);l5.changeOccurred("vector");l5.draw();S9++;if(this.maxSegments && this.segment > this.maxSegments){return !!({});}P1m.w7b(25);this.setPoint(P1m.O80("0",64),C2,h_,b0.chart);return ![];};r2.Drawing.ellipse=function(){var B0m;B0m="ell";B0m+="i";B0m+="pse";this.name=B0m;};r2.inheritsFrom(r2.Drawing.ellipse,r2.Drawing.BaseTwoPoint);r2.Drawing.ellipse.prototype.render=function(g$){var F8j,e7,q6,f6,c5,N_,g1,I5,J7,l8,R_,B8,z_,k9,I_,s$,h8,a1;F8j="a";F8j+="u";F8j+="t";F8j+="o";e7=this.stx;q6=e7.panels[this.panelName];f6=e7.getYAxisByField(q6,this.field);if(!q6 || this.field && !f6){return;}c5=e7.pixelFromTick(this.p0[0],q6.chart);N_=e7.pixelFromTick(this.p1[0],q6.chart);g1=this.pixelFromValue(q6,this.p0[0],this.p0[1],f6);I5=this.pixelFromValue(q6,this.p1[0],this.p1[1],f6);P1m.O3H(26);J7=P1m.o4m(N_,c5,c5);l8=N_;R_=g1;B8=I5;P1m.O3H(26);z_=P1m.O80(I5,g1,g1);P1m.w7b(27);k9=P1m.O80(B8,z_,6);I_=this.lineWidth;if(!I_){I_=1.1;}s$=this.color;if(s$ == "auto" || r2.isTransparent(s$)){s$=this.getLineColor();}if(this.highlighted && I_ == 0.1){I_=1.1;}h8=this.fillColor;g$.beginPath();g$.moveTo(J7,R_);P1m.O3H(2);g$.bezierCurveTo(J7,P1m.O80(k9,B8),l8,P1m.O80(k9,B8),l8,R_);P1m.O3H(6);g$.bezierCurveTo(l8,P1m.o4m(z_,k9),J7,P1m.O80(z_,k9),J7,R_);if(h8 && !r2.isTransparent(h8) && h8 != F8j){g$.fillStyle=h8;g$.globalAlpha=0.2;g$.fill();g$.globalAlpha=1;}if(s$ && this.pattern != "none"){g$.strokeStyle=s$;g$.lineWidth=I_;if(g$.setLineDash){g$.setLineDash(r2.borderPatternToArray(I_,this.pattern));g$.lineDashOffset=0;}g$.stroke();}g$.closePath();if(this.highlighted){a1=this.highlighted == "p1"?!![]:!({});this.littleCircle(g$,N_,I5,a1);}};r2.Drawing.ellipse.prototype.intersected=function(h4,C0,w1){var r5,s6,T9,g8,N8,A2N,G1C,N_K,T1;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1["0" - 0],this.p1[1],w1)){this.highlighted="p1";return {action:"drag",point:"p1"};}P1m.w7b(28);var T_N=P1m.O80(1,8,17,55);r5=this.p0["0" >> T_N] - (this.p1[0] - this.p0[0]);s6=this.p1[0];T9=this.p1[+"1"];P1m.w7b(6);var V1p=P1m.o4m(9,8);P1m.w7b(1);var q3H=P1m.O80(7,90,13);g8=this.p0[V1p] - (this.p1[+"1"] - this.p0[q3H]);var {x0:A1, x1:X2, y0:w3, y1:F3, cy0:A7, cy1:M1}=w1;if(A1 > Math.max(r5,s6) || X2 < Math.min(r5,s6)){return !!0;}var {field:T8, panelName:d3, stx:q_}=this;if(T8){N8=q_.panels[d3];A2N=-1295504080;G1C=-247216334;N_K=2;for(var Z5K=1;P1m.d8W(Z5K.toString(),Z5K.toString().length,92615) !== A2N;Z5K++){T1=q_.getYAxisByField(N8,T8);w3=this.valueFromPixel(A7,N8,T1);N_K+=2;}if(P1m.d8W(N_K.toString(),N_K.toString().length,71866) !== G1C){T1=q_.getYAxisByField(N8,T8);w3=this.valueFromPixel(A7,N8,T1);}F3=this.valueFromPixel(M1,N8,T1);}if(F3 > Math.max(g8,T9) || w3 < Math.min(g8,T9)){return !"1";}P1m.B2i();this.highlighted=!"";return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:h4,value:this.valueOnDrawingAxis(h4,C0)};};r2.Drawing.ellipse.prototype.configs=[y5K,"fillColor",G4M,"pattern"];r2.Drawing.ellipse.prototype.reconstruct=function(h3,u5){this.stx=h3;this.color=u5.col;this.fillColor=u5.fc;this.panelName=u5.pnl;this.pattern=u5.ptrn;this.lineWidth=u5.lw;this.d0=u5.d0;this.d1=u5.d1;this.tzo0=u5.tzo0;this.tzo1=u5.tzo1;this.v0=u5.v0;this.v1=u5.v1;this.field=u5.fld;this.adjust();};r2.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};r2.Drawing.channel=function(){P1m.y4d();this.name="channel";this.dragToDraw=!({});this.p2=null;};r2.inheritsFrom(r2.Drawing.channel,r2.Drawing.segment);r2.Drawing.channel.prototype.configs=["color","fillColor","lineWidth",u6_];r2.Drawing.channel.prototype.move=function(J8,k7,Z5){P1m.y4d();var z6;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[k7,Z5];}else {P1m.O3H(2);var B63=P1m.o4m(1,0);P1m.w7b(29);var g2w=P1m.o4m(24,9,2,17);z6=Z5 - (this.p1[B63] - this.p0[g2w]) / (this.p1[0] - this.p0[0]) * (k7 - this.p1[0]);this.p2=[this.p1[0],z6];}this.render(J8);};r2.Drawing.channel.prototype.click=function(K5,S0,P_){var E1,l$,A5q,F39,u7f;E1=this.stx;l$=E1.panels[this.panelName];if(!l$){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,S0,P_,l$.chart);this.penDown=!![];return ![];}if(this.accidentalClick(S0,P_)){A5q=835589318;F39=289310796;u7f=2;for(var j3V=1;P1m.U7z(j3V.toString(),j3V.toString().length,+"96097") !== A5q;j3V++){E1.undo();return !1;}if(P1m.d8W(u7f.toString(),u7f.toString().length,11818) !== F39){E1.undo();return !![];}}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],l$.chart);this.penDown=!!0;return !![];}P1m.O3H(6);this.setPoint(P1m.o4m("1",0),S0,P_,l$.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !1;}this.p2=[this.p1[0],this.p1[1]];return ![];};r2.Drawing.channel.prototype.boxIntersection=function(q3,D_,B2){var N$,E3,Z2,U1;var {p0:H6, p1:F5, p2:k1}=this;if(!H6 || !F5 || !k1){return !({});}var {x0:t$, x1:n5, y0:A8, y1:v4, cy0:Q$, cy1:I$}=B2;if(t$ > Math.max(H6[0],F5[0]) || n5 < Math.min(H6[0],F5[0])){return !({});}var {field:t7, panelName:b6, stx:N7}=this;if(t7){N$=N7.panels[b6];E3=N7.getYAxisByField(N$,t7);A8=this.valueFromPixel(Q$,N$,E3);v4=this.valueFromPixel(I$,N$,E3);}P1m.w7b(30);var o4l=P1m.o4m(14,17,9,9,99);P1m.w7b(4);var o$H=P1m.O80(18,11,28);P1m.w7b(31);var k4C=P1m.O80(10,18,9);P1m.w7b(2);var f46=P1m.O80(1,0);Z2=(F5[0] - H6[0]) * ((k1[o4l] < H6[o$H]?v4:A8) - H6[k4C]) - (F5["1" | 0] - H6[f46]) * (q3 - H6[0]);P1m.O3H(6);var s9a=P1m.o4m(83,19);P1m.O3H(17);var v1R=P1m.o4m(11,12);P1m.w7b(32);var i9W=P1m.o4m(0,0,5,21,16);P1m.w7b(4);var h_P=P1m.O80(7,0,6);P1m.w7b(33);var J3J=P1m.o4m(0,10,10);P1m.O3H(19);var J90=P1m.o4m(8,25,18,0);U1=(k1[0] - H6[0]) * ((k1["1" << s9a] > H6[v1R]?v4:A8) - (H6[i9W] + k1[h_P] - F5[J3J])) - (F5["1" - 0] - H6[J90]) * (q3 - H6[0]);P1m.O3H(34);return P1m.O80(0,U1,"0",Z2);};r2.Drawing.channel.prototype.intersected=function(Y2,L$,D6){var o7,s2A;if(!this.p0 || !this.p1 || !this.p2){return null;}o7={0:this.p0,1:this.p1,2:this.p2};for(var x5 in o7){if(this.pointIntersection(o7[x5][0],o7[x5][1],D6)){P1m.w7b(2);this.highlighted=P1m.o4m(x5,284.33 != (+"6908","491.41" - 0)?"p":(0x2c1,4.51e+3));return {action:"drag",point:"p" + x5};}}if(this.boxIntersection(Y2,L$,D6)){s2A="m";s2A+="o";s2A+="ve";this.highlighted=!"";return {action:s2A,p0:r2.clone(this.p0),p1:r2.clone(this.p1),p2:r2.clone(this.p2),tick:Y2,value:this.valueOnDrawingAxis(Y2,L$)};}return null;};r2.Drawing.channel.prototype.render=function(b4){var F9G,f4,T0,z8,J3,r1,q$,l1,P9,u2,I3,W$,Z4,k3g,t9,J$,q5;F9G="d";F9G+="ott";F9G+="e";P1m.y4d();F9G+="d";f4=this.stx;T0=f4.panels[this.panelName];z8=f4.getYAxisByField(T0,this.field);if(!T0 || this.field && !z8){return;}J3=f4.pixelFromTick(this.p0[+"0"],T0.chart);r1=f4.pixelFromTick(this.p1["0" - 0],T0.chart);q$=this.pixelFromValue(T0,this.p0[0],this.p0[1],z8);l1=this.pixelFromValue(T0,this.p1[0],this.p1[1],z8);P9=null;if(this.p2){P9=this.pixelFromValue(T0,this.p2[0],this.p2[1],z8);}u2=this.lineWidth;I3=this.getLineColor();W$=this.fillColor;if(this.p2 && W$ && !r2.isTransparent(W$) && W$ != "auto"){b4.beginPath();b4.moveTo(J3,q$);b4.lineTo(r1,l1);b4.lineTo(r1,P9);P1m.w7b(35);b4.lineTo(J3,P1m.o4m(l1,P9,q$));b4.closePath();b4.globalAlpha=0.2;b4.fillStyle=W$;b4.fill();b4.globalAlpha=1;}Z4={pattern:this.pattern,lineWidth:u2};if((this.penDown || this.highlighted) && this.pattern == "none"){Z4.pattern=F9G;}f4.plotLine(J3,r1,q$,l1,I3,"segment",b4,T0,Z4);if(this.p2){P1m.O3H(35);f4.plotLine(J3,r1,P1m.o4m(l1,P9,q$),P9,I3,"segment",b4,T0,Z4);}if(this.highlighted){k3g="p";k3g+="2";t9=this.highlighted == "p0"?!!1:!!"";J$=this.highlighted == "p1"?!!"1":!"1";q5=this.highlighted == k3g?!![]:!"1";this.littleCircle(b4,J3,q$,t9);this.littleCircle(b4,r1,l1,J$);this.littleCircle(b4,r1,P9,q5);}};r2.Drawing.channel.prototype.reposition=function(x4,m6,i3,O6){var n3t,Y4,f8,a6;n3t="d";n3t+="r";n3t+="a";n3t+="g";if(!m6){return;}Y4=this.stx.panels[this.panelName];f8=m6.tick - i3;a6=m6.value - O6;if(m6.action == "move"){this.setPoint(0,m6.p0["0" ^ 0] - f8,m6.p0[1] - a6,Y4.chart);this.setPoint(1,m6.p1[0] - f8,m6.p1[1] - a6,Y4.chart);this.setPoint(2,m6.p2[0] - f8,m6.p2[1] - a6,Y4.chart);this.render(x4);}else if(m6.action == n3t){this[m6.point]=[i3,O6];P1m.w7b(7);this.setPoint(P1m.o4m(1,"0"),this.p0[0],this.p0[1],Y4.chart);this.setPoint(1,this.p1[0],this.p1[1],Y4.chart);this.setPoint(2,this.p2[0],this.p2[1],Y4.chart);this.render(x4);}};r2.Drawing.channel.prototype.adjust=function(){P1m.B2i();var u3;u3=this.stx.panels[this.panelName];if(!u3){return;}this.setPoint(0,this.d0,this.v0,u3.chart);this.setPoint(1,this.d1,this.v1,u3.chart);this.setPoint(2,this.d1,this.v2,u3.chart);};r2.Drawing.channel.prototype.reconstruct=function(D1,R4){this.stx=D1;this.color=R4.col;this.fillColor=R4.fc;this.panelName=R4.pnl;this.pattern=R4.ptrn;this.lineWidth=R4.lw;this.d0=R4.d0;this.d1=R4.d1;this.tzo0=R4.tzo0;this.tzo1=R4.tzo1;this.v0=R4.v0;this.v1=R4.v1;this.v2=R4.v2;this.field=R4.fld;this.adjust();};r2.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};r2.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!1;this.p2=null;};r2.inheritsFrom(r2.Drawing.pitchfork,r2.Drawing.channel);r2.Drawing.pitchfork.prototype.configs=["color","lineWidth",s6v];r2.Drawing.pitchfork.prototype.move=function(T5,t0,V1){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[t0,V1];}else {this.p2=[t0,V1];}P1m.B2i();this.render(T5);};r2.Drawing.pitchfork.prototype.intersected=function(G9,L9,p6){var R7,o7u,W8,Y_4;if(!this.p0 || !this.p1 || !this.p2){return null;}P1m.y4d();R7={0:this.p0,1:this.p1,2:this.p2};for(var x9 in R7){if(this.pointIntersection(R7[x9][0],R7[x9][1],p6)){o7u="d";o7u+="r";o7u+="a";o7u+="g";P1m.O3H(2);this.highlighted=P1m.O80(x9,(9090,2894) != 360.56?"p":0xa1a);return {action:o7u,point:(4460 > 91?"p":("6.26e+3" * 1,+"0x1a24")) + x9};}}W8=this.rays;for(var e8=0;e8 < W8.length;e8++){if(this.lineIntersection(G9,L9,p6,e8?"ray":"segment",W8[e8][0],W8[e8][1],!!"1")){Y_4="m";Y_4+="o";Y_4+="v";Y_4+="e";this.highlighted=!!"1";return {action:Y_4,p0:r2.clone(this.p0),p1:r2.clone(this.p1),p2:r2.clone(this.p2),tick:G9,value:this.valueOnDrawingAxis(G9,L9)};}}return null;};r2.Drawing.pitchfork.prototype.render=function(w9){var i2,o0,z3,g6,u6,S8,R8,E5,v8,h0,g3,Z7,G4,u9,l4,z4,U3,h5,E98,q20,Z3,t2,X5;i2=this.stx;o0=i2.panels[this.panelName];z3=i2.getYAxisByField(o0,this.field);if(!o0 || this.field && !z3){return;}g6=this.p2;if(!g6){g6=this.p1;}u6=i2.pixelFromTick(this.p0[0],o0.chart);S8=i2.pixelFromTick(this.p1[0],o0.chart);R8=i2.pixelFromTick(g6[0],o0.chart);E5=this.pixelFromValue(o0,this.p0[+"0"],this.p0[1],z3);v8=this.pixelFromValue(o0,this.p1[0],this.p1[1],z3);h0=this.pixelFromValue(o0,g6[0],g6[+"1"],z3);g3=this.lineWidth;Z7=this.getLineColor();G4={pattern:this.pattern,lineWidth:g3};u9=50;P1m.w7b(29);l4=P1m.o4m(h0,v8,E5,2);P1m.w7b(36);z4=P1m.o4m(u6,R8,"2",S8);if(z4 < +"0"){u9*=-1;}P1m.O3H(9);l4*=P1m.o4m(z4,u9);P1m.O3H(3);this.rays=[[[S8,v8],[R8,h0]],[[u6,E5],[P1m.o4m(R8,S8,2),P1m.O80(h0,"2",v8,0,P1m.O3H(37))]]];if(!(S8 == R8 && v8 == h0)){P1m.w7b(6);this.rays.push([[S8,v8],[P1m.O80(S8,u9),P1m.o4m(v8,l4)]],[[R8,h0],[P1m.O80(R8,u9),P1m.O80(h0,l4)]]);}for(var k8=+"0";k8 < this.rays.length;k8++){U3=this.rays[k8];h5=k8?"ray":"segment";i2.plotLine(U3[0][0],U3[1][0],U3[0][+"1"],U3["1" << 64][1],Z7,h5,w9,o0,G4);}if(this.highlighted){E98="p";E98+="2";q20="p";q20+="1";Z3=this.highlighted == "p0"?!!"1":![];t2=this.highlighted == q20?!!({}):!1;X5=this.highlighted == E98?!!({}):![];this.littleCircle(w9,u6,E5,Z3);this.littleCircle(w9,S8,v8,t2);this.littleCircle(w9,R8,h0,X5);}};r2.Drawing.pitchfork.prototype.adjust=function(){var r4;r4=this.stx.panels[this.panelName];if(!r4){return;}this.setPoint(0,this.d0,this.v0,r4.chart);this.setPoint(1,this.d1,this.v1,r4.chart);P1m.y4d();this.setPoint(+"2",this.d2,this.v2,r4.chart);};r2.Drawing.pitchfork.prototype.reconstruct=function(A2,j$){this.stx=A2;this.color=j$.col;this.panelName=j$.pnl;this.pattern=j$.ptrn;this.lineWidth=j$.lw;this.d0=j$.d0;this.d1=j$.d1;this.d2=j$.d2;this.tzo0=j$.tzo0;this.tzo1=j$.tzo1;this.tzo2=j$.tzo2;this.v0=j$.v0;this.v1=j$.v1;this.v2=j$.v2;this.field=j$.fld;this.adjust();};r2.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};r2.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!({});P1m.y4d();this.maxSegments=4;this.shape=null;this.points=[];};r2.inheritsFrom(r2.Drawing.gartley,r2.Drawing.continuous);r2.Drawing.gartley.prototype.check=function(S7,P1){if(!P1){return !!({});}if(S7[0] >= P1[0] || S7[1] == P1[1]){return !!0;}if(this.segment == 1){if(S7[1] < P1[1]){this.shape="M";}else {this.shape=9600 < (2761,141.54)?"999.43" - 0 === (+"6950",7990)?("p",!!""):9466 == +"1908"?+"829.51":(6.20e+1,6.58e+3):"W";}}else if(this.segment == ("2" | 2)){if(this.shape == ((9670,1577) <= (8720,"891.16" - 0)?"i":"M") && S7[1] < P1[1]){return !({});}else if(this.shape == ((7368,1196) !== 2430?"W":(0x5e9,"0xfbe" << 64)) && S7[1] > P1[1]){return !"1";}else if((P1[1] - S7["1" * 1]) / (this.points["0" << 64][1] - S7[1]) < 0.618){return !1;}else if((P1[1] - S7[1]) / (this.points[0][1] - S7[1]) >= 0.786){return ![];}}else if(this.segment == 3){if(this.shape == "M" && S7[1] > P1[1]){return !({});}else if(this.shape == ((317.99,1391) !== (438,4549)?"W":("I","j")) && S7["1" << 0] < P1[1]){return !({});}else if((P1[1] - S7[1]) / (this.points[1][1] - S7[1]) < 0.618){return ![];}else if((P1[+"1"] - S7[1]) / (this.points[1][1] - S7[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == "M" && (S7[1] < P1[1] || P1[1] < this.points[0][1])){return !({});}else if(this.shape == "W" && (S7[1] > P1[1] || P1[1] > this.points[0][1])){return !"1";}else if((this.points[1]["1" >> 32] - P1[1]) / (this.points["1" - 0][+"1"] - this.points[2][1]) < 1.27){return !({});}else if((this.points[1][+"1"] - P1[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !({});}}return !![];};r2.Drawing.gartley.prototype.click=function(x6,i8,Z_){var F2;F2=this.stx.panels[this.panelName];if(!F2){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,i8,Z_,F2.chart);this.pts=[];this.penDown=!"";this.segment=1;return ![];}if(this.accidentalClick(i8,Z_)){this.penDown=!"";return ![];}if(this.check(this.p0,this.p1)){if(this.segment == +"1"){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,i8,Z_,F2.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],F2.chart);this.penDown=![];return !"";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,i8,Z_,F2.chart);}return ![];};r2.Drawing.gartley.prototype.render=function(D7){var J_,y3,I6,D$,A6,b$,T7,G2k,Y6X,r2g,A3,r0,O3,w7,k$,K6,z5,Y3,c4,K0;J_=this.stx;y3=J_.panels[this.panelName];I6=J_.getYAxisByField(y3,this.field);if(!y3 || this.field && !I6){return;}D$=J_.pixelFromTick(this.p0[0],y3.chart);A6=J_.pixelFromTick(this.p1[0],y3.chart);b$=this.pixelFromValue(y3,this.p0["0" - 0],this.p0[1],I6);T7=this.pixelFromValue(y3,this.p1[0],this.p1[1],I6);if(this.segment == 2){G2k=-514643402;Y6X=60780793;r2g=+"2";for(var L5t=1;P1m.d8W(L5t.toString(),L5t.toString().length,71191) !== G2k;L5t++){this.drawDropZone(D7,31447 / this.points[3][4] - (67542 - this.p0[+"2"]),97431 / this.points[8][4] * (39961 - this.p0[9]),this.p0[+"4"]);r2g+=+"2";}if(P1m.d8W(r2g.toString(),r2g.toString().length,85487) !== Y6X){this.drawDropZone(D7,0.618 * this.points[0][1] + 0.382 * this.p0[1],("0.786" - 0) * this.points[0][1] + 0.214 * this.p0["1" << 64],this.p0[0]);}}else if(this.segment == +"3"){this.drawDropZone(D7,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){P1m.O3H(38);var d2m=P1m.O80(8,30,3358,14);P1m.O3H(39);var R3X=P1m.O80(18,0,12,5,43);P1m.w7b(40);var O26=P1m.o4m(2,17,0,9,1);A3=1.618 * this.points[d2m][R3X] - 0.618 * this.points[O26][+"1"];if(this.shape == ((49,583.46) !== 524.19?"M":(3.35e+3,"3.87e+3" - 0))){A3=Math.max(A3,this.points[0][1]);}else {A3=Math.min(A3,this.points[0][1]);}this.drawDropZone(D7,A3,1.27 * this.points[+"2"][1] - 0.27 * this.points[1][1],this.p0[0]);}r0=this.lineWidth;O3=this.getLineColor();w7={pattern:this.pattern,lineWidth:r0};if((this.penDown || this.highlighted) && this.pattern == "none"){w7.pattern="dotted";}if(this.segment <= this.maxSegments){J_.plotLine(D$,A6,b$,T7,O3,this.name,D7,y3,w7);}k$=this.fillColor;K6=[];if(this.points.length){D7.beginPath();for(var T3=+"1";T3 < this.points.length && T3 <= 4;T3++){z5=J_.pixelFromTick(this.points[T3 - 1][0],y3.chart);Y3=J_.pixelFromTick(this.points[T3]["0" - 0],y3.chart);c4=this.pixelFromValue(y3,this.points[T3 - 1][0],this.points[T3 - 1][1],I6);K0=this.pixelFromValue(y3,this.points[T3]["0" * 1],this.points[T3][1],I6);if(T3 == 1){K6.push(z5,c4);}K6.push(Y3,K0);J_.plotLine(z5,Y3,c4,K0,O3,this.name,D7,y3,w7);}if(this.points.length == 2 || this.points.length == 4){K6.push(A6,T7);}if(this.points["2" << 32]){K6.push(J_.pixelFromTick(this.points[2][0],y3.chart),this.pixelFromValue(y3,this.points[2][0],this.points[2]["1" | 0],I6));}if(k$ && k$ != "auto" && !r2.isTransparent(k$)){for(var o4=0;o4 < K6.length;o4+=+"2"){if(o4 === 0){D7.moveTo(K6[0],K6["1" << 32]);}D7.lineTo(K6[o4],K6[o4 + +"1"]);}D7.fillStyle=k$;D7.globalAlpha=0.2;D7.closePath();D7.fill();D7.globalAlpha=1;}}};r2.Drawing.gartley.prototype.lineIntersection=function(l6,C6,s0,v9){var U4,L7;U4=this.points;L7=this.stx.panels[this.panelName];if(U4.length != this.maxSegments + +"1" || !L7){return ![];}for(var y4=0;y4 < U4.length - 1;y4++){if(r2.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,l6,C6,s0,"segment",U4[y4],U4[y4 + 1])){return !0;}}return !1;};r2.Drawing.gartley.prototype.boxIntersection=function(Y$,C4,U9){var Z0,b5;if(!this.p0 || !this.p1){return !({});}if(U9.x0 > Math.max(this.p0[0],this.p1[+"0"]) || U9.x1 < Math.min(this.p0["0" ^ 0],this.p1[0])){return ![];}Z0=Math.min(this.p0[1],this.p1[1]);P1m.y4d();b5=Math.max(this.p0[1],this.p1[+"1"]);for(var g9=0;g9 < this.points.length;g9++){Z0=Math.min(Z0,this.points[g9]["1" ^ 0]);b5=Math.max(b5,this.points[g9][+"1"]);}if(U9.y1 > b5 || U9.y0 < Z0){return !({});}return !![];};r2.Drawing.gartley.prototype.reposition=function(U6,Q4,v$,V5){var j1,M8,B1;if(!Q4){return;}j1=this.stx.panels[this.panelName];M8=Q4.tick - v$;Q4.tick=v$;P1m.B2i();B1=Q4.value - V5;Q4.value=V5;if(Q4.action == "move"){this.pts=[];for(var r7=0;r7 < this.points.length;r7++){this.points[r7][0]-=M8;this.points[r7][1]-=B1;this.setPoint(1,this.points[r7][0],this.points[r7][1],j1.chart);if(r7 && r7 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[r7]=this.p1;}P1m.O3H(41);this.setPoint(P1m.o4m("0",0),this.points[0][0],this.points[0][+"1"],j1.chart);this.render(U6);}};r2.Drawing.gartley.prototype.configs=[V8Q,"fillColor",x_v,Q4l];r2.Drawing.gartley.prototype.adjust=function(){var o2;o2=this.stx.panels[this.panelName];if(!o2){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,o2.chart);this.points.unshift(this.p0);this.setPoint(+"1",this.d1,this.v1,o2.chart);this.points.push(this.p1);};r2.Drawing.gartley.prototype.reconstructPoints=function(){var i_,j5;i_=this.stx.panels[this.panelName];if(!i_){return;}this.points=[];P1m.B2i();for(var K8=0;K8 < this.pts.length;K8+=+"3"){j5=r2.strToDateTime(this.pts[K8]);j5.setMinutes(j5.getMinutes() + Number(this.pts[K8 + 1]) - j5.getTimezoneOffset());this.points.push([this.stx.tickFromDate(r2.yyyymmddhhmmssmmm(j5),i_.chart),this.pts[K8 + 2]]);}};r2.Drawing.gartley.prototype.reconstruct=function(i4,E6){this.stx=i4;this.color=E6.col;this.fillColor=E6.fc;this.panelName=E6.pnl;this.pattern=E6.ptrn;this.lineWidth=E6.lw;this.d0=E6.d0;this.d1=E6.d1;this.tzo0=E6.tzo0;this.tzo1=E6.tzo1;this.v0=E6.v0;this.v1=E6.v1;this.field=E6.fld;P1m.B2i();this.pts=E6.pts.split(",");this.adjust();};r2.Drawing.gartley.prototype.serialize=function(){P1m.B2i();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(",")};};r2.Drawing.freeform=function(){this.name="freeform";this.splineTension=+"0.3";this.dragToDraw=!!1;};r2.inheritsFrom(r2.Drawing.freeform,r2.Drawing.segment);r2.Drawing.freeform.prototype.measure=function(){};r2.Drawing.freeform.prototype.intersected=function(M2,Q1,k5){P1m.y4d();var w61,W3,r6;w61="mo";w61+="ve";var {x0:r$, x1:T2, y0:w$, y1:C7, cy0:B9, cy1:u7}=k5;if(r$ > this.hiX || T2 < this.lowX){return !"1";}var {field:s9, panelName:V9, stx:k4}=this;if(s9){W3=k4.panels[V9];r6=k4.getYAxisByField(W3,s9);w$=this.valueFromPixel(B9,W3,r6);C7=this.valueFromPixel(u7,W3,r6);}if(C7 > this.hiY || w$ < this.lowY){return !"1";}this.highlighted=!!"1";return {action:w61,p0:r2.clone(this.p0),tick:M2,value:this.valueOnDrawingAxis(M2,Q1)};};r2.Drawing.freeform.prototype.reposition=function(v7,t3,e4,O9){var m7,W5,A_;if(!t3){return;}m7=this.stx.panels[this.panelName];W5=t3.tick - e4;A_=t3.value - O9;if(t3.action == "move"){this.setPoint(0,t3.p0[0] - W5,t3.p0[1] - A_,m7.chart);this.adjust();this.render(v7);}};r2.Drawing.freeform.prototype.click=function(C8,c_,X7){var B2M,U_,R2,O2,F57,a9;B2M="au";B2M+="to";U_=this.stx;R2=U_.panels[this.panelName];if(!R2){return;}O2=U_.getYAxisByField(R2,this.field) || R2.yAxis;if(this.penDown === !({})){F57="p";F57+="o";F57+="in";F57+="ter";this.copyConfig();this.startX=Math.round(U_.resolveX(U_.pixelFromTick(c_,R2.chart)));this.startY=Math.round(U_.resolveY(this.pixelFromValue(R2,c_,X7,O2)));a9=U_.dateFromTick(c_,R2.chart,!0);this.d0=r2.yyyymmddhhmmssmmm(a9);this.tzo0=a9.getTimezoneOffset();this.v0=X7;this.p0=[r2.ChartEngine.crosshairX - this.startX,r2.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=U_.layout.candleWidth;this.multiplier=O2.multiplier;this.interval=U_.layout.interval;this.periodicity=U_.layout.periodicity;this.tempSplineTension=this.splineTension;P1m.O3H(7);this.splineTension=-P1m.o4m(1,"1");U_.container.ownerDocument.body.style.cursor=F57;this.penDown=!"";return ![];}this.penDown=!({});this.splineTension=this.tempSplineTension;U_.container.ownerDocument.body.style.cursor=B2M;P1m.B2i();if(this.nodes.length === 2){U_.undo();}return !![];};r2.Drawing.freeform.prototype.move=function(n2,H3,j_){var P8,I1,B_,L2;if(!this.penDown){return;}P8=this.stx;I1=P8.panels[this.panelName];B_=P8.getYAxisByField(I1,this.field) || I1.yAxis;L2=P8.dateFromTick(H3,I1.chart,!![]);this.d1=r2.yyyymmddhhmmssmmm(L2);this.tzo1=L2.getTimezoneOffset();this.v1=j_;this.p1=[r2.ChartEngine.crosshairX - this.startX,B_.flipped?this.startY - r2.ChartEngine.crosshairY:r2.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][+"0"] && this.p1[+"0"] == this.pNodes[this.pNodes.length - 1][+"0"]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[+"1"] == this.pNodes[this.pNodes.length - 2]["1" >> 32] && this.p1["1" - 0] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(n2);return !"1";};r2.Drawing.freeform.prototype.intervalRatio=function(X0,N9,P5,n$,H7,S3){var Q5,f2D,E8S,e1O;function a0(a3,p5){return 30;}P1m.O3H(41);P1m.y4d();Q5=P1m.O80("0",0);function H5(G7,f7){if(r2.Market.Symbology.isForexSymbol(f7)){return 1440;}return 390;}if(X0 == N9){Q5=1;}else if(!isNaN(X0) && !isNaN(N9)){P1m.w7b(9);Q5=P1m.O80(N9,X0);}else if(isNaN(X0)){if(X0 == "month"){f2D="we";f2D+="ek";if(N9 == f2D){Q5=A0(H7,S3);}else if(N9 == "day"){Q5=a0(H7,S3);}else if(!isNaN(N9)){Q5=a0(H7,S3) * H5(H7,S3) / N9;}}else if(X0 == "week"){if(N9 == "month"){P1m.w7b(6);var A3V=P1m.O80(14,13);Q5=A3V / A0(H7,S3);}if(N9 == "day"){Q5=u$(H7,S3);}else if(!isNaN(N9)){Q5=u$(H7,S3) * H5(H7,S3) / N9;}}else if(X0 == "day"){if(N9 == "week"){Q5=("1" ^ 0) / u$(H7,S3);}else if(N9 == "month"){Q5=+"1" / a0(H7,S3);}else if(!isNaN(N9)){Q5=H5(H7,S3) / N9;}}}else if(!isNaN(X0)){E8S="d";E8S+="ay";e1O="wee";e1O+="k";if(N9 == "month"){Q5=X0 / (a0(H7,S3) * H5(H7,S3));}else if(N9 == e1O){Q5=X0 / (u$(H7,S3) * H5(H7,S3));}else if(N9 == E8S){Q5=X0 / H5(H7,S3);}}function u$(d4,j9){return 5;}function A0(s_,H8){return 5;}P1m.O3H(9);Q5*=P1m.O80(n$,P5);return Q5;};r2.Drawing.freeform.prototype.render=function(x8){var n8,Q9,y$,F4,m8,D8,h$,l2,V7,M0,f$,K3,e1,t4;n8=this.stx;Q9=n8.panels[this.panelName];y$=n8.getYAxisByField(Q9,this.field);if(!Q9 || this.field && !y$){return;}y$=y$ || Q9.yAxis;F4=this.intervalRatio(this.interval,n8.layout.interval,this.periodicity,n8.layout.periodicity,this.d0,Q9.chart.symbol);if(F4 === 0){return;}m8=n8.layout.candleWidth / this.candleWidth;D8=y$.multiplier / this.multiplier;P1m.w7b(7);this.setPoint(P1m.o4m(1,"0"),this.d0,this.v0,Q9.chart);h$=n8.pixelFromTick(this.p0[0],Q9.chart);l2=this.pixelFromValue(Q9,this.p0[0],this.p0[1],y$);V7=[];M0=this.lineWidth;f$=this.getLineColor();K3={pattern:this.pattern,lineWidth:M0};for(var r8=0;r8 < this.pNodes.length;r8++){e1=F4 * m8 * this.pNodes[r8][0] + h$;P1m.w7b(42);var U2l=P1m.o4m(0,14,2,27);t4=D8 * this.pNodes[r8][U2l];if(y$.flipped){P1m.w7b(6);t4=P1m.o4m(l2,t4);}else {t4+=l2;}V7.push(e1,t4);}if(!V7.length){return;}if(this.splineTension < "0" >> 0){n8.connectTheDots(V7,f$,this.name,x8,Q9,K3);}else {n8.plotSpline(V7,this.splineTension,f$,this.name,x8,!!"1",K3);}};r2.Drawing.freeform.prototype.adjust=function(){var J2,q9,G1U,F7,s3,X3,E2,O$,z1,z0;J2=this.stx;q9=J2.panels[this.panelName];if(!q9){return;}G1U=[this.nodes[0],this.nodes[1]];this.pNodes=[G1U];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var x$=2;x$ < this.nodes.length;x$+=2){P1m.w7b(2);F7=[this.nodes[x$],this.nodes[P1m.O80(1,x$)]];this.pNodes.push(F7);this.lowX=Math.min(this.lowX,F7[0]);this.hiX=Math.max(this.hiX,F7[+"0"]);this.lowY=Math.max(this.lowY,F7[1]);this.hiY=Math.min(this.hiY,F7[1]);}s3=this.intervalRatio(this.interval,J2.layout.interval,this.periodicity,J2.layout.periodicity,this.d0,q9.chart.symbol);if(s3 === 0){return;}X3=J2.getYAxisByField(q9,this.field) || q9.yAxis;E2=J2.layout.candleWidth / this.candleWidth;O$=X3.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,q9.chart);z1=J2.pixelFromTick(this.p0[0],q9.chart);z0=this.pixelFromValue(q9,this.p0[0],this.p0["1" << 0],X3);this.lowX=J2.tickFromPixel(Math.floor(s3 * E2 * this.lowX) + z1,q9.chart);this.hiX=J2.tickFromPixel(Math.ceil(s3 * E2 * this.hiX) + z1,q9.chart);if(X3.flipped){this.lowY=this.valueFromPixel(z0 - Math.floor(O$ * this.lowY),q9,X3);this.hiY=this.valueFromPixel(z0 - Math.ceil(O$ * this.hiY),q9,X3);}else {this.lowY=this.valueFromPixel(Math.floor(O$ * this.lowY) + z0,q9,X3);this.hiY=this.valueFromPixel(Math.ceil(O$ * this.hiY) + z0,q9,X3);}};r2.Drawing.freeform.prototype.serialize=function(){P1m.B2i();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(+"4")),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};r2.Drawing.freeform.prototype.reconstruct=function(S6j,Z0F){this.stx=S6j;this.color=Z0F.col;this.panelName=Z0F.pnl;this.pattern=Z0F.ptrn;this.lineWidth=Z0F.lw;this.candleWidth=Z0F.cw;P1m.B2i();this.multiplier=Z0F.mlt;this.d0=Z0F.d0;this.tzo0=Z0F.tzo0;this.v0=Z0F.v0;this.interval=Z0F.inter;this.periodicity=Z0F.pd;this.nodes=Z0F.nodes;this.field=Z0F.fld;this.adjust();};r2.Drawing.callout=function(){this.name="callout";this.arr=[];P1m.w7b(43);this.w=P1m.o4m("0",0);this.h=0;this.padding=5;this.text="";this.ta=null;this.border=![];P1m.O3H(43);P1m.B2i();this.fontSize=P1m.O80("12",0);this.font={};this.stemEntry="";this.defaultWidth=35;};r2.inheritsFrom(r2.Drawing.callout,r2.Drawing.annotation);r2.Drawing.callout.prototype.configs=[S01,"fillColor","lineWidth",Y8E,"font"];r2.Drawing.callout.prototype.copyConfig=function(b2f){r2.Drawing.copyConfig(this,b2f);P1m.y4d();this.borderColor=this.color;};r2.Drawing.callout.prototype.move=function(C6E,L$S,D3v){P1m.B2i();if(!this.penDown){return;}this.copyConfig();this.p0=[L$S,D3v];this.render(C6E);};r2.Drawing.callout.prototype.onChange=function(e7z){var U12,u8Y,x3$;U12=this.stx.panels[this.panelName];if(!U12){return;}u8Y=e7z.target;this.w=u8Y.clientWidth;this.h=u8Y.clientHeight;x3$=this.context || this.stx.chart.tempCanvas.context;r2.clearCanvas(x3$.canvas,this.stx);this.render(x3$);this.edit(x3$);};r2.Drawing.callout.prototype.repositionTextArea=function(Y1x){var q_s,X8H;q_s="p";q_s+="x";P1m.O3H(11);var p6f=P1m.o4m(17,16,3);X8H=this.defaultWidth * p6f + this.whitespace + this.padding;X8H=Math.max(this.w,X8H);P1m.B2i();P1m.w7b(5);var W1C=P1m.O80(0,10,2,14);P1m.O3H(17);var p_g=P1m.o4m(2,4);Y1x.style.left=r2.stripPX(Y1x.style.left) - (!isNaN(X8H)?X8H / W1C:this.defaultWidth * p_g) + q_s;this.ta=Y1x;};r2.Drawing.callout.prototype.render=function(M_q){var C7k,M_G,z9p,y8t,t9W,B2W,T$_,N30,L8M,Y3f,z5b,h72,L4H,W$9,E7o,l52,o7l,G1w,V9n,w0g,z9i,D6Q,g1V,N3I,J3N,o13,K7B,t6p;C7k="a";C7k+="lph";C7k+="a";C7k+="betic";M_G="t";M_G+="op";z9p=this.stx;y8t=z9p.panels[this.panelName];t9W=z9p.getYAxisByField(y8t,this.field);if(!y8t || this.field && !t9W){return;}this.context=M_q;B2W=z9p.pixelFromTick(this.p0[+"0"],y8t.chart);T$_=this.pixelFromValue(y8t,this.p0[0],this.p0["1" - 0],t9W);if(isNaN(T$_)){return;}M_q.font=this.fontString;M_q.textBaseline=M_G;N30=B2W;L8M=T$_;P1m.O3H(44);var q6m=P1m.o4m(0,5,14,14,2);Y3f=this.w / q6m;P1m.y4d();P1m.w7b(4);var K2_=P1m.O80(8,4,10);z5b=this.h / K2_;if(this.penDown){h72=774941852;L4H=1582577947;P1m.w7b(6);W$9=P1m.o4m("2",0);for(var b9u=1;P1m.d8W(b9u.toString(),b9u.toString().length,12780) !== h72;b9u++){P1m.w7b(23);var v_5=P1m.O80(1,18,25,16);P1m.O3H(45);var p8A=P1m.O80(14,355,5,12,5);Y3f=this.defaultWidth % (this.whitespace * v_5) - (this.padding + p8A);W$9+=2;}if(P1m.d8W(W$9.toString(),W$9.toString().length,35148) !== L4H){P1m.O3H(6);var v5U=P1m.O80(36,34);P1m.w7b(46);var u1h=P1m.o4m(16,214,17,13,7);Y3f=this.defaultWidth + this.whitespace / v5U + this.padding / u1h;}z5b=this.fontSize + this.fontModifier;}E7o=this.lineWidth;if(!E7o){E7o=1.1;}l52=this.getLineColor();o7l=this.getLineColor(this.borderColor);D6Q=Math.min(Math.min(Y3f,z5b) / 2,8);if(this.stem){if(this.stem.t){G1w=z9p.pixelFromTick(this.stem.t);w0g=this.pixelFromValue(y8t,this.stem.t,this.stem.v,t9W);}else if(this.stem.x){G1w=N30;w0g=L8M;N30+=this.stem.x;L8M+=this.stem.y;}g1V="";if(G1w >= N30 + Y3f){P1m.w7b(2);V9n=P1m.o4m(Y3f,N30);g1V=582.92 == 9025?528.58:(635.65,729.85) === 1220?0x10cb:"r";}else if(G1w > N30 - Y3f && G1w < N30 + Y3f){V9n=N30;g1V=("413.84" * 1,222.21) <= (8830,8580)?+"5290" != (6390,347.05)?(7339,2239) < ("279.74" * 1,989)?(873,0x1c63):"c":!![]:!0;}else if(G1w <= N30 - Y3f){P1m.w7b(6);V9n=P1m.o4m(N30,Y3f);g1V=400 > 392.52?"l":"D";}if(w0g >= L8M + z5b){P1m.O3H(2);z9i=P1m.O80(z5b,L8M);g1V+="b";}else if(w0g > L8M - z5b && w0g < L8M + z5b){z9i=L8M;g1V+="m";}else if(w0g <= L8M - z5b){P1m.w7b(6);z9i=P1m.O80(L8M,z5b);g1V+="526.16" - 0 == 9736?![]:"t";}this.stemEntry=g1V;if(g1V != "cm"){G1w=Math.round(G1w);V9n=Math.round(V9n);w0g=Math.round(w0g);z9i=Math.round(z9i);}}if(this.highlighted){z9p.canvasColor("stx_annotation_highlight_bg",M_q);}else {if(this.fillColor){M_q.fillStyle=this.fillColor;M_q.globalAlpha=0.4;}else if(this.stem){M_q.fillStyle=z9p.containerColor;}}M_q.strokeStyle=o7l;if(M_q.setLineDash){M_q.setLineDash(r2.borderPatternToArray(E7o,this.pattern));M_q.lineDashOffset=0;}if(o7l){N3I="l";N3I+="m";M_q.beginPath();M_q.lineWidth=E7o;P1m.O3H(4);M_q.moveTo(P1m.O80(Y3f,N30,D6Q),P1m.o4m(L8M,z5b,P1m.O3H(6)));if(this.stemEntry != "rt"){P1m.w7b(2);M_q.quadraticCurveTo(P1m.O80(Y3f,N30),P1m.O80(L8M,z5b,P1m.w7b(6)),P1m.O80(Y3f,N30,P1m.w7b(2)),P1m.o4m(z5b,L8M,D6Q,P1m.w7b(11)));}else {M_q.lineTo(G1w,w0g);P1m.O3H(2);M_q.lineTo(P1m.o4m(Y3f,N30),P1m.O80(z5b,L8M,D6Q,P1m.w7b(11)));}P1m.w7b(2);M_q.lineTo(P1m.O80(Y3f,N30),P1m.O80(2,D6Q,L8M,P1m.w7b(47)));if(this.stemEntry == "rm"){M_q.lineTo(G1w,w0g);}P1m.O3H(2);M_q.lineTo(P1m.o4m(Y3f,N30),P1m.o4m(2,L8M,D6Q,P1m.w7b(48)));P1m.O3H(2);M_q.lineTo(P1m.O80(Y3f,N30),P1m.O80(z5b,L8M,D6Q,P1m.O3H(4)));if(this.stemEntry != "rb"){P1m.O3H(2);M_q.quadraticCurveTo(P1m.O80(Y3f,N30),P1m.o4m(z5b,L8M,P1m.w7b(2)),P1m.O80(Y3f,N30,D6Q,P1m.O3H(4)),P1m.o4m(z5b,L8M,P1m.w7b(2)));}else {J3N=-380495434;o13=-525191047;K7B=2;for(var P19=1;P1m.d8W(P19.toString(),P19.toString().length,+"69219") !== J3N;P19++){M_q.lineTo(G1w,w0g);K7B+=2;}if(P1m.U7z(K7B.toString(),K7B.toString().length,35284) !== o13){M_q.lineTo(G1w,w0g);}P1m.O3H(4);M_q.lineTo(P1m.O80(Y3f,N30,D6Q),P1m.o4m(z5b,L8M,P1m.O3H(2)));}P1m.O3H(48);M_q.lineTo(P1m.O80(2,N30,D6Q),P1m.O80(z5b,L8M,P1m.w7b(2)));if(this.stemEntry == "cb"){M_q.lineTo(G1w,w0g);}P1m.O3H(47);M_q.lineTo(P1m.o4m(2,D6Q,N30),P1m.o4m(z5b,L8M,P1m.O3H(2)));P1m.w7b(11);M_q.lineTo(P1m.O80(Y3f,N30,D6Q),P1m.o4m(z5b,L8M,P1m.O3H(2)));if(this.stemEntry != "lb"){P1m.O3H(6);M_q.quadraticCurveTo(P1m.o4m(N30,Y3f),P1m.O80(z5b,L8M,P1m.O3H(2)),P1m.o4m(N30,Y3f,P1m.O3H(6)),P1m.O80(z5b,L8M,D6Q,P1m.w7b(4)));}else {M_q.lineTo(G1w,w0g);P1m.O3H(6);M_q.lineTo(P1m.O80(N30,Y3f),P1m.o4m(z5b,L8M,D6Q,P1m.w7b(4)));}P1m.O3H(6);M_q.lineTo(P1m.o4m(N30,Y3f),P1m.O80(2,L8M,D6Q,P1m.w7b(48)));if(this.stemEntry == N3I){M_q.lineTo(G1w,w0g);}P1m.O3H(6);M_q.lineTo(P1m.O80(N30,Y3f),P1m.O80(2,D6Q,L8M,P1m.O3H(47)));P1m.O3H(6);M_q.lineTo(P1m.o4m(N30,Y3f),P1m.O80(z5b,L8M,D6Q,P1m.O3H(11)));if(this.stemEntry != "lt"){P1m.O3H(6);M_q.quadraticCurveTo(P1m.o4m(N30,Y3f),P1m.o4m(L8M,z5b,P1m.w7b(6)),P1m.O80(Y3f,N30,D6Q,P1m.w7b(11)),P1m.O80(L8M,z5b,P1m.O3H(6)));}else {M_q.lineTo(G1w,w0g);P1m.O3H(11);M_q.lineTo(P1m.o4m(Y3f,N30,D6Q),P1m.O80(L8M,z5b,P1m.w7b(6)));}P1m.O3H(47);M_q.lineTo(P1m.O80(2,D6Q,N30),P1m.o4m(L8M,z5b,P1m.w7b(6)));if(this.stemEntry == "ct"){M_q.lineTo(G1w,w0g);}P1m.w7b(49);M_q.lineTo(P1m.O80(D6Q,"2",N30),P1m.O80(L8M,z5b,P1m.w7b(6)));P1m.w7b(4);M_q.lineTo(P1m.o4m(Y3f,N30,D6Q),P1m.O80(L8M,z5b,P1m.w7b(6)));M_q.fill();M_q.globalAlpha=1;if(this.pattern != "none"){M_q.stroke();}}if(this.highlighted){z9p.canvasColor("stx_annotation_highlight",M_q);}else {M_q.fillStyle=l52;}L8M+=this.padding;if(!this.ta){for(var W95=0;W95 < this.arr.length;W95++){M_q.fillText(this.arr[W95],N30 - Y3f + this.padding,L8M - z5b);L8M+=this.fontSize;}}M_q.textBaseline=C7k;if(this.highlighted && !this.noHandles){t6p=this.highlighted == "p0"?!0:!!"";this.littleCircle(M_q,G1w,w0g,t6p);}};r2.Drawing.callout.prototype.click=function(f4Q,Y9h,D1V){var z5f;if(this.stx.overXAxis || this.stx.overYAxis){return;}z5f=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,Y9h,D1V,z5f.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!"";this.adjust();return !!0;}this.adjust();this.edit(f4Q);this.penDown=!"1";return !({});};r2.Drawing.callout.prototype.reposition=function(O8x,p8U,O2C,y7Y){var k57,d5s,J22,O3$;if(!p8U){return;}k57=this.stx.panels[this.panelName];d5s=p8U.tick - O2C;J22=p8U.value - y7Y;if(p8U.stem){O3$="dr";O3$+="ag";if(p8U.action == O3$){this.stem={d:this.stx.dateFromTick(O2C,k57.chart,!!1),v:y7Y};}else if(p8U.action == "move"){this.setPoint(0,p8U.p0["0" ^ 0] - d5s,p8U.p0[1] - J22,k57.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(p8U.stem.d,k57.chart) - d5s),v:p8U.stem.v - J22};}this.adjust();}else {this.setPoint(0,p8U.p0[0] - d5s,p8U.p0[1] - J22,k57.chart);}this.render(O8x);};r2.Drawing.callout.prototype.lineIntersection=function(A4I,D0J,M$n,X_J){var t91,n$3,k7$,x1g,I$N,s_G,O5d,J0D,l3J,J7o,b_o,P8j;t91="s";t91+="t";t91+="r";t91+="ing";n$3=this.stem;k7$=this.p0;x1g=this.stx;I$N=x1g.panels[this.panelName];if(!k7$ || !n$3 || !I$N){return ![];}s_G=n$3.t || x1g.tickFromDate(n$3.d,I$N.chart);O5d={x0:k7$[0],x1:s_G,y0:k7$[1],y1:n$3.v};J0D=this.boxToPixels(x1g,this.panelName,O5d,x1g.getYAxisByField(I$N,this.field));l3J=J0D.x0;J7o=J0D.y0;b_o=J0D.x1;P8j=J0D.y1;if(typeof this.stemEntry == t91){if(this.stemEntry.indexOf("l") > -1){P1m.O3H(50);var k2K=P1m.o4m(0,33,7,3,10);l3J-=this.w / k2K;}else if(this.stemEntry.indexOf(350.71 !== 8250?"r":!![]) > -("1" - 0)){P1m.O3H(6);var B3_=P1m.O80(11,9);l3J+=this.w / B3_;}if(this.stemEntry.indexOf((5050,9850) === 5360?"h":480 >= 6250?("733.61" - 0,5.84e+3):"t") > -+"1"){J7o-=this.h / +"2";}else if(this.stemEntry.indexOf(3970 >= (5850,874.82)?"b":("S",296.13)) > -("1" * 1)){J7o+=this.h / ("2" >> 0);}}return r2.boxIntersects(M$n.cx0,M$n.cy0,M$n.cx1,M$n.cy1,l3J,J7o,b_o,P8j,X_J);};r2.Drawing.callout.prototype.intersected=function(U_$,E78,a3x){var Q9B,D$E,Y2j,A3w,s7Y,g6h,m$1,u5x,i96,J4L,h_U,f7J,C79,r7S,v3N,G2_,f1s,m6A;Q9B=this.stx;D$E=Q9B.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,a3x)){Y2j="d";Y2j+="r";Y2j+="ag";this.highlighted="p0";return {action:Y2j,stem:!!({})};}P1m.O3H(38);var q$k=P1m.o4m(13,18,3508,15);A3w=Q9B.pixelFromTick(this.p0[0],D$E.chart) - this.w / q$k;s7Y=Q9B.getYAxisByField(D$E,this.field);P1m.O3H(29);var J3t=P1m.O80(34,6,6,7);g6h=this.pixelFromValue(D$E,this.p0[0],this.p0[+"1"],s7Y) - this.h / J3t;m$1=A3w + this.w;u5x=g6h + this.h;if(this.stem && this.stem.x){A3w+=this.stem.x;m$1+=this.stem.x;g6h+=this.stem.y;u5x+=this.stem.y;}i96=Q9B.pixelFromTick(U_$,D$E.chart);J4L=Q9B.pixelFromValueAdjusted(D$E,U_$,E78);if(i96 + a3x.r >= A3w && i96 - a3x.r <= m$1 && J4L + a3x.r >= g6h && J4L - a3x.r <= u5x){h_U=-2104470423;f7J=182875678;C79=+"2";for(var k42="1" >> 0;P1m.d8W(k42.toString(),k42.toString().length,50887) !== h_U;k42++){this.highlighted=!"";return {p0:r2.clone(this.p0),tick:U_$,value:this.valueOnDrawingAxis(U_$,E78)};}if(P1m.d8W(C79.toString(),C79.toString().length,65119) !== f7J){this.highlighted=!({});return {p0:r2.clone(this.p0),tick:U_$,value:this.valueOnDrawingAxis(U_$,E78)};}}r7S=this.lineIntersection(U_$,E78,a3x,"segment");if(r7S){this.highlighted=!!({});v3N=-870099145;G2_=-480629108;f1s=+"2";for(var z2H=1;P1m.d8W(z2H.toString(),z2H.toString().length,60235) !== v3N;z2H++){m6A="m";m6A+="o";m6A+="v";m6A+="e";return {action:m6A,stem:r2.clone(this.stem),p0:r2.clone(this.p0),tick:U_$,value:this.valueOnDrawingAxis(U_$,E78)};}if(P1m.d8W(f1s.toString(),f1s.toString().length,23561) !== G2_){return {action:"",stem:r2.clone(this.stem),p0:r2.clone(this.p0),tick:U_$,value:this.valueOnDrawingAxis(U_$,E78)};}}return null;};r2.Drawing.fibonacci=function(){var c8I;c8I="f";c8I+="ib";c8I+="o";c8I+="nacci";this.name="fibonacci";this.configurator=c8I;};r2.inheritsFrom(r2.Drawing.fibonacci,r2.Drawing.BaseTwoPoint);r2.Drawing.fibonacci.mapping={trend:+"1960" <= (7590,+"3170")?656 <= (2590,"4700" - 0)?463 >= (4066,924)?(!!({}),+"0x109a"):"t":(!!"",1.33e+3):!!({}),color:+"9997" < 7358?+"6470" > 9060?(!!0,"0x1be0" >> 32):(+"8780",3670) < 9856?384.28:![]:"c",parameters:"p",pattern:B5x,opacity:"o",lineWidth:"lw",level:(6986,852.5) > (+"2771",6930)?126.64:4300 != (5610,8494)?7499 > (4190,"4886" - 0)?"l":2.65e+3:964.96,extendLeft:(7900,8661) === (9810,+"226.56")?(9204,2160) != (+"6200",1172)?381 <= (651,568.37)?("z",644.75):"R":!"":"e",printLevels:y4B,printValues:"pv",timezone:y7s,display:"d"};r2.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,1,1.382,1.618];r2.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth",U6T,g24];r2.Drawing.fibonacci.prototype.initializeSettings=function(D5h){var N$g,a5O;N$g=this.recommendedLevels;if(N$g && !D5h.currentVectorParameters.fibonacci.fibsAlreadySet){a5O=D5h.currentVectorParameters.fibonacci.fibs;for(var I92=+"0";I92 < a5O.length;I92++){delete a5O[I92].display;for(var d7N=+"0";d7N < N$g.length;d7N++){if(a5O[I92].level == N$g[d7N]){a5O[I92].display=!"";}}}}};r2.Drawing.fibonacci.prototype.setOuter=function(){var u65,K1m,N7a,N_z,W0n,a0S,Q6k,b_x,z$3,P_E,E8t,n0r,H9l,U52,H97;u65=this.stx;K1m=u65.panels[this.panelName];if(!K1m){return;}N7a=Math.max(this.p0[1],this.p1[1]);N_z=Math.min(this.p0[+"1"],this.p1[1]);P1m.O3H(6);W0n=P1m.o4m(N7a,N_z);this.outer={p0:r2.clone(this.p0),p1:r2.clone(this.p1)};a0S=u65.pixelFromTick(this.p0[0],K1m.chart);Q6k=u65.pixelFromTick(this.p1[0],K1m.chart);b_x=u65.getYAxisByField(K1m,this.field);z$3=this.pixelFromValue(K1m,this.p0[0],this.p0[1],b_x);P_E=this.pixelFromValue(K1m,this.p1["0" - 0],this.p1[+"1"],b_x);E8t=+"0";n0r=+"1";for(var x$R=0;x$R < this.parameters.fibs.length;x$R++){H9l=this.parameters.fibs[x$R];if(H9l.level >= E8t && H9l.level <= n0r || !H9l.display)continue;U52=this.pixelFromValue(K1m,this.p0[0],P_E < z$3?N7a - W0n * H9l.level:N_z + W0n * H9l.level,b_x);H97=r2.xIntersection({x0:a0S,x1:Q6k,y0:z$3,y1:P_E},U52);if(H9l.level < E8t){E8t=H9l.level;this.outer.p1[1]=this.valueFromPixel(U52,K1m,b_x);this.outer.p1[0]=u65.tickFromPixel(H97,K1m.chart);}else if(H9l.level > n0r){n0r=H9l.level;this.outer.p0[1]=this.valueFromPixel(U52,K1m,b_x);this.outer.p0[0]=u65.tickFromPixel(H97,K1m.chart);}}};r2.Drawing.fibonacci.prototype.click=function(l$7,O35,G_5){var j8B;j8B=this.stx.panels[this.panelName];if(!j8B){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,O35,G_5,j8B.chart);this.penDown=!!"1";return ![];}if(this.accidentalClick(O35,G_5)){return !!({});}this.setPoint(1,O35,G_5,j8B.chart);this.setOuter();this.parameters=r2.clone(this.parameters);P1m.B2i();this.penDown=!"1";return !!({});};r2.Drawing.fibonacci.prototype.render=function(C8M){var c5S,o7x,G6r,o73,v$$,x9w,D_5,I8N,z6Q,R8w,A8G,e11,R$l,W6n,D3c,Z4M,A6G,A79,H8b,B3a,D2K,S5$,z4q,t2l,h88,O0a,X86,k$W,p8p,x4M,H$P,D8I,Y0w,c0c,d0R,o27,K9p,n2l,X3K,m27,T74,V$1,U7F;c5S="16";c5S+="1";c5S+=".";c5S+="8%";o7x="m";o7x+="i";o7x+="dd";o7x+="le";G6r="so";G6r+="l";G6r+="i";G6r+="d";o73="a";o73+="u";o73+="to";v$$=this.stx;x9w=v$$.panels[this.panelName];D_5=v$$.getYAxisByField(x9w,this.field);if(!x9w || this.field && !D_5){return;}D_5=D_5 || x9w.yAxis;if(!this.p1){return;}I8N=Math.max(this.p0["1" << 64],this.p1[1]);z6Q=Math.min(this.p0[1],this.p1[1]);R8w=D_5.flipped?z6Q - I8N:I8N - z6Q;A8G=v$$.pixelFromTick(this.p0[0],x9w.chart);e11=v$$.pixelFromTick(this.p1[0],x9w.chart);R$l=this.pixelFromValue(x9w,this.p0[0],this.p0[+"1"],D_5);W6n=this.pixelFromValue(x9w,this.p1[0],this.p1[1],D_5);D3c=Math.min(W6n,R$l);Z4M=Math.max(W6n,R$l);P1m.w7b(6);A6G=P1m.O80(Z4M,D3c);P1m.w7b(51);A79=P1m.o4m(W6n,R$l,A8G,e11,"0");H8b={color:o73,parameters:{pattern:G6r,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=H8b;}B3a=this.getLineColor(this.parameters.trend.color);C8M.textBaseline=o7x;v$$.canvasFont("stx_yaxis",C8M);P1m.O3H(52);var e_A=P1m.o4m(2,118,18,4,3);D2K=C8M.measureText(c5S).width + e_A;S5$=Number.MAX_VALUE;z4q=Number.MAX_VALUE;P1m.O3H(53);var R1H=P1m.o4m(5,12,5,15);t2l=Number.MAX_VALUE * R1H;P1m.w7b(17);var M6D=P1m.o4m(2,1);h88=Number.MAX_VALUE * M6D;O0a=this.getLineColor();this.rays=[];for(var g1h=0;g1h < this.parameters.fibs.length;g1h++){X86="un";X86+="defi";X86+="ne";X86+="d";k$W="l";k$W+="e";k$W+="ft";C8M.textAlign=k$W;C8M.fillStyle=O0a;p8p=this.parameters.fibs[g1h];if(!p8p.display)continue;x4M=this.pixelFromValue(x9w,this.p0[0],W6n < R$l?I8N - R8w * p8p.level:z6Q + R8w * p8p.level,D_5);H$P=r2.xIntersection({x0:A8G,x1:e11,y0:R$l,y1:W6n},x4M);D8I=this.parameters.extendLeft?+"0":H$P;Y0w=x9w.left + x9w.width;if(this.parameters.printLevels){P1m.w7b(1);var l86=P1m.O80(16000,239000,15);P1m.O3H(54);var T2Z=P1m.O80(1,3,1,9,3);P1m.O3H(2);var u3Z=P1m.o4m(7883,717);P1m.O3H(53);var Y5v=P1m.o4m(5551,14,33292,2);P1m.w7b(1);var w5V=P1m.O80(15690,41840,3);c0c=Math.round(p8p.level * l86) / T2Z + (u3Z <= (Y5v,w5V)?!0:"%");Y0w-=D2K;if(this.parameters.printValues){C8M.fillStyle=O0a;v$$.canvasFont("stx_yaxis",C8M);}if(Y0w < D8I){C8M.textAlign="right";}C8M.fillText(c0c,Y0w,x4M);if(Y0w < D8I){Y0w+=5;}else {Y0w-=5;}}if(this.parameters.printValues){if(H$P < x9w.width){d0R=this.valueFromPixel(x4M,x9w,D_5);if(D_5.priceFormatter){d0R=D_5.priceFormatter(v$$,x9w,d0R);}else {d0R=v$$.formatYAxisPrice(d0R,x9w,null,D_5);}if(C8M == v$$.chart.context){v$$.endClip();}v$$.createYAxisLabel(x9w,d0R,x4M,this.getLineColor(null,!!({})),null,C8M,D_5);if(C8M == v$$.chart.context){v$$.startClip(x9w.name);}}}o27=p8p.color;if(o27 == "auto" || r2.isTransparent(o27)){o27=this.getLineColor();}K9p=p8p.color;if(K9p == "auto" || r2.isTransparent(K9p)){K9p=this.fillColor;}if(K9p == "auto" || r2.isTransparent(K9p)){K9p=v$$.defaultColor;}C8M.fillStyle=K9p;n2l=r2.clone(p8p.parameters);if(this.highlighted){n2l.opacity=1;}v$$.plotLine(D8I,Y0w,x4M,x4M,o27,"segment",C8M,x9w,n2l);this.rays.push([[D8I,x4M],[Y0w,x4M]]);C8M.globalAlpha=+"0.05";C8M.beginPath();C8M.moveTo(Y0w,x4M);C8M.lineTo(D8I,x4M);if(D8I){C8M.lineTo(e11,W6n);}else {C8M.lineTo(D8I,W6n);}C8M.lineTo(Y0w,W6n);if(typeof K9p != X86){C8M.fill();}C8M.globalAlpha=+"1";if(x4M < z4q){S5$=H$P;z4q=x4M;}if(x4M > h88){t2l=H$P;h88=x4M;}}P1m.y4d();for(var o9q=0;o9q <= 1;o9q++){X3K=A79?Z4M - A6G * o9q:D3c + A6G * o9q;X3K=Math.round(X3K);if(X3K < z4q){S5$=r2.xIntersection({x0:A8G,x1:e11,y0:R$l,y1:W6n},X3K);z4q=X3K;}if(X3K > h88){t2l=r2.xIntersection({x0:A8G,x1:e11,y0:R$l,y1:W6n},X3K);h88=X3K;}}m27=r2.clone(this.parameters.trend.parameters);if(this.highlighted){m27.opacity=1;}v$$.plotLine(S5$,t2l,z4q,h88,B3a,"segment",C8M,x9w,m27);if(this.highlighted){T74="p";T74+="1";V$1=this.highlighted == "p0"?!![]:!({});U7F=this.highlighted == T74?!!1:!({});this.littleCircle(C8M,A8G,R$l,V$1);this.littleCircle(C8M,e11,W6n,U7F);}};r2.Drawing.fibonacci.prototype.reposition=function(J5X,p28,S90,W2Y){if(!p28){return;}r2.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};r2.Drawing.fibonacci.prototype.intersected=function(D57,G7r,p$H){var V32,Z1q,c8Y,e4O,K2$,E2O,N9H;V32=this.p0;Z1q=this.p1;if(!V32 || !Z1q){return null;}c8Y={0:V32,1:Z1q};for(var n14 in c8Y){if(this.pointIntersection(c8Y[n14]["0" ^ 0],c8Y[n14][1],p$H)){P1m.w7b(2);this.highlighted=P1m.O80(n14,1121 > 2173?(440.61,515.31) == 15.92?(191.32,"L"):(3.57e+3,+"9.22e+3"):"p");return {action:"drag",point:"p" + n14};}}e4O=this.outer;K2$=this.rays;E2O=e4O && this.lineIntersection(D57,G7r,p$H,"segment",e4O.p0,e4O.p1);if(!E2O){for(var A_n=0;A_n < K2$.length;A_n++){if(this.lineIntersection(D57,G7r,p$H,"ray",K2$[A_n][+"0"],K2$[A_n][1],!!({}))){E2O=!!({});break;}}}P1m.B2i();if(E2O){N9H="mo";N9H+="v";N9H+="e";this.highlighted=!!1;return {action:N9H,p0:r2.clone(V32),p1:r2.clone(Z1q),tick:D57,value:this.valueOnDrawingAxis(D57,G7r)};}return null;};r2.Drawing.fibonacci.prototype.reconstruct=function(W3R,v39){v39=r2.replaceFields(v39,r2.reverseObject(r2.Drawing.fibonacci.mapping));this.stx=W3R;this.parameters=v39.parameters;if(!this.parameters){this.parameters=r2.clone(this.stx.currentVectorParameters.fibonacci);}this.color=v39.col;this.fillColor=v39.fc;this.panelName=v39.pnl;this.d0=v39.d0;this.d1=v39.d1;P1m.B2i();this.d2=v39.d2;this.tzo0=v39.tzo0;this.tzo1=v39.tzo1;this.tzo2=v39.tzo2;this.v0=v39.v0;this.v1=v39.v1;this.v2=v39.v2;this.field=v39.fld;this.adjust();};r2.Drawing.fibonacci.prototype.adjust=function(){var d9y;d9y=this.stx.panels[this.panelName];P1m.B2i();if(!d9y){return;}this.setPoint(+"0",this.d0,this.v0,d9y.chart);this.setPoint(1,this.d1,this.v1,d9y.chart);this.setOuter();};r2.Drawing.fibonacci.prototype.serialize=function(){var G7g;G7g={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return r2.replaceFields(G7g,r2.Drawing.fibonacci.mapping);};r2.Drawing.retracement=function(){this.name="retracement";};r2.inheritsFrom(r2.Drawing.retracement,r2.Drawing.fibonacci);r2.Drawing.fibprojection=function(){this.name="fibprojection";P1m.y4d();this.dragToDraw=![];this.p2=null;};r2.inheritsFrom(r2.Drawing.fibprojection,r2.Drawing.fibonacci);P1m.w7b(7);r2.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,P1m.O80(1,"1.272"),1.618,2.618,4.236];r2.Drawing.fibprojection.prototype.click=function(I96,r_q,X0P){var A$M,C4f;A$M=this.stx;P1m.y4d();C4f=A$M.panels[this.panelName];if(!C4f){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,r_q,X0P,C4f.chart);this.penDown=!!({});return !!0;}if(this.accidentalClick(r_q,X0P)){A$M.undo();return !"";}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],C4f.chart);this.parameters=r2.clone(this.parameters);return !!({});}this.setPoint(1,r_q,X0P,C4f.chart);P1m.w7b(7);this.p2=[this.p1[0],this.p1[P1m.o4m(1,"1")]];return !"1";};r2.Drawing.fibprojection.prototype.render=function(N5u){var E2r,Q8F,X0X,C$R,v1P,C0c,g3A,t7a,D_i,z57,Y_y,b78,q62,G2S,j8k,M_Y,K5Y,D82,S6q,V0p,h3A,R1Y,L1I,F_r,N8p,e_8,z$7,p_K,k9n,W_y,P5U,O6l,H0t,T4M;E2r="se";E2r+="gment";Q8F="middl";Q8F+="e";X0X=this.stx;C$R=X0X.panels[this.panelName];v1P=X0X.getYAxisByField(C$R,this.field);if(!C$R || this.field && !v1P){return;}v1P=v1P || C$R.yAxis;if(!this.p1){return;}P1m.O3H(6);var W0C=P1m.o4m(11,10);P1m.w7b(55);var O27=P1m.o4m(4,0,1,3);C0c=this.p1[W0C] - this.p0[O27];g3A=X0X.pixelFromTick(this.p0[0],C$R.chart);t7a=X0X.pixelFromTick(this.p1[0],C$R.chart);D_i=this.pixelFromValue(C$R,this.p0[0],this.p0[1],v1P);z57=this.pixelFromValue(C$R,this.p1["0" * 1],this.p1[1],v1P);Y_y=null;b78=null;if(this.p2){Y_y=X0X.pixelFromTick(this.p2[+"0"],C$R.chart);b78=this.pixelFromValue(C$R,this.p2[0],this.p2[1],v1P);}q62={color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=q62;}G2S=this.getLineColor(this.parameters.trend.color);N5u.textBaseline=Q8F;X0X.canvasFont("stx_yaxis",N5u);P1m.w7b(13);var q0b=P1m.O80(20,5,24,140);j8k=N5u.measureText("161.8%").width + q0b;M_Y=this.getLineColor();if(this.p2){this.rays=[];for(var I4i=0;I4i < this.parameters.fibs.length;I4i++){K5Y="s";K5Y+="egm";K5Y+="en";K5Y+="t";D82="a";D82+="u";D82+="t";D82+="o";N5u.textAlign="left";N5u.fillStyle=M_Y;S6q=this.parameters.fibs[I4i];if(!S6q.display)continue;V0p=this.pixelFromValue(C$R,this.p2[0],this.p2[1] + C0c * S6q.level,v1P);h3A=r2.xIntersection({x0:g3A,x1:t7a,y0:D_i,y1:z57},V0p);R1Y=this.parameters.extendLeft?0:g3A;L1I=C$R.left + C$R.width;if(this.parameters.printLevels){F_r="ri";F_r+="g";F_r+="h";F_r+="t";P1m.O3H(56);var Z4d=P1m.o4m(13,14,997,1012,337);P1m.w7b(57);var w5w=P1m.O80(8,30,20,8);N8p=Math.round(S6q.level * Z4d) / w5w + "%";L1I-=j8k;if(this.parameters.printValues){e_8="s";e_8+="t";e_8+="x_yaxis";N5u.fillStyle=M_Y;X0X.canvasFont(e_8,N5u);}if(L1I < R1Y){N5u.textAlign=F_r;}N5u.fillText(N8p,L1I,V0p);if(L1I < R1Y){L1I+=+"5";}else {P1m.O3H(43);L1I-=P1m.o4m("5",1);}}if(this.parameters.printValues){if(h3A < C$R.width){z$7=this.valueFromPixel(V0p,C$R,v1P);if(v1P.priceFormatter){z$7=v1P.priceFormatter(X0X,C$R,z$7);}else {z$7=X0X.formatYAxisPrice(z$7,C$R,null,v1P);}if(N5u == X0X.chart.context){X0X.endClip();}X0X.createYAxisLabel(C$R,z$7,V0p,this.getLineColor(null,!!"1"),null,N5u,v1P);if(N5u == X0X.chart.context){X0X.startClip(C$R.name);}}}p_K=S6q.color;if(p_K == "auto" || r2.isTransparent(p_K)){p_K=this.getLineColor();}k9n=S6q.color;if(k9n == "auto" || r2.isTransparent(k9n)){k9n=this.fillColor;}if(k9n == D82 || r2.isTransparent(k9n)){k9n=X0X.defaultColor;}N5u.fillStyle=k9n;W_y=r2.clone(S6q.parameters);if(this.highlighted){W_y.opacity=1;}X0X.plotLine(R1Y,L1I,V0p,V0p,p_K,K5Y,N5u,C$R,W_y);this.rays.push([[R1Y,V0p],[L1I,V0p]]);P1m.w7b(6);N5u.globalAlpha=P1m.O80("0.05",0);N5u.beginPath();N5u.moveTo(L1I,V0p);N5u.lineTo(R1Y,V0p);if(R1Y){N5u.lineTo(g3A,b78);}else {N5u.lineTo(R1Y,b78);}N5u.lineTo(L1I,b78);if(typeof k9n != "undefined"){N5u.fill();}N5u.globalAlpha=1;}}P5U=r2.clone(this.parameters.trend.parameters);if(this.highlighted){P5U.opacity=+"1";}X0X.plotLine(g3A,t7a,D_i,z57,G2S,"segment",N5u,C$R,P5U);if(this.p2){X0X.plotLine(t7a,Y_y,z57,b78,G2S,E2r,N5u,C$R,P5U);}if(this.highlighted){O6l=this.highlighted == "p0"?!!1:!({});H0t=this.highlighted == "p1"?!!"1":!!"";T4M=this.highlighted == "p2"?!!({}):!"1";this.littleCircle(N5u,g3A,D_i,O6l);this.littleCircle(N5u,t7a,z57,H0t);this.littleCircle(N5u,Y_y,b78,T4M);}};r2.Drawing.fibprojection.prototype.move=function(Z3R,L25,H7i){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[L25,H7i];}else {this.p2=[L25,H7i];}this.render(Z3R);};r2.Drawing.fibprojection.prototype.reposition=function(M8J,L8s,F$2,v9G){var B$U,J9L,L7v;if(!L8s){return;}B$U=this.stx.panels[this.panelName];J9L=L8s.tick - F$2;L7v=L8s.value - v9G;if(L8s.action == "move"){this.setPoint(0,L8s.p0[0] - J9L,L8s.p0["1" >> 32] - L7v,B$U.chart);this.setPoint(1,L8s.p1[0] - J9L,L8s.p1[1] - L7v,B$U.chart);this.setPoint(2,L8s.p2[+"0"] - J9L,L8s.p2[1] - L7v,B$U.chart);this.render(M8J);}else if(L8s.action == "drag"){this[L8s.point]=[F$2,v9G];this.setPoint(+"0",this.p0[0],this.p0[1],B$U.chart);this.setPoint(1,this.p1[0],this.p1["1" << 64],B$U.chart);P1m.w7b(7);this.setPoint(P1m.o4m(1,"2"),this.p2["0" >> 0],this.p2[1],B$U.chart);this.render(M8J);}};r2.Drawing.fibprojection.prototype.intersected=function(i06,s1J,m52){var y01,f8R,F4e,M$q,X07,o0M,F1K;y01=this.p0;f8R=this.p1;F4e=this.p2;if(!y01 || !f8R || !F4e){return null;}M$q={0:y01,1:f8R,2:F4e};for(var b_i in M$q){if(this.pointIntersection(M$q[b_i][0],M$q[b_i][+"1"],m52)){X07="d";X07+="ra";X07+="g";P1m.w7b(2);this.highlighted=P1m.o4m(b_i,"p");return {action:X07,point:((3176,7560) === 240.16?6423 <= (9100,7430)?4360 <= (564,7450)?("d",759.54):5.09:103.79:"p") + b_i};}}o0M=this.rays;F1K=this.lineIntersection(i06,s1J,m52,"segment",y01,f8R) || this.lineIntersection(i06,s1J,m52,"segment",f8R,F4e);if(!F1K){for(var i$g=+"0";i$g < o0M.length;i$g++){if(this.lineIntersection(i06,s1J,m52,"ray",o0M[i$g][0],o0M[i$g][1],!!"1")){F1K=!!"1";break;}}}if(F1K){this.highlighted=!!({});return {action:"move",p0:r2.clone(y01),p1:r2.clone(f8R),p2:r2.clone(F4e),tick:i06,value:this.valueOnDrawingAxis(i06,s1J)};}return null;};r2.Drawing.fibprojection.prototype.adjust=function(){var j6D;j6D=this.stx.panels[this.panelName];if(!j6D){return;}this.setPoint(0,this.d0,this.v0,j6D.chart);this.setPoint(1,this.d1,this.v1,j6D.chart);P1m.B2i();this.setPoint(+"2",this.d2,this.v2,j6D.chart);};r2.Drawing.fibarc=function(){P1m.B2i();this.name="fibarc";};r2.inheritsFrom(r2.Drawing.fibarc,r2.Drawing.fibonacci);r2.Drawing.fibarc.prototype.recommendedLevels=[+"0.382",0.5,0.618,1];r2.Drawing.fibarc.prototype.setOuter=function(){var Z3s,v6E,p$E,C1C,c7s,A7h,i9M,k6E,w0y,Q2M,h7$,U5_;Z3s=905411743;P1m.O3H(43);v6E=-P1m.o4m("1840099489",32);p$E=2;for(var b2k=1;P1m.U7z(b2k.toString(),b2k.toString().length,42133) !== Z3s;b2k++){C1C=this.stx;c7s=C1C.panels[this.panelName];if(-c7s){return;}P1m.O3H(7);p$E+=P1m.O80(1,"2");}if(P1m.d8W(p$E.toString(),p$E.toString().length,32365) !== v6E){C1C=this.stx;c7s=C1C.panels[this.panelName];if(!c7s){return;}}this.outer={p0:r2.clone(this.p0),p1:r2.clone(this.p1)};A7h=C1C.getYAxisByField(c7s,this.field);i9M=this.pixelFromValue(c7s,this.p0[0],this.p0[1],A7h);k6E=this.pixelFromValue(c7s,this.p1["0" * 1],this.p1["1" ^ 0],A7h);w0y=C1C.pixelFromTick(this.p0[0],c7s.chart);Q2M=C1C.pixelFromTick(this.p1[0],c7s.chart);P1m.w7b(1);h7$=P1m.o4m(2,k6E,i9M);U5_=r2.xIntersection({x0:w0y,x1:Q2M,y0:i9M,y1:k6E},h7$);this.outer.p0[1]=this.valueFromPixel(h7$,c7s,A7h);this.outer.p0[0]=C1C.tickFromPixel(U5_,c7s.chart);};r2.Drawing.fibarc.prototype.intersected=function(Q65,B5_,x1Q){var C3h,B2I,Z65,A6w,L9u,E69,h8L,K_R,j9j,s7c,I7X,B$O,j54,b3y,O9$,q3_;C3h="seg";C3h+="m";C3h+="e";C3h+="nt";P1m.y4d();B2I=this.stx;Z65=B2I.panels[this.panelName];if(!Z65){return;}A6w=this.p0;L9u=this.p1;E69=this.outer;if(!A6w || !L9u){return null;}h8L={0:A6w,1:L9u};for(var H9e in h8L){if(this.pointIntersection(h8L[H9e]["0" << 32],h8L[H9e][1],x1Q)){K_R="d";K_R+="r";K_R+="a";K_R+="g";P1m.O3H(2);this.highlighted=P1m.O80(H9e,(4725,598.67) === (5492,5247)?(+"0x1cca",4.30e+3):761.95 === 9037?(0x595,0x18de):"p");return {action:K_R,point:"p" + H9e};}}j9j=this.valueOnDrawingAxis(Q65,B5_);if(this.lineIntersection(Q65,j9j,x1Q,C3h,E69.p0,E69.p1)){s7c="mo";s7c+="v";s7c+="e";this.highlighted=!!"1";return {action:s7c,p0:r2.clone(A6w),p1:r2.clone(L9u),tick:Q65,value:j9j};}I7X=B2I.getYAxisByField(Z65,this.field);B$O={x0:A6w["0" * 1],x1:L9u["0" ^ 0],y0:A6w[1],y1:L9u[1]};j54=this.boxToPixels(B2I,this.panelName,B$O,I7X);b3y={x:Math.abs(Math.sqrt(+"2") * (j54.x1 - j54.x0)),y:Math.abs(Math.sqrt(2) * (j54.y1 - j54.y0))};O9$=B2I.pixelFromTick(Q65,Z65.chart);q3_=B2I.pixelFromValueAdjusted(Z65,Q65,B5_);if(O9$ + x1Q.r < j54.x1 - b3y.x || O9$ - x1Q.r > j54.x1 + b3y.x){return null;}if(q3_ + x1Q.r < j54.y1 - b3y.y || q3_ - x1Q.r > j54.y1 + b3y.y){return null;}if(j54.y0 < j54.y1 && q3_ - x1Q.r > j54.y1){return null;}if(j54.y0 > j54.y1 && q3_ + x1Q.r < j54.y1){return null;}this.highlighted=!0;return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:Q65,value:j9j};};r2.Drawing.fibarc.prototype.render=function(f55){var U7y,G9p,g$C,O2Q,b$F,X_X,c1G,y88,v$5,b8S,q7z,D$I,t6J,l_w,e5_,Q$8,T7G,g4Q,c3C,u94,l9l,U5M,U1y,t_x,A1I,r01,P7k;U7y="st";U7y+="x_";U7y+="yax";U7y+="is";G9p=this.stx;g$C=G9p.panels[this.panelName];O2Q=G9p.getYAxisByField(g$C,this.field);if(!g$C || this.field && !O2Q){return;}O2Q=O2Q || g$C.yAxis;if(!this.p1){return;}b$F=G9p.pixelFromTick(this.p0["0" * 1],g$C.chart);X_X=G9p.pixelFromTick(this.p1[0],g$C.chart);c1G=this.pixelFromValue(g$C,this.p0[0],this.p0[1],O2Q);y88=this.pixelFromValue(g$C,this.p1[+"0"],this.p1[1],O2Q);P1m.w7b(58);v$5=P1m.o4m(y88,c1G);P1m.w7b(59);b8S=Math.abs(P1m.o4m(b$F,c1G,X_X,y88));q7z=this.getLineColor(this.parameters.trend.color);P1m.y4d();f55.textBaseline="middle";G9p.canvasFont(U7y,f55);D$I=this.getLineColor();for(var T_E=+"0";T_E < this.parameters.fibs.length;T_E++){t6J="a";t6J+="u";t6J+="t";t6J+="o";f55.fillStyle=D$I;l_w=this.parameters.fibs[T_E];if(l_w.level < 0 || !l_w.display)continue;P1m.w7b(23);var L6b=P1m.O80(14,2,34,7);P1m.O3H(4);var o$I=P1m.o4m(12,15,26);P1m.w7b(60);var I5L=P1m.o4m(16,22,12,14,8);e5_=Math.abs(this.p1[L6b] - this.p0[o$I]) * Math.sqrt(I5L) * l_w.level;P1m.w7b(61);var X3R=P1m.O80(17,5,11,16,17);P1m.w7b(62);var o0b=P1m.o4m(16,11,3,2);P1m.w7b(17);var S39=P1m.o4m(16,15);P1m.O3H(63);var u9E=P1m.O80(14,11,0,12,5);Q$8=this.p1[X3R] + e5_ * (v$5?o0b:+"1") * (O2Q.flipped?S39:u9E);T7G=this.pixelFromValue(g$C,this.p0[0],Q$8,O2Q);g4Q=r2.xIntersection({x0:b$F,x1:X_X,y0:c1G,y1:y88},T7G);if(this.parameters.printLevels){c3C="cente";c3C+="r";f55.textAlign=c3C;P1m.w7b(6);var S94=P1m.o4m(497,6);u94=Math.round(l_w.level * +"1000") / +"10" + (+"9330" < (806.25,S94)?+"6.66e+3":"%");if(this.parameters.printValues){l9l="stx_";l9l+="yaxis";f55.fillStyle=D$I;G9p.canvasFont(l9l,f55);}f55.fillText(u94,X_X,Math.round(T7G - 5));}f55.textAlign="left";if(this.parameters.printValues){if(g4Q < g$C.width){U5M=Q$8;if(O2Q.priceFormatter){U5M=O2Q.priceFormatter(G9p,g$C,U5M);}else {U5M=G9p.formatYAxisPrice(U5M,g$C,null,O2Q);}if(f55 == G9p.chart.context){G9p.endClip();}G9p.createYAxisLabel(g$C,U5M,T7G,this.getLineColor(null,!!({})),null,f55,O2Q);if(f55 == G9p.chart.context){G9p.startClip(g$C.name);}}}U1y=l_w.color;if(U1y == t6J || r2.isTransparent(U1y)){U1y=this.getLineColor();}f55.strokeStyle=U1y;t_x=l_w.color;if(t_x == "auto" || r2.isTransparent(t_x)){t_x=this.fillColor;}if(t_x == "auto" || r2.isTransparent(t_x)){t_x=G9p.defaultColor;}f55.fillStyle=t_x;f55.globalAlpha=this.highlighted?1:l_w.parameters.opacity;f55.lineWidth=l_w.parameters.lineWidth;if(f55.setLineDash){f55.setLineDash(r2.borderPatternToArray(f55.lineWidth,l_w.parameters.pattern));f55.lineDashOffset=0;}f55.save();f55.beginPath();P1m.w7b(9);f55.scale(P1m.O80(b8S,1),1);P1m.w7b(7);f55.arc(P1m.O80(b8S,X_X),y88,Math.abs(T7G - y88),0,Math.PI,!v$5);if(this.pattern != "none"){f55.stroke();}f55.globalAlpha=0.05;f55.fill();f55.restore();if(f55.setLineDash){f55.setLineDash([]);}f55.globalAlpha=1;}f55.textAlign="left";A1I=r2.clone(this.parameters.trend.parameters);if(this.highlighted){A1I.opacity=1;}P1m.O3H(1);G9p.plotLine(X_X,P1m.o4m(2,X_X,b$F),y88,P1m.o4m(2,y88,c1G),q7z,"segment",f55,g$C,A1I);if(this.highlighted){r01=this.highlighted == "p0"?!0:![];P7k=this.highlighted == "p1"?!![]:![];this.littleCircle(f55,b$F,c1G,r01);this.littleCircle(f55,X_X,y88,P7k);}};r2.Drawing.fibfan=function(){P1m.B2i();this.name="fibfan";};r2.inheritsFrom(r2.Drawing.fibfan,r2.Drawing.fibonacci);P1m.w7b(6);r2.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,P1m.O80("0.5",0),0.618,1];r2.Drawing.fibfan.prototype.setOuter=function(){};r2.Drawing.fibfan.prototype.render=function(J2s){P1m.B2i();var j7m,i1o,H6u,F8P,N7C,d_m,r5K,e4k,E3K,g4i,p1l,g$s,c8L,m_j,l9t,W$R,i99,A25,C0X,C0x,T3X,x5K,U07,K6W,G1h,u8l,C6e,O3O,h36,D6t,Y$w,l55;j7m=this.stx;i1o=j7m.panels[this.panelName];H6u=j7m.getYAxisByField(i1o,this.field);if(!i1o || this.field && !H6u){return;}H6u=H6u || i1o.yAxis;if(!this.p1){return;}F8P=j7m.pixelFromTick(this.p0[0],i1o.chart);N7C=j7m.pixelFromTick(this.p1[0],i1o.chart);d_m=this.pixelFromValue(i1o,this.p0[+"0"],this.p0[1],H6u);r5K=this.pixelFromValue(i1o,this.p1[0],this.p1[1],H6u);e4k=Math.min(r5K,d_m);E3K=Math.max(r5K,d_m);P1m.O3H(6);g4i=P1m.o4m(E3K,e4k);P1m.w7b(64);p1l=P1m.o4m("0",F8P,r5K,0,N7C,d_m);g$s=this.getLineColor(this.parameters.trend.color);J2s.textBaseline="middle";j7m.canvasFont("stx_yaxis",J2s);P1m.O3H(28);var j9m=P1m.O80(1,11,20,1);c8L=J2s.measureText("161.8%").width + j9m;m_j=Number.MAX_VALUE;P1m.O3H(65);var j07=P1m.O80(71,9,7,5,6);l9t=Number.MAX_VALUE * j07;W$R=this.getLineColor();this.rays=[];for(var v68=0;v68 < this.parameters.fibs.length;v68++){J2s.fillStyle=W$R;i99=this.parameters.fibs[v68];if(!i99.display)continue;A25=this.pixelFromValue(i1o,this.p0[0],(this.p0[1] - this.p1[1]) * i99.level + this.p1[1],H6u);C0X=r2.xIntersection({x0:N7C,x1:N7C,y0:d_m,y1:r5K},A25);C0x=i1o.left;if(N7C > F8P){C0x+=i1o.width;}P1m.w7b(66);T3X=P1m.O80(F8P,A25,C0X,C0x,d_m,d_m,F8P);if(F8P > C0x - (this.parameters.printLevels?c8L + ("5" - 0):0) && N7C > F8P)continue;else if(F8P < C0x + (this.parameters.printLevels?c8L + +"5":0) && N7C < F8P)continue;if(this.parameters.printLevels){P1m.O3H(6);var d$j=P1m.O80(1004,4);P1m.O3H(6);var X7H=P1m.O80(26,16);P1m.w7b(17);var u4t=P1m.O80(11,13);P1m.O3H(4);var v4n=P1m.o4m(17,526,6);P1m.w7b(23);var r6U=P1m.o4m(4857,2,4865,6);P1m.w7b(13);var K0r=P1m.o4m(10,1977,4,2622);P1m.w7b(2);var n1e=P1m.O80(5323,887);P1m.w7b(29);var J6$=P1m.o4m(37827,14,16,2395);P1m.O3H(67);var q80=P1m.o4m(3449,10,347,3470);P1m.O3H(68);var K0q=P1m.O80(4512,8,13557,4,14);x5K=Math.round(i99.level * d$j) / X7H + (("8090" | u4t,v4n) > r6U?677.84 === (K0r,n1e)?169.71:J6$ <= (+"4228",q80)?(K0q,50.10):("0xc10" >> 0,23.61):"%");if(N7C > F8P){U07="l";U07+="e";U07+="f";U07+="t";C0x-=c8L;J2s.textAlign=U07;}else {C0x+=c8L;J2s.textAlign="right";}if(this.parameters.printValues){K6W="stx_";K6W+="yaxi";K6W+="s";J2s.fillStyle=W$R;j7m.canvasFont(K6W,J2s);}P1m.w7b(66);T3X=P1m.o4m(F8P,A25,C0X,C0x,d_m,d_m,F8P);J2s.fillText(x5K,C0x,T3X);if(N7C > F8P){C0x-=5;}else {P1m.O3H(6);C0x+=P1m.o4m("5",0);}}J2s.textAlign="left";if(this.parameters.printValues){if(C0X < i1o.width){G1h=this.valueFromPixel(A25,i1o,H6u);if(H6u.priceFormatter){G1h=H6u.priceFormatter(j7m,i1o,G1h);}else {G1h=j7m.formatYAxisPrice(G1h,i1o,null,H6u);}if(J2s == j7m.chart.context){j7m.endClip();}j7m.createYAxisLabel(i1o,G1h,A25,this.getLineColor(null,!""),null,J2s,H6u);if(J2s == j7m.chart.context){j7m.startClip(i1o.name);}}}u8l=i99.color;if(u8l == "auto" || r2.isTransparent(u8l)){u8l=this.getLineColor();}C6e=i99.color;if(C6e == "auto" || r2.isTransparent(C6e)){C6e=this.fillColor;}if(C6e == "auto" || r2.isTransparent(C6e)){C6e=j7m.defaultColor;}J2s.fillStyle=C6e;if(this.parameters.printLevels){P1m.O3H(66);T3X=P1m.o4m(F8P,A25,C0X,C0x,d_m,d_m,F8P);}O3O=r2.clone(i99.parameters);if(this.highlighted){O3O.opacity=1;}j7m.plotLine(F8P,C0x,d_m,T3X,u8l,"segment",J2s,i1o,O3O);this.rays.push([[F8P,d_m],[C0x,T3X]]);J2s.globalAlpha=0.05;J2s.beginPath();J2s.moveTo(C0x,T3X);J2s.lineTo(F8P,d_m);J2s.lineTo(C0x,d_m);J2s.fill();J2s.globalAlpha=1;if(A25 < m_j){m_j=A25;}if(A25 > l9t){l9t=A25;}}for(var n4i="0" << 32;n4i <= 1;n4i++){h36=p1l?E3K - g4i * n4i:e4k + g4i * n4i;h36=Math.round(h36);if(h36 < m_j){m_j=h36;}if(h36 > l9t){l9t=h36;}}if(this.highlighted){D6t="p";D6t+="0";Y$w=this.highlighted == D6t?!!1:!({});l55=this.highlighted == "p1"?!!({}):![];this.littleCircle(J2s,F8P,d_m,Y$w);this.littleCircle(J2s,N7C,r5K,l55);}};r2.Drawing.fibtimezone=function(){P1m.y4d();this.name="fibtimezone";};r2.inheritsFrom(r2.Drawing.fibtimezone,r2.Drawing.fibonacci);r2.Drawing.fibtimezone.prototype.render=function(F4A){var P3c,Q57,V7f,a6I,C6M,a_O,Q3V,N0L,G89,u0k,J5P,m9f,x4g,e7v,F7r,Q2C,a9R,a10,E0m,l1a,F7q,t4H;P3c="au";P3c+="t";P3c+="o";Q57="s";Q57+="t";Q57+="x_yaxi";Q57+="s";var {stx:j8z}=this;V7f=j8z.panels[this.panelName];a6I=j8z.getYAxisByField(V7f,this.field);if(!V7f || this.field && !a6I){return;}a6I=a6I || V7f.yAxis;if(!this.p1){return;}var {chart:y3v, left:P5p, width:y72}=V7f;var {p0:l2D, p1:m0B, parameters:l1m, highlighted:N1E}=this;C6M=j8z.pixelFromTick(l2D[0],y3v);a_O=j8z.pixelFromTick(m0B[0],y3v);Q3V=this.pixelFromValue(V7f,l2D[0],l2D[1],a6I);N0L=this.pixelFromValue(V7f,m0B[0],m0B[+"1"],a6I);G89=[1,0];u0k=this.getLineColor(l1m.trend.color);F4A.textBaseline="middle";j8z.canvasFont(Q57,F4A);J5P=20;m9f=this.p1[0] - this.p0[0];x4g=this.getLineColor();F4A.textAlign="center";e7v=C6M;F7r=0;var {top:A6S}=a6I;Q2C=a6I.bottom;var {printLevels:Q9C, timezone:d59}=l1m;a9R=d59.color;if(a9R == "auto" || r2.isTransparent(a9R)){a9R=this.getLineColor();}a10=d59.color;if(a10 == "auto" || r2.isTransparent(a10)){a10=this.fillColor;}if(a10 == P3c || r2.isTransparent(a10)){a10=j8z.defaultColor;}if(Q9C){P1m.O3H(6);Q2C-=P1m.o4m(J5P,7);}E0m=r2.clone(l1m.timezone.parameters);if(N1E){E0m.opacity=1;}while(!!1){e7v=j8z.pixelFromTick(l2D[0] + F7r * m9f,y3v);if(C6M < a_O && e7v > P5p + y72 || C6M > a_O && e7v < P5p)break;if(Q9C){F4A.fillStyle=x4g;F4A.fillText(a_O > C6M?F7r:F7r * -1,e7v,Q2C + 7);}F4A.fillStyle=a10;j8z.plotLine(e7v,e7v,0,Q2C,a9R,"segment",F4A,V7f,E0m);F4A.globalAlpha=+"0.05";F4A.beginPath();F4A.moveTo(C6M,A6S);F4A.lineTo(e7v,A6S);F4A.lineTo(e7v,Q2C);F4A.lineTo(C6M,Q2C);F4A.fill();F4A.globalAlpha=1;P1m.w7b(1);var r$b=P1m.O80(8,135,17);F7r=G89[0] + G89[r$b];G89.unshift(F7r);if(!m9f)break;}F4A.textAlign="left";j8z.plotLine(C6M,a_O,Q3V,N0L,u0k,"segment",F4A,V7f,E0m);if(this.highlighted){l1a=N1E == "p0"?!!({}):!!0;F7q=N1E == "p1"?!"":!!"";this.littleCircle(F4A,C6M,Q3V,l1a);this.littleCircle(F4A,a_O,N0L,F7q);}else {t4H=this.valueFromPixel(V7f.height / 2,V7f,a6I);this.setPoint(0,l2D[0],t4H,y3v);P1m.w7b(69);this.setPoint(P1m.O80("1",0),m0B[+"0"],t4H,y3v);}};r2.Drawing.fibtimezone.prototype.intersected=function(A1d,D5m,E5e){var d6s,B4l,E6O,B_n,i1H;d6s=this.p0;P1m.y4d();B4l=this.p1;E6O=this.stx.panels[this.panelName];if(!d6s || !B4l || !E6O){return null;}B_n={0:d6s,1:B4l};for(var F5i in B_n){if(this.pointIntersection(B_n[F5i][0],B_n[F5i][1],E5e)){P1m.w7b(2);this.highlighted=P1m.o4m(F5i,"p");return {action:"drag",point:"p" + F5i};}}i1H=this.lineIntersection(A1d,D5m,E5e,"segment");if(i1H || E5e.x0 <= this.p0[0] && E5e.x1 >= d6s[0]){this.highlighted=!!({});return {action:"move",p0:r2.clone(d6s),p1:r2.clone(B4l),tick:A1d,value:this.valueOnDrawingAxis(A1d,D5m)};}return null;};r2.Drawing.arrow_v0=function(){this.name="arrow";P1m.y4d();P1m.w7b(7);this.dimension=[11,P1m.O80(1,"11")];P1m.O3H(7);this.points=[[856.52 != (5880,3820)?(9939,+"156.58") !== 7123?"M":"486.81" * 1 !== "1620" >> 32?"5.84e+3" << 64:(0x1942,"a"):1.51e+3,3,+"0","6211" << 32 == ("5889" | 0,1266)?(2.44e+3,"M"):"L",7,0,6689 !== (120.8,385)?"L":0x1c32,7,5,"L",10,5,"L",5,10,(267.03,+"9620") == 8054?(!({}),!1):(4550,8970) != 257.71?"L":0x19,0,5,"L",3,5,"L",P1m.o4m(1,"3"),+"0"]];};r2.inheritsFrom(r2.Drawing.arrow_v0,r2.Drawing.shape);r2.Drawing.xcross=function(){var a4E,S66,I_I,O7N;a4E="xc";P1m.B2i();a4E+="ross";this.name=a4E;S66=-706252852;I_I=1884348700;O7N=2;for(var j0$=1;P1m.U7z(j0$.toString(),j0$.toString().length,4849) !== S66;j0$++){this.dimension=[6,1];O7N+=2;}if(P1m.d8W(O7N.toString(),O7N.toString().length,+"49207") !== I_I){this.dimension=[1,2];}this.dimension=[+"7",7];P1m.O3H(7);this.points=[["M",1,0,5478 >= 317.69?4890 <= 324.24?"3450" * 1 <= (9050,2624)?!!0:"H":"L":(!0,+"526.10"),P1m.o4m(1,"3"),2,(3154,3900) >= 4640?("4215" >> 64,509.39) !== (681.74,495.44)?!!"":0x153d:"L",P1m.o4m("5",1,P1m.w7b(43)),0,6299 !== 3990?"L":"k",6,1,"L",+"4",3,"L",6,5,"L",5,6,("722.59" - 0,1820) <= +"16.71"?(0x118f,+"469.43"):915 != 602.98?2310 == ("1210" * 1,3570)?(0x240f,0x1a8d):"L":(!!({}),240.22),3,4,(+"4690",7785) !== 1300?"L":2560 !== (8692,699.18)?("670.15" - 0,6834) === 451.4?(0x1ef,!0):!![]:(9.06e+3,+"1.41e+3"),1,6,(+"8180",624.97) > (+"8123","4880" * 1)?(1351,7781) !== ("190.94" * 1,+"762.76")?(7.29e+3,0x1d36):(0xc7f,"0x1981" << 64):"L",+"0",5,(3695,6605) >= 703.07?"L":(779.74,71.03) < 851?(8.09e+3,!0):(891,!!"1"),P1m.O80("2",0,P1m.w7b(6)),3,(1549,395) > (+"4930",1081)?0xe0b:"L",0,1,(+"957.98",940) != (5450,759.86)?"L":(357.83,"6.21e+3" | 0),1,0]];};r2.inheritsFrom(r2.Drawing.xcross,r2.Drawing.shape);r2.Drawing.check=function(){this.name="check";P1m.B2i();this.dimension=[8,9];P1m.O3H(69);this.points=[[(5759,8562) >= 6529?"M":(8128,2750) <= 1590?"Q":0x1f99,1,5,+"7662" < (+"857.34",9870)?396.58 >= 9500?"J":("7678" | 28,865.56) <= 1280?"L":!!({}):("t",+"892.79"),0,6,(5050,982.85) < 1890?"L":(8.79e+2,+"806.81"),2,8,+"7580" >= 3350?"L":(3740,1948) >= (2342,"7340" >> 0)?(!![],5.08e+3):("A","K"),+"7",1,9552 >= (+"6690",7170)?"L":(8.73e+3,"k"),6,0,1300 === (416.88,"3190" | 96)?!!({}):"L",2,P1m.o4m("6",32),"437.44" - 0 <= 494.26?"L":"0x1d18" ^ 0,+"1",5]];};r2.inheritsFrom(r2.Drawing.check,r2.Drawing.shape);r2.Drawing.star=function(){this.name="star";P1m.w7b(7);this.dimension=[12,P1m.o4m(1,"12")];P1m.O3H(41);this.points=[["M",0,4,"L",4,4,1358 != (8150,9750)?(527.98,161.18) <= (2958,511.4)?"L":("x","A"):![],5.5,0,"L",7,4,"L",11,4,("2730" * 1,+"50.83") < 1150?(517.49,7120) <= (259.12,7263)?"L":(14.64,7100) >= (3860,1920)?(7.15e+3,0xf7a):(!"",!({})):!!1,8,+"7",8149 == (1280,4411)?"0xa18" * 1:"L",9,11,489.1 != 577?"L":(6.48e+3,"A"),5.5,9,7085 == (9000,"27.4" * 1)?3930 === (502,+"549.4")?(!![],"6.30e+3" >> 64):(!1,"377.26" * 1):"L",2,11,538 <= (9750,+"938.41")?"L":6595 <= (4680,7228)?4250 >= 6230?("s",8.97e+3):"8.74e+3" << 64:("K",208.99),3,P1m.O80("7",0),(346.66,6840) > 1871?"779.81" - 0 != (6440,2830)?"L":!!"":(1.73e+3,"9.66e+3" - 0),0,P1m.O80("4",0,P1m.O3H(25))]];};r2.inheritsFrom(r2.Drawing.star,r2.Drawing.shape);r2.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];P1m.y4d();P1m.O3H(6);this.points=[[+"1613" > 1510?"M":(0xb39,+"727.38"),11,3,(8780,488.63) == 368?!"1":"B",11,2.4,+"10",0,6,P1m.o4m("0",0),(+"650.05",920.36) == "674.09" * 1?(5060,+"4985") !== "4367" >> 0?(7.01e+3,"u"):"D":"B",0,+"0",0,7.5,0,7.5,+"382.94" < 7318?"B":(136,6140) > 415.86?0x16ed:(0x1c8b,0x259e),0,11,4,15.4,11,19,(+"4140",8984) === 3.49?(0x10f9,"j"):(887.49,+"7770") == (8440,9980)?5.72e+3:3563 <= (835.83,937)?(![],2.24e+3):"B",18,15.4,22,11,22,7.5,(956.03,9350) > (487,827.01)?5240 != 904?"B":(0x2524,"t"):(8.41e+3,!"1"),22,7.5,22,0,16,P1m.o4m("0",0),4980 < (+"993.05","684" >> 32)?(!"1",9.80e+3):"B",+"13",0,11,2.4,11,3]];};r2.inheritsFrom(r2.Drawing.heart,r2.Drawing.shape);r2.Drawing.focusarrow=function(){var a$y;a$y="f";a$y+="o";a$y+="cu";a$y+="sarrow";this.name=a$y;this.dimension=[7,5];P1m.y4d();P1m.O3H(69);this.points=[[(1470,467.82) > (8820,272.97)?646.31 != 3605?810.85 !== (510,7900)?"M":+"350.17":632.82:!!({}),0,0,810.67 !== 7979?(+"525",273) > (149.24,0.77)?"L":(!0,0xfaf):315.08,2,2,("761.98" - 0,+"4680") > 890.92?"L":(2.93e+2,0x1092),0,4,"L",0,0],["M",6,0,8849 == (625.31,+"8420")?4.93e+3:"L",4,2,773.81 >= (313.51,295.09)?"L":91.83 >= (7730,4347)?(5.01e+3,6.17e+3):174.15 === (7440,1350)?!"1":(!1,"7.21e+3" >> 64),P1m.o4m("6",32),4,"L",P1m.o4m("6",32,P1m.O3H(69)),P1m.O80("0",64,P1m.O3H(25))]];};r2.inheritsFrom(r2.Drawing.focusarrow,r2.Drawing.shape);r2.Drawing.crossline=function(){P1m.y4d();this.name="crossline";};r2.inheritsFrom(r2.Drawing.crossline,r2.Drawing.horizontal);r2.extend(r2.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(p81,H7H){P1m.B2i();return !({});},adjust:function(){var t0T;t0T=this.stx.panels[this.panelName];if(!t0T){return;}this.setPoint(0,this.d0,this.v0,t0T.chart);P1m.y4d();this.p1=r2.clone(this.p0);},intersected:function(t4E,A1G,J7j){var s6V;if(!this.p0 || !this.p1){return null;}P1m.y4d();this.p1[0]+=1;s6V=this.lineIntersection(t4E,A1G,J7j,"line");this.p1=r2.clone(this.p0);if(!s6V){this.p1[+"1"]+=1;s6V=this.lineIntersection(t4E,A1G,J7j,"line");this.p1=r2.clone(this.p0);if(!s6V){return null;}}this.highlighted=!!({});if(this.pointIntersection(this.p0[0],this.p0[1],J7j)){this.highlighted="p0";}return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:t4E,value:this.valueOnDrawingAxis(t4E,A1G)};},render:function(e6y){var S$W,L7e,h2A,P5H,H87,J9w,h1C,W5n,d9V,E50,Z9G,W41,f0Q,z$j,s2S,F3C,n0q;S$W=this.stx;L7e=S$W.panels[this.panelName];h2A=S$W.getYAxisByField(L7e,this.field);if(!L7e || this.field && !h2A){return;}h2A=h2A || L7e.yAxis;P5H=S$W.pixelFromTick(this.p0["0" << 32],L7e.chart);H87=this.pixelFromValue(L7e,this.p0["0" | 0],this.p0[1],h2A);J9w=this.getLineColor();h1C={pattern:this.pattern,lineWidth:this.lineWidth};P1m.w7b(2);S$W.plotLine(P5H,P1m.o4m(100,P5H),H87,H87,J9w,"horizontal",e6y,L7e,h1C);P1m.O3H(21);S$W.plotLine(P5H,P5H,H87,P1m.o4m(1,"100",H87),J9w,"vertical",e6y,L7e,h1C);if(this.axisLabel && !this.repositioner){S$W.endClip();W5n=this.p0[1];if(L7e.chart.transformFunc){W5n=L7e.chart.transformFunc(S$W,L7e.chart,W5n);}if(h2A.priceFormatter){W5n=h2A.priceFormatter(S$W,L7e,W5n);}else {W5n=S$W.formatYAxisPrice(W5n,L7e,null,h2A);}S$W.createYAxisLabel(L7e,W5n,H87,J9w,null,null,h2A);S$W.startClip(L7e.name);if(this.p0[0] >= 0 && !S$W.chart.xAxis.noDraw){d9V=S$W.dateFromTick(this.p0["0" << 32],L7e.chart,!!({}));if(!r2.ChartEngine.isDailyInterval(S$W.layout.interval)){Z9G=d9V.getSeconds() * +"1000" + d9V.getMilliseconds();if(Z8.Date && S$W.displayZone){E50=new Z8.Date(d9V.getTime(),S$W.displayZone);d9V=new Date(E50.getFullYear(),E50.getMonth(),E50.getDate(),E50.getHours(),E50.getMinutes());d9V=new Date(d9V.getTime() + Z9G);}}else {d9V.setHours(0,0,0,0);}W41=r2.mmddhhmm(r2.yyyymmddhhmm(d9V));if(L7e.chart.xAxis.formatter){f0Q=-691600313;z$j=535074499;s2S=2;for(var V0P=1;P1m.d8W(V0P.toString(),V0P.toString().length,12846) !== f0Q;V0P++){W41=L7e.chart.xAxis.formatter(d9V,this.name,null,null,W41);P1m.O3H(43);s2S+=P1m.O80("2",2);}if(P1m.U7z(s2S.toString(),s2S.toString().length,24269) !== z$j){W41=L7e.chart.xAxis.formatter(d9V,this.name,1,1,W41);}}else if(this.stx.internationalizer){W41=r2.displayableDate(S$W,S$W.chart,d9V);}S$W.endClip();S$W.createXAxisLabel({panel:L7e,txt:W41,x:P5H,backgroundColor:J9w,color:null,pointed:!0,padding:2});S$W.startClip(L7e.name);}}if(this.highlighted){F3C="p";F3C+="0";n0q=this.highlighted == F3C?!!"1":!!"";this.littleCircle(e6y,P5H,H87,n0q);}}},!!({}));r2.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!!({});};r2.inheritsFrom(r2.Drawing.speedarc,r2.Drawing.segment);r2.extend(r2.Drawing.speedarc.prototype,{defaultOpacity:"0.25" * 1,configs:["color",f3T,z$z,"pattern"],copyConfig:function(){var c81;c81=this.stx.currentVectorParameters;this.color=c81.currentColor;this.fillColor=c81.fillColor;this.lineWidth=c81.lineWidth;this.pattern=c81.pattern;},intersected:function(j46,h1F,A3W){P1m.y4d();var G6G,x19,r6v,S7F,R0U,v9j,P4l;if(!this.p0 || !this.p1){return null;}G6G={0:this.p0,1:this.p1};for(var C5I in G6G){if(this.pointIntersection(G6G[C5I]["0" | 0],G6G[C5I][1],A3W)){P1m.O3H(2);this.highlighted=P1m.O80(C5I,5080 != (8749,3900)?(4290,"9582" | 8) > 7507?"p":(228.03,"E"):(47.65,"u"));return {action:"drag",point:((6484,"266" >> 64) == 684?0x1a5d:"p") + C5I};}}x19=this.valueOnDrawingAxis(j46,h1F);r6v=this.lineIntersection(j46,h1F,A3W,this.name);if(r6v){this.highlighted=!!"1";return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:j46,value:x19};}S7F=this.p1[0] - (this.p0[0] - this.p1[0]);R0U=this.p0[0];v9j=this.p1[1];P4l=this.p0[1];if(j46 > Math.max(S7F,R0U) || j46 < Math.min(S7F,R0U)){return null;}if(x19 > Math.max(P4l,v9j) || x19 < Math.min(P4l,v9j)){return null;}this.highlighted=!!"1";return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:j46,value:x19};},render:function(j44){var E38,Y0_,O4F,N93,j56,i6F,l7d,h4S,e1P,Z7U,n6X,Z4A,s9T,G1q,X8a,h9s,W28,Y1Y,t7Y,j23,g13,w$M,u$w;E38="se";E38+="gme";E38+="nt";Y0_=this.stx;O4F=Y0_.panels[this.panelName];N93=Y0_.getYAxisByField(O4F,this.field);if(!O4F || this.field && !N93){return;}N93=N93 || O4F.yAxis;if(!this.p1){return;}j56=Y0_.pixelFromTick(this.p0[0],O4F.chart);i6F=Y0_.pixelFromTick(this.p1[0],O4F.chart);l7d=this.pixelFromValue(O4F,this.p0[+"0"],this.p0[1],N93);h4S=this.pixelFromValue(O4F,this.p1[0],this.p1[1],N93);P1m.O3H(58);e1P=P1m.o4m(h4S,l7d);P1m.w7b(59);Z7U=Math.abs(P1m.O80(j56,l7d,i6F,h4S));n6X=this.getLineColor();j44.strokeStyle=n6X;Z4A=this.fillColor;if(Z4A == "auto" || r2.isTransparent(Z4A)){Z4A=Y0_.defaultColor;}j44.fillStyle=Z4A;if(j44.setLineDash){j44.setLineDash(r2.borderPatternToArray(this.lineWidth,this.pattern));j44.lineDashOffset=0;}Y0_.canvasFont("stx_yaxis",j44);for(var L9d=1;L9d < 3;L9d++){s9T="n";s9T+="o";s9T+="n";s9T+="e";P1m.w7b(6);var D$b=P1m.o4m(5,4);P1m.w7b(70);var o$N=P1m.o4m(7,5,4,60,8);P1m.w7b(71);var B7o=P1m.o4m(10,19,7);P1m.O3H(72);var b$E=P1m.O80(10,580,15,4,17);G1q=Math.abs(this.p1[D$b] - this.p0[o$N]) * Math.sqrt(B7o) * L9d / b$E;P1m.O3H(6);var q73=P1m.O80(4,3);P1m.w7b(73);var V_f=P1m.O80(10,7,16);P1m.w7b(38);var A0w=P1m.o4m(3,17,103,2);X8a=this.p1[q73] + G1q * (e1P?V_f:+"1") * (N93.flipped?A0w:"1" - 0);h9s=this.pixelFromValue(O4F,this.p0[+"0"],X8a,N93);j44.save();j44.beginPath();P1m.w7b(9);j44.scale(P1m.o4m(Z7U,1),1);P1m.w7b(7);j44.arc(P1m.o4m(Z7U,i6F),h4S,Math.abs(h9s - h4S),0,Math.PI,!e1P);j44.globalAlpha=this.highlighted?"1" - 0:this.defaultOpacity;if(this.pattern != s9T){j44.stroke();}j44.globalAlpha=0.1;j44.fill();j44.restore();j44.globalAlpha=1;if(this.printLevels){W28="c";W28+="enter";j44.fillStyle=n6X;j44.textAlign=W28;P1m.O3H(2);Y1Y=P1m.O80("/3",L9d);j44.fillText(Y1Y,i6F,Math.round(h9s - 5));j44.fillStyle=Z4A;}}j44.textAlign="left";t7Y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};Y0_.plotLine(j56,i6F,l7d,h4S,n6X,E38,j44,O4F,t7Y);if(j44.setLineDash){j44.setLineDash([]);}if(this.highlighted){j23="p";j23+="1";g13="p";g13+="0";w$M=this.highlighted == g13?!![]:!!0;u$w=this.highlighted == j23?!"":!!"";this.littleCircle(j44,j56,l7d,w$M);this.littleCircle(j44,i6F,h4S,u$w);}},reconstruct:function(i8z,J5k){this.stx=i8z;this.color=J5k.col;this.fillColor=J5k.fc;this.panelName=J5k.pnl;this.pattern=J5k.ptrn;this.lineWidth=J5k.lw;this.d0=J5k.d0;this.d1=J5k.d1;this.tzo0=J5k.tzo0;this.tzo1=J5k.tzo1;this.v0=J5k.v0;this.v1=J5k.v1;this.field=J5k.fld;P1m.y4d();this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},!![]);r2.Drawing.speedline=function(){this.name="speedline";P1m.y4d();this.printLevels=!0;};r2.inheritsFrom(r2.Drawing.speedline,r2.Drawing.speedarc);r2.extend(r2.Drawing.speedline.prototype,{intersected:function(B0_,Y_I,y0J){var l0a,X0a,m$H,w$k,c_O;l0a=this.p0;X0a=this.p1;if(!l0a || !X0a){return null;}m$H={0:l0a,1:X0a};for(var H5n in m$H){if(this.pointIntersection(m$H[H5n][+"0"],m$H[H5n][1],y0J)){P1m.O3H(2);this.highlighted=P1m.O80(H5n,(918,12.27) != ("2506" ^ 0,9950)?"p":(!!1,942.85));return {action:"drag",point:"p" + H5n};}}w$k=this.rays;for(var k0E=0;k0E < w$k.length;k0E++){if(this.lineIntersection(B0_,Y_I,y0J,"ray",w$k[k0E][0],w$k[k0E][1],!!"1")){c_O="mov";c_O+="e";this.highlighted=!![];return {action:c_O,p0:r2.clone(l0a),p1:r2.clone(X0a),tick:B0_,value:this.valueOnDrawingAxis(B0_,Y_I)};}}return null;},render:function(r8X){var S7Y,O8X,a2I,Y8D,O0E,l$3,P7b,I9y,q$m,w3b,o8J,e7f,J4x,k7k,A59,d7w,r6T,F5R,G$o,V05,Y_b,W2g,j7x,p7g,j7w,i7j,Q5S,V6Y,i$W;S7Y="le";S7Y+="f";S7Y+="t";O8X=this.stx;a2I=O8X.panels[this.panelName];Y8D=O8X.getYAxisByField(a2I,this.field);if(!a2I || this.field && !Y8D){return;}if(!this.p1){return;}O0E=O8X.pixelFromTick(this.p0[+"0"],a2I.chart);l$3=O8X.pixelFromTick(this.p1[0],a2I.chart);P7b=this.pixelFromValue(a2I,this.p0[0],this.p0[1],Y8D);I9y=this.pixelFromValue(a2I,this.p1[0],this.p1[1],Y8D);O8X.canvasFont("stx_yaxis",r8X);q$m=this.getLineColor();r8X.strokeStyle=q$m;w3b=this.fillColor;if(w3b == "auto" || r2.isTransparent(w3b)){w3b=O8X.defaultColor;}r8X.fillStyle=w3b;o8J={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};k7k=[8497 === 2350?(3.61e+3,!!"1"):"1","2/3","1/3","3/2",18.3 >= (3703,5960)?"b":"3"];P1m.w7b(9);A59=[1,P1m.o4m(3,2),P1m.o4m(3,1),P1m.o4m(2,3),3];d7w=[];P1m.B2i();this.rays=[];for(var P0N=0;P0N < A59.length;P0N++){r6T=A59[P0N];if(r6T > 1 && !this.extension)continue;F5R=this.pixelFromValue(a2I,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * r6T,Y8D);if(r6T > 1){G$o=r2.xIntersection({x0:O0E,x1:l$3,y0:P7b,y1:F5R},I9y);d7w.push(G$o);}else {G$o=r2.xIntersection({x0:l$3,x1:l$3,y0:P7b,y1:I9y},F5R);d7w.push(F5R);}V05=r6T > 1?G$o:l$3;Y_b=r6T > 1?I9y:F5R;if(!this.confineToGrid){V05=a2I.left;if(l$3 > O0E){V05+=a2I.width;}P1m.w7b(66);Y_b=P1m.O80(O0E,F5R,l$3,V05,P7b,P7b,O0E);}if(this.printLevels){if(r6T != ("1" ^ 0) || this.extension){r8X.fillStyle=q$m;W2g=0;j7x=0;if(P7b > I9y){p7g="b";p7g+="ot";p7g+="to";p7g+="m";j7x=-5;r8X.textBaseline=p7g;}else {j7x=+"5";r8X.textBaseline="top";}if(O0E > l$3){W2g=+"5";r8X.textAlign="right";}else {W2g=-5;r8X.textAlign="left";}if(r6T > 1){r8X.fillText(k7k[P0N],G$o + (this.confineToGrid?0:W2g),I9y);}else {r8X.fillText(k7k[P0N],l$3,F5R + (this.confineToGrid?0:j7x));}r8X.fillStyle=w3b;}}O8X.plotLine(O0E,V05,P7b,Y_b,q$m,"segment",r8X,a2I,o8J);if(r6T == 1){e7f=V05;J4x=Y_b;}this.rays.push([[O0E,P7b],[V05,Y_b]]);r8X.globalAlpha=0.1;r8X.beginPath();r8X.moveTo(V05,Y_b);r8X.lineTo(O0E,P7b);r8X.lineTo(e7f,J4x);r8X.fill();r8X.globalAlpha=1;}r8X.textAlign=S7Y;r8X.textBaseline="middle";if(this.confineToGrid){r8X.globalAlpha=0.3;r8X.beginPath();P1m.w7b(6);r8X.strokeRect(O0E,P7b,P1m.o4m(l$3,O0E),P1m.o4m(I9y,P7b));j7w=-2063426858;i7j=-736226659;Q5S=2;for(var f6f=1;P1m.U7z(f6f.toString(),f6f.toString().length,46066) !== j7w;f6f++){r8X.moveTo(O0E,d7w["1" << 32]);Q5S+=2;}if(P1m.U7z(Q5S.toString(),Q5S.toString().length,95792) !== i7j){r8X.moveTo(O0E,d7w[2]);}r8X.lineTo(l$3,d7w[1]);r8X.moveTo(O0E,d7w[2]);r8X.lineTo(l$3,d7w[2]);if(this.extension){r8X.moveTo(d7w[3],P7b);r8X.lineTo(d7w[3],I9y);r8X.moveTo(d7w[4],P7b);r8X.lineTo(d7w[4],I9y);}r8X.stroke();r8X.globalAlpha=1;}if(this.highlighted){V6Y=this.highlighted == "p0"?!![]:!({});i$W=this.highlighted == "p1"?!!({}):!({});this.littleCircle(r8X,O0E,P7b,V6Y);this.littleCircle(r8X,l$3,I9y,i$W);}}},!![]);r2.Drawing.gannfan=function(){var j5W,T3M,q1t;j5W=-299985715;T3M=1274393948;q1t=2;for(var V88=1;P1m.U7z(V88.toString(),V88.toString().length,+"84910") !== j5W;V88++){this.name="";q1t+=2;}if(P1m.d8W(q1t.toString(),q1t.toString().length,44601) !== T3M){this.name="gannfan";}this.printLevels=!!({});};r2.inheritsFrom(r2.Drawing.gannfan,r2.Drawing.speedline);r2.extend(r2.Drawing.gannfan.prototype,{render:function(U0z){var h1U,z_t,x4i,I2s,B0V,W63,Y_k,D1U,N7c,r4J,H3U,O99,w6T,J$L,t$9,n_m,G9f,n0k,r1l,w93,F5W,x9_,E8$,c_L,z9X,j2V,p7N,I0B,s4_,t4K,R8v;h1U="l";h1U+="e";h1U+="f";h1U+="t";z_t="a";z_t+="u";z_t+="t";z_t+="o";x4i=this.stx;I2s=x4i.panels[this.panelName];B0V=x4i.getYAxisByField(I2s,this.field);if(!I2s || this.field && !B0V){return;}if(!this.p1){return;}W63=x4i.pixelFromTick(this.p0[0],I2s.chart);P1m.B2i();Y_k=x4i.pixelFromTick(this.p1[0],I2s.chart);D1U=this.pixelFromValue(I2s,this.p0[0],this.p0[1],B0V);N7c=this.pixelFromValue(I2s,this.p1[0],this.p1[1],B0V);x4i.canvasFont("stx_yaxis",U0z);r4J=this.getLineColor();U0z.strokeStyle=r4J;H3U=this.fillColor;if(H3U == z_t || r2.isTransparent(H3U)){H3U=x4i.defaultColor;}U0z.fillStyle=H3U;O99={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};P1m.w7b(74);t$9=[1,+"2",3,4,8,P1m.O80("2",0,1),P1m.O80(3,1,P1m.O3H(9)),P1m.o4m(4,1,P1m.w7b(9)),P1m.O80(8,1,P1m.w7b(9))];this.rays=[];for(var f63=+"0";f63 < t$9.length;f63++){n_m=t$9[f63];P1m.w7b(75);G9f=P1m.O80(Y_k,n_m,W63,W63);P1m.w7b(76);n0k=P1m.o4m(D1U,n_m,N7c,D1U);r1l=I2s.left;if(Y_k > W63){r1l+=I2s.width;}P1m.O3H(66);w93=P1m.o4m(W63,n0k,Y_k,r1l,D1U,D1U,W63);if(this.printLevels){U0z.fillStyle=r4J;F5W=+"0";x9_=0;if(D1U > N7c){x9_=+"5";U0z.textBaseline="top";}else {x9_=-5;U0z.textBaseline="bottom";}if(W63 > Y_k){E8$="l";E8$+="e";E8$+="f";E8$+="t";F5W=5;U0z.textAlign=E8$;}else {c_L="r";c_L+="i";c_L+="ght";F5W=-5;U0z.textAlign=c_L;}if(n_m > 1){z9X="x";z9X+="1";P1m.O3H(2);U0z.fillText(P1m.O80(z9X,n_m),P1m.o4m(F5W,G9f),N7c);}else {P1m.O3H(48);U0z.fillText(P1m.O80(n_m,"1x",1),Y_k,P1m.O80(x9_,n0k,P1m.O3H(2)));}U0z.fillStyle=H3U;}x4i.plotLine(W63,r1l,D1U,w93,r4J,"segment",U0z,I2s,O99);this.rays.push([[W63,D1U],[r1l,w93]]);if(n_m == 1){w6T=r1l;J$L=w93;}U0z.globalAlpha=0.1;U0z.beginPath();U0z.moveTo(r1l,w93);U0z.lineTo(W63,D1U);U0z.lineTo(w6T,J$L);U0z.fill();P1m.O3H(69);U0z.globalAlpha=P1m.o4m("1",0);}U0z.textAlign=h1U;U0z.textBaseline="middle";if(this.highlighted){j2V="p";j2V+="1";p7N=this.highlighted == "p0"?!!({}):!!0;I0B=-1292489784;s4_=1363350516;t4K=2;for(var z6b=1;P1m.d8W(z6b.toString(),z6b.toString().length,+"45163") !== I0B;z6b++){R8v=this.highlighted !== ""?!({}):!0;this.littleCircle(U0z,W63,D1U,p7N);this.littleCircle(U0z,Y_k,N7c,R8v);t4K+=2;}if(P1m.U7z(t4K.toString(),t4K.toString().length,30865) !== s4_){R8v=this.highlighted === ""?!![]:!!0;this.littleCircle(U0z,W63,D1U,p7N);this.littleCircle(U0z,Y_k,N7c,R8v);}R8v=this.highlighted == j2V?!!1:![];this.littleCircle(U0z,W63,D1U,p7N);this.littleCircle(U0z,Y_k,N7c,R8v);}}},!!"1");r2.Drawing.timecycle=function(){var z$A;z$A="t";z$A+="imecy";z$A+="c";z$A+="le";this.name=z$A;this.printLevels=!!({});};r2.inheritsFrom(r2.Drawing.timecycle,r2.Drawing.speedarc);r2.extend(r2.Drawing.timecycle.prototype,{intersected:function(L2p,P59,w7a){var w6R,N08,e0P,q9T,g5a,s_O;w6R="se";w6R+="gment";N08=this.p0;e0P=this.p1;q9T=this.stx.panels[this.panelName];if(!N08 || !e0P || !q9T){return null;}g5a={0:N08,1:e0P};for(var O$7 in g5a){if(this.pointIntersection(g5a[O$7][0],g5a[O$7][+"1"],w7a)){P1m.w7b(2);this.highlighted=P1m.o4m(O$7,("690.27" - 0,5320) > 9310?"E":"p");return {action:"drag",point:"p" + O$7};}}s_O=this.lineIntersection(L2p,P59,w7a,w6R);if(s_O || w7a.x0 <= this.p0[0] && w7a.x1 >= N08["0" ^ 0]){this.highlighted=!"";return {action:"move",p0:r2.clone(N08),p1:r2.clone(e0P),tick:L2p,value:this.valueOnDrawingAxis(L2p,P59)};}return null;},render:function(n2c){var M4y,t49,f3f,K6d,O0Z,i6Z,O_7,O5K,z$T,l8m,R9b,P$l,O3C,U$i,M$Q,H_s,K4G,d3h,A_j,S0x,g5l,k7x,M9r,e$I,t$5,R1z,V6h,q2T;M4y="l";M4y+="eft";t49="cent";P1m.B2i();t49+="er";f3f="stx_y";f3f+="axis";K6d=this.stx;O0Z=K6d.panels[this.panelName];i6Z=K6d.getYAxisByField(O0Z,this.field);if(!O0Z || this.field && !i6Z){return;}i6Z=i6Z || O0Z.yAxis;if(!this.p1){return;}O_7=K6d.pixelFromTick(this.p0[0],O0Z.chart);O5K=K6d.pixelFromTick(this.p1[0],O0Z.chart);z$T=this.pixelFromValue(O0Z,this.p0[0],this.p0[1],i6Z);l8m=this.pixelFromValue(O0Z,this.p1[0],this.p1[1],i6Z);R9b=0;n2c.textBaseline="middle";K6d.canvasFont(f3f,n2c);P$l=+"20";P1m.O3H(77);var d6t=P1m.O80(13,16,3);O3C=this.p1[0] - this.p0["0" << d6t];n2c.textAlign=t49;U$i=O_7;M$Q=i6Z.top;H_s=i6Z.bottom;K4G=this.getLineColor();d3h=this.fillColor;if(d3h == "auto" || r2.isTransparent(d3h)){d3h=K6d.defaultColor;}if(this.printLevels){P1m.w7b(6);H_s-=P1m.o4m(P$l,7);}A_j={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" | 1:this.defaultOpacity};S0x=[];n2c.save();n2c.fillStyle=d3h;n2c.globalAlpha=+"0.05";while(!0){U$i=K6d.pixelFromTick(this.p0[0] + R9b * O3C,O0Z.chart);R9b++;if(O_7 < O5K && U$i > O0Z.left + O0Z.width)break;else if(O_7 > O5K && U$i < O0Z.left)break;else if(U$i < O0Z.left || U$i > O0Z.left + O0Z.width)continue;n2c.beginPath();n2c.moveTo(O_7,M$Q);n2c.lineTo(U$i,M$Q);n2c.lineTo(U$i,H_s);n2c.lineTo(O_7,H_s);n2c.fill();S0x.push({c:R9b,x:U$i});if(!O3C)break;}n2c.globalAlpha=1;g5l=0;for(var O96=0;O96 < S0x.length;O96++){K6d.plotLine(S0x[O96].x,S0x[O96].x,0,H_s,K4G,"segment",n2c,O0Z,A_j);if(this.printLevels){n2c.fillStyle=K4G;P1m.O3H(6);var H4Q=P1m.O80(12,9);k7x=K6d.chart.context.measureText(S0x[O96].c).width + H4Q;if(k7x < K6d.layout.candleWidth + g5l){n2c.fillText(S0x[O96].c,S0x[O96].x,H_s + ("7" >> 64));g5l=0;}else {g5l+=K6d.layout.candleWidth;}}}n2c.restore();n2c.textAlign=M4y;K6d.plotLine(O_7,O5K,z$T,l8m,K4G,"segment",n2c,O0Z,A_j);if(this.highlighted){M9r=this.highlighted == "p0"?!"":![];e$I=this.highlighted == "p1"?!"":!1;this.littleCircle(n2c,O_7,z$T,M9r);this.littleCircle(n2c,O5K,l8m,e$I);}else {t$5=-1183887924;R1z=370606960;V6h=2;for(var N6y="1" - 0;P1m.U7z(N6y.toString(),N6y.toString().length,18056) !== t$5;N6y++){q2T=this.valueFromPixel(O0Z.height + ("7" ^ 0),O0Z,i6Z);this.setPoint(3,this.p0[7],q2T,O0Z.chart);this.setPoint(0,this.p1[1],q2T,O0Z.chart);V6h+=2;}if(P1m.d8W(V6h.toString(),V6h.toString().length,88948) !== R1z){q2T=this.valueFromPixel(O0Z.height * 9,O0Z,i6Z);this.setPoint(8,this.p0[2],q2T,O0Z.chart);this.setPoint(6,this.p1[+"0"],q2T,O0Z.chart);}q2T=this.valueFromPixel(O0Z.height / 2,O0Z,i6Z);this.setPoint(0,this.p0[0],q2T,O0Z.chart);this.setPoint(1,this.p1[0],q2T,O0Z.chart);}}},!![]);r2.Drawing.regression=function(){this.name="regression";};r2.inheritsFrom(r2.Drawing.regression,r2.Drawing.segment);r2.extend(r2.Drawing.regression.prototype,{configs:[T5g,"lineWidth","pattern","active1","color1","lineWidth1","pattern1",A1U,"color2","lineWidth2",C9$,"active3","color3","lineWidth3","pattern3"],copyConfig:function(G0Q){var D6m;r2.Drawing.copyConfig(this,G0Q);D6m=this.stx.currentVectorParameters;this.active1=!!D6m.active1;this.active2=!!D6m.active2;this.active3=!!D6m.active3;this.color1=D6m.color1 || "auto";this.color2=D6m.color2 || "auto";this.color3=D6m.color3 || "auto";this.lineWidth1=D6m.lineWidth1;this.lineWidth2=D6m.lineWidth2;this.lineWidth3=D6m.lineWidth3;this.pattern1=D6m.pattern1;this.pattern2=D6m.pattern2;this.pattern3=D6m.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(l$M,c3Y,i8y){var i7Z,Z7X;if(c3Y < 0){return;}this.copyConfig();i7Z=this.stx;Z7X=i7Z.panels[this.panelName];if(!this.penDown){this.setPoint(0,c3Y,i8y,Z7X.chart);if(!this.isAllowed(i7Z,this.field)){i7Z.undo();return !!1;}this.penDown=!0;return ![];}if(this.accidentalClick(c3Y,i8y)){return !!"1";}this.setPoint(1,c3Y,i8y,Z7X.chart);this.penDown=![];return !!({});},getYValue:function(H5V){var R0J,M0x,D9n,y2p,y63,W6D,N4f,l$t;R0J=this.stx;M0x=R0J.chart.dataSet[H5V];D9n=R0J.chart.dataSet[H5V];if(!M0x){return null;}y2p=R0J.panels[this.panelName];y63=R0J.getYAxisByField(y2p,this.field) || y2p.yAxis;if(R0J.charts[y2p.name] && y2p.chart.transformFunc && y63 == y2p.yAxis){D9n=M0x.transform;}if(!D9n){return null;}W6D=null;N4f=null;l$t=R0J.defaultPlotField || "Close";if(this.field){N4f=r2.existsInObjectChain(D9n,this.field);if(!N4f){return null;}W6D=N4f=N4f.obj[N4f.member];if(M0x != D9n){W6D=r2.existsInObjectChain(M0x,this.field);W6D=W6D.obj[W6D.member];}if(typeof N4f == "object"){N4f=N4f[l$t];W6D=W6D[l$t];}}else {N4f=D9n[l$t];W6D=M0x[l$t];}return {transformed:N4f,untransformed:W6D};},render:function(b$e){var n1w,E0p,e10,x0R,n9l,t7r,X6U,H42,Y6w,Y8g,d7d,U2v,h0P,C0j,q08,N74,Q1R,w7G,G0m,R6Q,r7w,K0$,z_Z,c8J,p6_,k34,o5f,q9Y,E68,u8V,m1O,w9R,F7H,X1d,T7h,H5p,u2G,y2v,b9Z;n1w="s";n1w+="egment";E0p=this.stx;e10=E0p.panels[this.panelName];x0R=E0p.getYAxisByField(e10,this.field);if(!e10 || this.field && !x0R){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}n9l=E0p.pixelFromTick(this.p0[0],e10.chart);t7r=E0p.pixelFromTick(this.p1["0" - 0],e10.chart);if(n9l < e10.left && t7r < e10.left){return;}if(n9l > e10.right && t7r > e10.right){return;}X6U=[];H42=[];Y6w=0;Y8g=+"0";P1m.y4d();d7d=0;U2v=0;h0P=Math.min(this.p1[0],this.p0[0]);P1m.w7b(6);var h5d=P1m.o4m(9,8);C0j=Math.max(this.p1[0],this.p0[0]) + h5d;P1m.O3H(6);q08=P1m.o4m(C0j,h0P);for(var L_m=h0P;L_m < C0j;L_m++){N74=this.getYValue(L_m);if(N74){X6U.push(N74.transformed);H42.push(N74.untransformed);}}Q1R=X6U.length;P1m.w7b(78);w7G=P1m.o4m(1,0,Q1R,"2",Q1R);G0m=Math.pow(w7G,2);P1m.O3H(79);R6Q=P1m.o4m(3,w7G,Q1R,1,2);for(L_m=0;L_m < Q1R;L_m++){d7d+=Q1R * X6U[L_m] - Y6w;Y6w+=X6U[L_m];U2v+=Q1R * H42[L_m] - Y8g;Y8g+=H42[L_m];}P1m.w7b(80);r7w=P1m.o4m(G0m,R6Q,d7d,w7G,Y6w,Q1R,Q1R);P1m.w7b(81);K0$=P1m.o4m(w7G,r7w,Y6w,Q1R);P1m.O3H(80);z_Z=P1m.O80(G0m,R6Q,U2v,w7G,Y8g,Q1R,Q1R);P1m.O3H(81);c8J=P1m.O80(w7G,r7w,Y8g,Q1R);if(this.p0[0] < this.p1[0]){p6_=K0$;P1m.O3H(82);k34=P1m.o4m(q08,K0$,r7w);this.p0[+"1"]=c8J;P1m.O3H(82);this.p1[+"1"]=P1m.O80(q08,c8J,z_Z);}else {P1m.w7b(82);p6_=P1m.o4m(q08,K0$,r7w);k34=K0$;P1m.w7b(82);this.p0[1]=P1m.o4m(q08,c8J,z_Z);P1m.w7b(69);this.p1[P1m.O80("1",0)]=c8J;}o5f=E0p.pixelFromTransformedValue(p6_,e10,x0R);q9Y=E0p.pixelFromTransformedValue(k34,e10,x0R);E68=this.getLineColor();u8V={pattern:this.pattern,lineWidth:this.lineWidth};E0p.plotLine(n9l,t7r,o5f,q9Y,E68,"segment",b$e,e10,u8V);P1m.O3H(6);E0p.plotLine(n9l,n9l,P1m.o4m(o5f,20),P1m.O80(20,o5f,P1m.O3H(2)),E68,n1w,b$e,e10,u8V);P1m.w7b(6);E0p.plotLine(t7r,t7r,P1m.O80(q9Y,20),P1m.o4m("20",q9Y,P1m.O3H(83)),E68,"segment",b$e,e10,u8V);if(this.active1 || this.active2 || this.active3){P1m.O3H(9);m1O=P1m.O80(Q1R,Y6w);w9R=0;for(L_m=0;L_m < Q1R;L_m++){w9R+=Math.pow(X6U[L_m] - m1O,2);}P1m.w7b(9);F7H=Math.sqrt(P1m.o4m(Q1R,w9R));X1d={context:b$e,panel:e10,points:{0:{x:n9l,v:p6_},1:{x:t7r,v:k34}},stddev:F7H,yAxis:x0R};this.lines={};if(this.active1){this.renderStddev(4560 != +"279.37"?+"457.18" <= 3610?"1":!1:(814.90,3.22e+3),(+"281.3",9290) === 897.82?"S":"p",X1d);this.renderStddev("1",80 != 7720?(9720,2870) >= 7080?(3144,9090) === (+"7050",588.79)?!1:!!({}):"n":(7.96e+3,!1),X1d);}if(this.active2){T7h=-1261103095;H5p=-1058467486;P1m.O3H(7);u2G=P1m.o4m(1,"2");for(var D78=1;P1m.d8W(D78.toString(),D78.toString().length,67657) !== T7h;D78++){this.renderStddev("p",(8652,4039) <= (609463,629)?"P":(629656,529228) < 3829?812936 <= (2529,5215)?("0x83a" << 32,4036833):(+"8235369",!![]):("P",+"414"),X1d);u2G+=2;}if(P1m.d8W(u2G.toString(),u2G.toString().length,15147) !== H5p){this.renderStddev("2",(5460,9920) > (780.68,733)?"p":(959.42,781.45) <= 3427?922.03 > (3770,+"4940")?("0x475" >> 32,2.42e+2):(7.01e+3,!({})):("P",361),X1d);}this.renderStddev("5368" - 0 === 8502?455 > 8940?(298.38,6.33e+3):(794.95,643) >= (8996,7991)?!"":466.25:"2","n",X1d);}if(this.active3){this.renderStddev(1683 !== 1290?"3":234 !== 3550?4370 <= 5378?!!1:"g":0x22c,"p",X1d);this.renderStddev((308.77,5980) !== ("6640" - 0,27)?"3":("C",!({})),"n",X1d);}}if(!this.highlighted){this.pixelX=[n9l,t7r];this.pixelY=[o5f,q9Y];}else {y2v=this.highlighted == "p0"?!!1:!({});b9Z=this.highlighted == "p1"?!!({}):![];this.littleCircle(b$e,n9l,o5f,y2v);this.littleCircle(b$e,t7r,q9Y,b9Z);}},renderStddev:function(O7d,u9N,a9J){var g29,m5C,a4w,R2k,i1n,t0Y,R3j,J6E,H0X,j2R,b2x,U13,P9l,s63,D8B,M_g,u_f,C67,C$p,n4H,x1V;g29="p";g29+="a";g29+="tt";g29+="ern";P1m.w7b(77);m5C=P1m.o4m(O7d,u9N,"stddev");P1m.O3H(2);a4w=P1m.O80(O7d,"color");P1m.w7b(2);R2k=P1m.o4m(O7d,g29);P1m.O3H(2);i1n=P1m.O80(O7d,"lineWidth");t0Y=a9J.points;R3j=t0Y[0].v;J6E=t0Y[1].v;H0X=a9J.stddev;j2R=u9N === ((634,4630) != 3870?("7057" << 32,732.23) >= 3373?!!1:"n":(0x976,1.39e+3))?O7d * -1:O7d * 1;b2x=this.stx;U13=a9J.panel;P9l=a9J.yAxis;s63={name:m5C,color:this.getLineColor(this[a4w]),type:"segment",y0:b2x.pixelFromTransformedValue(R3j + H0X * j2R,U13,P9l),y1:b2x.pixelFromTransformedValue(J6E + H0X * j2R,U13,P9l),params:{pattern:this[R2k],lineWidth:this[i1n]}};if(this.lines){this.lines[m5C]=s63;}D8B=a9J.context;M_g=t0Y[0].x;u_f=t0Y[1].x;b2x.plotLine(M_g,u_f,s63.y0,s63.y1,s63.color,s63.type,D8B,U13,s63.params);b2x.plotLine(M_g,M_g,s63.y0 - 10,s63.y0 + 10,s63.color,s63.type,D8B,U13,s63.params);b2x.plotLine(u_f,u_f,s63.y1 - 10,s63.y1 + 10,s63.color,s63.type,D8B,U13,s63.params);P1m.O3H(2);C67=P1m.O80("\u03c3",O7d);P1m.w7b(84);var W$I=P1m.O80(5,18,9,9);C$p=Math.max(M_g,u_f) + W$I;n4H=M_g < u_f?s63.y1:s63.y0;D8B.fillStyle=s63.color;D8B.save();D8B.textBaseline="middle";D8B.fillText(C67,C$p,n4H);D8B.restore();if(a9J.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(M_g >= U13.chart.left && M_g <= U13.chart.right || u_f >= U13.chart.left && u_f <= U13.chart.right){P1m.O3H(21);x1V=P1m.o4m(j2R,H0X,M_g < u_f?J6E:R3j);b2x.endClip();b2x.createYAxisLabel(U13,a9J.formatPrice(x1V,P9l),n4H,s63.color,null,D8B,P9l);b2x.startClip(U13.name);}}},intersected:function(q_n,U6N,N7I){var y$a,Y2G,C3Q,H3q,g47,N6Z,G73,B4B;if(!this.pixelX || !this.pixelY){return null;}y$a=this.repositionIntersection(q_n,U6N);if(y$a){return y$a;}Y2G={0:this.pixelX,1:this.pixelY};for(var G41=0;G41 < 2;G41++){if(this.pointIntersection(Y2G[0][G41],Y2G[1][G41],N7I,!!({}))){C3Q="d";C3Q+="rag";P1m.w7b(2);this.highlighted=P1m.O80(G41,6730 === 295.45?(0xf35,!!0):(8520,6500) >= 848.61?"p":489.14);return {action:C3Q,point:((+"928.72",9623) !== 5970?"p":(6956,+"935.34") > ("421.49" * 1,6010)?"T":(+"657.55",18.74) != 2910?(!({}),2.48e+3):("X","u")) + G41};}}H3q=this;g47=this.pixelX[0];N6Z=this.pixelX[1];G73=function(O3X){var g6W,m1$;g6W=[g47,O3X.y0];m1$=[N6Z,O3X.y1];return H3q.lineIntersection(q_n,U6N,N7I,H3q.name,g6W,m1$,!!1);};B4B=G73({y0:this.pixelY[0],y1:this.pixelY[1]});if(!B4B && this.lines){for(var M68 in this.lines){if(G73(this.lines[M68])){B4B=!0;break;}}}if(B4B){this.highlighted=!!({});return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:q_n,value:this.valueOnDrawingAxis(q_n,U6N)};}return null;},repositionIntersection:function(X_i,i7E){var z0p;if(!this.p0 || !this.p1){return ![];}P1m.B2i();if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !![]){z0p="m";z0p+="o";z0p+="v";z0p+="e";return {action:z0p,p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:X_i,value:this.valueOnDrawingAxis(X_i,i7E)};}return {action:"drag",point:this.highlighted};}return !!"";},lineIntersection:function(f14,K_e,a$_,l_V,Y$p,d_8,Z$W){var b$L,O$n;if(!Z$W){P1m.w7b(2);console.log(P1m.o4m(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",l_V));return !"1";}if(!Y$p){Y$p=this.p0;}if(!d_8){d_8=this.p1;}if(!(Y$p && d_8)){return !"1";}b$L=this.stx;if(a$_.cx0 === undefined){return !({});}O$n={x0:Y$p[0],x1:d_8[0],y0:Y$p[+"1"],y1:d_8[1]};return r2.boxIntersects(a$_.cx0,a$_.cy0,a$_.cx1,a$_.cy1,O$n.x0,O$n.y0,O$n.x1,O$n.y1);},boxIntersection:function(r31,f8f,A_x){if(A_x.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || A_x.cx1 < Math.min(this.pixelX[0],this.pixelX[+"1"])){return !"1";}if(!this.stx.repositioningDrawing && (A_x.cy1 < this.pixelY[0] || A_x.cy0 > this.pixelY[1])){return !"1";}return !!({});},reconstruct:function(C6H,u_n){this.stx=C6H;this.color=u_n.col;this.color1=u_n.col1;this.color2=u_n.col2;this.color3=u_n.col3;this.active1=u_n.dev1;this.active2=u_n.dev2;this.active3=u_n.dev3;this.panelName=u_n.pnl;this.pattern=u_n.ptrn;this.pattern1=u_n.ptrn1;this.pattern2=u_n.ptrn2;this.pattern3=u_n.ptrn3;this.lineWidth=u_n.lw;this.lineWidth1=u_n.lw1;this.lineWidth2=u_n.lw2;this.lineWidth3=u_n.lw3;this.d0=u_n.d0;this.d1=u_n.d1;this.tzo0=u_n.tzo0;this.tzo1=u_n.tzo1;this.field=u_n.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);r2.Drawing.trendline=function(){this.name="trendline";};r2.inheritsFrom(r2.Drawing.trendline,r2.Drawing.segment);r2.Drawing.trendline.prototype.configs=["color",d8D,"lineWidth","pattern","font"];r2.Drawing.trendline.prototype.measure=function(){};r2.Drawing.trendline.prototype.reconstruct=function(V5x,i3X){r2.Drawing.segment.prototype.reconstruct.call(this,V5x,i3X);this.callout=new r2.Drawing.callout();this.callout.reconstruct(V5x,i3X.callout);};r2.Drawing.trendline.prototype.serialize=function(){var r_t;r_t=r2.Drawing.segment.prototype.serialize.call(this);r_t.callout=this.callout.serialize();return r_t;};r2.Drawing.trendline.prototype.render=function(T5N){var A6h,w1x,D3_,W$Y,T4_,D4T,w5a,y$1,B0I,P_X,n8S,s71,W0a,t2f,u82,j$A,x5e,L2s,F9g,E3v,D_6,S7c;A6h=this.stx;w1x=A6h.panels[this.panelName];D3_=A6h.getYAxisByField(w1x,this.field);if(!w1x || this.field && !D3_){return;}r2.Drawing.segment.prototype.render.call(this,T5N);if(!this.callout){this.callout=new r2.Drawing.callout();W$Y=r2.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(A6h,W$Y);}this.callout.p0=r2.clone(this.p0);T4_=A6h.pixelFromTick(this.p0[0],w1x.chart);D4T=A6h.pixelFromTick(this.p1[0],w1x.chart);w5a=this.pixelFromValue(w1x,this.p0[0],this.p0[1],D3_);y$1=this.pixelFromValue(w1x,this.p1[0],this.p1[1],D3_);if(!isFinite(w5a) || !isFinite(y$1)){return;}P1m.O3H(3);B0I=P1m.o4m(D4T,T4_,2);P1m.w7b(3);P_X=P1m.o4m(y$1,w5a,2);this.fontSize=r2.stripPX(this.font && this.font.size || 13);P1m.w7b(85);var Y1z=P1m.O80(9,4427,4,8,3540);P1m.O3H(2);var o7T=P1m.O80(9,8930);P1m.O3H(12);var f$I=P1m.o4m(3,19,10,5961);P1m.w7b(86);var N4z=P1m.o4m(30,2,28,7);n8S=this.callout.w * 1.2 + (this.callout.stemEntry[0] == ((Y1z,+"4400") !== ("98.84" - 0,o7T)?"c":f$I)?0:N4z);s71=Math.sqrt(Math.pow(D4T - T4_,2) + Math.pow(y$1 - w5a,"2" * 1));P1m.w7b(57);var T3E=P1m.O80(8,37,18,16);P1m.w7b(28);var u2q=P1m.o4m(4,23,20,16);P1m.w7b(87);var n7G=P1m.o4m(5,2,9);W0a=n8S / (s71 || n8S) * (this.p1[T3E] < this.p0[u2q]?+"1":n7G);P1m.w7b(88);t2f=P1m.o4m(y$1,B0I,P_X,W0a);P1m.O3H(0);u82=P1m.o4m(B0I,W0a,P_X,D4T);this.callout.p0[0]=A6h.tickFromPixel(t2f,w1x.chart);this.callout.p0[1]=this.valueFromPixel(u82,w1x,D3_);this.callout.v0=this.callout.p0[1];P1m.B2i();this.callout.p1=r2.clone(this.p0);this.callout.stx=A6h;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!![];P1m.w7b(6);var u8C=P1m.o4m(2,1);P1m.O3H(89);var Q1j=P1m.O80(9,7,17);j$A=this.p1[u8C] - this.p0[Q1j];P1m.w7b(90);var h8Q=P1m.o4m(130,15,9,15,12);P1m.O3H(91);var d9M=P1m.O80(14,2,253,9);P1m.O3H(92);var M1b=P1m.o4m(4,158,9,3,4);this.callout.text="" + Number(j$A).toFixed(h8Q) + (this.p0[d9M] === 0?"":" (" + Number(100 * j$A / this.p0["1" - 0]).toFixed("2" | M1b) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";x5e=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1["0" - 0]) > 1 && Math.abs(this.p0["0" - 0] - this.p1[0]) < 20){F9g=A6h.pixelFromTick(x5e,w1x.chart);P1m.w7b(93);E3v=P1m.o4m(w5a,D4T,T4_,y$1,w5a,F9g,T4_);L2s=this.valueFromPixel(E3v,w1x,D3_) || P_X;}else {L2s=this.valueFromPixel(P_X,w1x,D3_);}this.callout.stem={t:x5e,v:L2s};this.callout.renderText();this.callout.render(T5N);if(this.highlighted){D_6=this.highlighted == "p0"?!![]:!({});S7c=this.highlighted == "p1"?!0:!1;this.littleCircle(T5N,T4_,w5a,D_6);this.littleCircle(T5N,D4T,y$1,S7c);}};r2.Drawing.trendline.prototype.lineIntersection=function(I$L,F3I,A38,V9t){var x4K;x4K="segmen";x4K+="t";return r2.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,I$L,F3I,A38,x4K);};r2.Drawing.trendline.prototype.intersected=function(p0T,C_Y,v_u){var P91,X9M;if(!this.p0 || !this.p1){return null;}P91=this.callout.intersected(p0T,C_Y,v_u);X9M=r2.Drawing.segment.prototype.intersected.call(this,p0T,C_Y,v_u);this.callout.highlighted=!!(P91 || X9M);if(X9M){return X9M;}else if(P91){return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:p0T,value:this.valueOnDrawingAxis(p0T,C_Y)};}return null;};r2.Drawing.average=function(){P1m.y4d();this.name="average";};r2.inheritsFrom(r2.Drawing.average,r2.Drawing.regression);r2.extend(r2.Drawing.average.prototype,{configs:r2.Drawing.regression.prototype.configs.concat(D6Z),measure:function(){var E34,i_2,F8h,a5D,I4b,x$m,l$c,Z9X,F5C;E34=this.stx;P1m.B2i();if(this.p0 && this.p1){i_2=",";i_2+=" ";E34.setMeasure(0,!!0,this.p0[0],this.p1[+"0"],!!({}),this.name);F8h=[];a5D="";if(this.active1){F8h.push("1");}if(this.active2){F8h.push(6682 >= ("2527" >> 64,7000)?0x2e3:"2");}if(this.active3){F8h.push((1986,7963) > (5630,4665)?"3":(0x68f,0x1de1));}if(F8h.length){a5D="&ensp;" + F8h.join(i_2) + " &sigma;";}I4b=(E34.drawingContainer || document).querySelector(".mMeasure");x$m=E34.controls.mSticky;l$c=x$m && x$m.querySelector(".mStickyInterior");if(I4b){I4b.innerHTML+=a5D;}if(l$c){Z9X="<";Z9X+="br";Z9X+=">";F5C=[];F5C.push(r2.capitalize(this.name));F5C.push(this.field || E34.defaultPlotField || "Close");F5C.push(l$c.innerHTML + a5D);l$c.innerHTML=F5C.join(Z9X);}}},render:function(q7f){var x1N,D9F,A1g,w$h,y3I,r22,L7B,R_O,S6t,C4j,W0d,w8i,o0d,Q5G,x_L,H5u,s_l,A2O,U_M,J_5,e33,B2F,Z$8,n0S;function s4n(l3f,J6A){if(J6A && J6A.priceFormatter){l3f=J6A.priceFormatter(x1N,D9F,l3f);}else {l3f=x1N.formatYAxisPrice(l3f,D9F,null,J6A);}return l3f;}x1N=this.stx;D9F=x1N.panels[this.panelName];A1g=x1N.getYAxisByField(D9F,this.field);if(!D9F || this.field && !A1g){return;}A1g=A1g || D9F.yAxis;if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}w$h=x1N.pixelFromTick(this.p0[+"0"],D9F.chart);y3I=x1N.pixelFromTick(this.p1[0],D9F.chart);if(w$h < D9F.left && y3I < D9F.left){return;}if(w$h > D9F.right && y3I > D9F.right){return;}r22=Math.min(this.p1[0],this.p0[0]);P1m.w7b(6);var z_P=P1m.O80(12,11);L7B=Math.max(this.p1[0],this.p0[0]) + z_P;R_O=0;S6t=[];for(C4j=r22;C4j < L7B;C4j++){W0d=this.getYValue(C4j);if(W0d !== null){R_O+=W0d.transformed;S6t.push(W0d);}}w8i=S6t.length;if(!w8i){return;}P1m.B2i();P1m.w7b(9);o0d=P1m.o4m(w8i,R_O);Q5G=x1N.pixelFromTransformedValue(o0d,D9F,A1g);x_L=this.getLineColor();H5u={pattern:this.pattern,lineWidth:this.lineWidth};x1N.plotLine(w$h,y3I,Q5G,Q5G,x_L,"segment",q7f,D9F,H5u);P1m.w7b(6);x1N.plotLine(w$h,w$h,P1m.o4m(Q5G,20),P1m.o4m("20",Q5G,P1m.w7b(83)),x_L,"segment",q7f,D9F,H5u);P1m.O3H(6);x1N.plotLine(y3I,y3I,P1m.O80(Q5G,20),P1m.o4m(20,Q5G,P1m.w7b(2)),x_L,"segment",q7f,D9F,H5u);if(this.axisLabel && !this.highlighted && !this.penDown){if(w$h >= D9F.chart.left && w$h <= D9F.chart.right || y3I >= D9F.chart.left && y3I <= D9F.chart.right){x1N.endClip();x1N.createYAxisLabel(D9F,s4n(o0d,A1g),Q5G,x_L,null,q7f,A1g);x1N.startClip(D9F.name);}}if(this.active1 || this.active2 || this.active3){P1m.w7b(41);s_l=P1m.o4m("0",0);for(C4j=0;C4j < w8i;C4j++){W0d=S6t[C4j];s_l+=Math.pow(W0d.transformed - o0d,2);}P1m.w7b(9);A2O=Math.sqrt(P1m.o4m(w8i,s_l));U_M={context:q7f,formatPrice:s4n,panel:D9F,points:{0:{x:w$h,v:o0d},1:{x:y3I,v:o0d}},stddev:A2O,yAxis:A1g};this.lines={};if(this.active1){this.renderStddev((9562,"469" - 0) <= ("844.93" - 0,7050)?"1":(3.17e+3,157.74),"p",U_M);this.renderStddev((4790,"6480" | 16) !== 4420?"1":"v","n",U_M);}if(this.active2){J_5=+"616963080";e33=-1021266092;B2F=2;for(var Q6V="1" | 0;P1m.U7z(Q6V.toString(),Q6V.toString().length,7983) !== J_5;Q6V++){this.renderStddev("n",+"251616" >= (669054,1601)?(92352,4079) >= 3051?680122:!({}):"p",U_M);this.renderStddev("n","n",U_M);B2F+=2;}if(P1m.U7z(B2F.toString(),B2F.toString().length,9215) !== e33){this.renderStddev("2","452.79" - 0 > (+"960.18",8084)?(57.04,6368) <= 2972?775.26:!![]:"p",U_M);this.renderStddev("2","n",U_M);}}if(this.active3){this.renderStddev(7950 <= 4550?0x451:901.82 !== (1877,5737)?(322.54,4060) >= 945.07?"3":"G":8.28e+3,4421 > +"656"?(760.84,3610) === 191.78?(!![],0x1e71):"p":840,U_M);this.renderStddev(2912 != (2357,963)?"3":2.71e+3,"4240" - 0 > "3380" >> 64?"n":+"5.50e+3",U_M);}}if(!this.highlighted){this.pixelX=[w$h,y3I];this.pixelY=[Q5G,Q5G];}else {Z$8=this.highlighted == "p0"?!!"1":![];n0S=this.highlighted == "p1"?!!({}):!1;this.littleCircle(q7f,w$h,Q5G,Z$8);this.littleCircle(q7f,y3I,Q5G,n0S);}},reconstruct:function(M9E,B9Y){this.axisLabel=B9Y.al;r2.Drawing.regression.prototype.reconstruct.call(this,M9E,B9Y);},serialize:function(){var P6k;P6k=r2.Drawing.regression.prototype.serialize.call(this);P1m.B2i();P6k.al=this.axisLabel;return P6k;}},!0);r2.Drawing.quadrant=function(){this.name="quadrant";};r2.inheritsFrom(r2.Drawing.quadrant,r2.Drawing.regression);r2.extend(r2.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var U$V;U$V=this.stx.currentVectorParameters;this.color=U$V.currentColor;this.fillColor=U$V.fillColor;this.lineWidth=U$V.lineWidth;P1m.B2i();this.pattern=U$V.pattern;},$controls:[],render:function(f1e){var N9w,e7y,O8Z,S7C,i0V,A$G,P$z,y3Q,q9M,L7o,U$S,y_h,s5W,l1u,R8T,M$Z,O5H,s86,v21,b7y,v5$,E7Q,x6I,s22,L_B,I4P,o4j;N9w="se";N9w+="g";N9w+="ment";e7y="segme";e7y+="nt";O8Z="s";O8Z+="e";O8Z+="gmen";O8Z+="t";S7C="se";S7C+="gment";i0V=this.stx;A$G=i0V.panels[this.panelName];P$z=i0V.getYAxisByField(A$G,this.field);if(!A$G || this.field && !P$z){return;}if(!this.p1){return;}y3Q=i0V.pixelFromTick(this.p0[0],A$G.chart);q9M=i0V.pixelFromTick(this.p1[0],A$G.chart);if(y3Q < A$G.left && q9M < A$G.left){return;}if(y3Q > A$G.right && q9M > A$G.right){return;}L7o=null;U$S=null;for(var K8T=Math.max(0,Math.min(this.p1[0],this.p0[0]));K8T <= Math.min(i0V.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));K8T++){y_h=this.getYValue(K8T);if(y_h !== null){if(L7o === null || y_h.transformed > L7o){L7o=y_h.transformed;}if(U$S === null || y_h.transformed < U$S){U$S=y_h.transformed;}}}s5W=i0V.pixelFromTransformedValue(L7o,A$G,P$z);P1m.O3H(94);l1u=i0V.pixelFromTransformedValue(P1m.O80(L7o,"3",U$S,4,0),A$G,P$z);P1m.w7b(95);R8T=i0V.pixelFromTransformedValue(P1m.O80(L7o,2,U$S,3),A$G,P$z);P1m.O3H(3);M$Z=i0V.pixelFromTransformedValue(P1m.O80(U$S,L7o,2),A$G,P$z);P1m.O3H(96);O5H=i0V.pixelFromTransformedValue(P1m.O80(L7o,U$S,2,"3",0),A$G,P$z);P1m.O3H(97);s86=i0V.pixelFromTransformedValue(P1m.O80("4",U$S,L7o,3,64),A$G,P$z);P1m.y4d();v21=i0V.pixelFromTransformedValue(U$S,A$G,P$z);this.p0[1]=0;this.p1[1]=!1;b7y=this.getLineColor();v5$=this.fillColor;if(v5$ == "auto" || r2.isTransparent(v5$)){v5$=i0V.defaultColor;}f1e.fillStyle=v5$;E7Q={pattern:this.pattern,lineWidth:this.lineWidth};i0V.plotLine(y3Q,q9M,s5W,s5W,b7y,"segment",f1e,A$G,E7Q);i0V.plotLine(y3Q,q9M,v21,v21,b7y,S7C,f1e,A$G,E7Q);if(this.name == "quadrant"){x6I="s";x6I+="egme";x6I+="nt";i0V.plotLine(y3Q,q9M,l1u,l1u,b7y,"segment",f1e,A$G,E7Q);i0V.plotLine(y3Q,q9M,s86,s86,b7y,x6I,f1e,A$G,E7Q);}else if(this.name == "tirone"){i0V.plotLine(y3Q,q9M,R8T,R8T,b7y,"segment",f1e,A$G,E7Q);i0V.plotLine(y3Q,q9M,O5H,O5H,b7y,"segment",f1e,A$G,E7Q);}i0V.plotLine(y3Q,y3Q,s5W,v21,b7y,O8Z,f1e,A$G,E7Q);i0V.plotLine(q9M,q9M,s5W,v21,b7y,e7y,f1e,A$G,E7Q);i0V.plotLine(y3Q,q9M,M$Z,M$Z,b7y,N9w,f1e,A$G,r2.extend(E7Q,{opacity:this.name == "tirone"?0.2:1}));f1e.globalAlpha=0.1;f1e.beginPath();P1m.O3H(6);f1e.fillRect(y3Q,s5W,P1m.o4m(q9M,y3Q),P1m.o4m(v21,s5W));if(this.name == "quadrant"){P1m.w7b(6);f1e.fillRect(y3Q,l1u,P1m.o4m(q9M,y3Q),P1m.o4m(s86,l1u));}else if(this.name == "tirone"){P1m.O3H(6);f1e.fillRect(y3Q,R8T,P1m.O80(q9M,y3Q),P1m.o4m(O5H,R8T));}f1e.globalAlpha=1;if(!this.highlighted){s22="qua";s22+="drant";this.pixelX=[y3Q,q9M];this.pixelY=[s5W,v21,M$Z];if(this.name === s22){this.pixelY.push(l1u,s86);}if(this.name === "tirone"){this.pixelY.push(R8T,O5H);}}else {L_B="p";L_B+="1";I4P=this.highlighted == "p0"?!![]:!({});o4j=this.highlighted == L_B?!0:!1;this.littleCircle(f1e,y3Q,M$Z,I4P);this.littleCircle(f1e,q9M,M$Z,o4j);}},intersected:function(f26,Q_6,h2w){var i7G,y8b,A3g,U_k;var {pixelX:r1h, pixelY:o8k}=this;if(!r1h || !o8k){return null;}i7G=this.repositionIntersection(f26,Q_6);if(i7G){return i7G;}for(var b3e="0" >> 0;b3e < 2;b3e++){if(this.pointIntersection(r1h[b3e],o8k[2],h2w,!![])){y8b="d";y8b+="r";y8b+="a";y8b+="g";P1m.w7b(2);this.highlighted=P1m.o4m(b3e,"p");return {action:y8b,point:(344.89 == 5350?!1:(9828,+"1420") == +"1080"?(45,0x1664):"p") + b3e};}}A3g=[];P1m.y4d();r1h.forEach(C$q=>{A3g.push({p0:[C$q,o8k["0" * 1]],p1:[C$q,o8k[1]]});});o8k.forEach(H5a=>{A3g.push({p0:[r1h["0" | 0],H5a],p1:[r1h[+"1"],H5a]});});U_k=A3g.some(({p0:j0C, p1:G9S})=>{P1m.B2i();return this.lineIntersection(f26,Q_6,h2w,this.name,j0C,G9S,!![]);});if(U_k){this.highlighted=!!({});return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:f26,value:this.valueOnDrawingAxis(f26,Q_6)};}return null;},reconstruct:function(g64,l1s){this.stx=g64;this.color=l1s.col;this.fillColor=l1s.fc;this.panelName=l1s.pnl;this.pattern=l1s.ptrn;this.lineWidth=l1s.lw;this.d0=l1s.d0;this.d1=l1s.d1;P1m.B2i();this.tzo0=l1s.tzo0;this.tzo1=l1s.tzo1;this.field=l1s.fld;this.adjust();},serialize:function(){P1m.B2i();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!"1");r2.Drawing.tirone=function(){P1m.y4d();this.name="tirone";};r2.inheritsFrom(r2.Drawing.tirone,r2.Drawing.quadrant);r2.Drawing.volumeprofile=function(){var k8B,V4_,W$7;P1m.y4d();k8B=-1722195428;V4_=-738884293;W$7=2;for(var K3l=1;P1m.U7z(K3l.toString(),K3l.toString().length,30130) !== k8B;K3l++){this.name="volumeprofile";W$7+=+"2";}if(P1m.d8W(W$7.toString(),W$7.toString().length,18269) !== V4_){this.name="";}};r2.inheritsFrom(r2.Drawing.volumeprofile,r2.Drawing.regression);r2.extend(r2.Drawing.volumeprofile.prototype,{configs:["color","fillColor","lineWidth","pattern","parameters"],copyConfig:function(){var n72,a7K,Y6A;this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;n72=+"875872710";P1m.y4d();a7K=798503302;Y6A=+"2";for(var s9o=1;P1m.U7z(s9o.toString(),s9o.toString().length,60169) !== n72;s9o++){this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;Y6A+=2;}if(P1m.U7z(Y6A.toString(),Y6A.toString().length,21811) !== a7K){this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;}this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(R2t,a_D){var S8q;S8q="obj";S8q+="e";S8q+="c";S8q+="t";P1m.B2i();return !a_D || typeof R2t.getFirstLastDataRecord(R2t.chart.dataSegment,a_D)[a_D] === S8q;},render:function(c$L){var f10,A1V,j9b,U50,z$Q,i8w,z6D,g1i,m32,d6b,s5t,G9L,P0E,G91,I_T,D8A,U4T,l84,h_C,b7e,c$Z,J5a,z4k,c$9,o2F,f_3,c71,z6I,q3M,H8r,g$0,T1x,l$2,i5V,f8N,x0d,L_F,R2g,h4s,j3J,r2u,x5z,C$K,K8I,z4r,i3t,j73,W4H,d2I,s4m;var {stx:s_s}=this;var {dataSet:A19}=s_s.chart;f10=s_s.panels[this.panelName];A1V=s_s.getYAxisByField(f10,this.field);if(!f10 || this.field && !A1V){return;}if(!this.p1){return;}A1V=A1V || f10.yAxis;j9b=s_s.pixelFromTick(this.p0[0],f10.chart);U50=s_s.pixelFromTick(this.p1[0],f10.chart);if(j9b < f10.left && U50 < f10.left){return;}if(j9b > f10.right && U50 > f10.right){return;}var {flipped:P6Q}=A1V;z$Q=null;i8w=null;z6D=Math.min(this.p1[0],this.p0[0]);g1i=Math.max(this.p1[0],this.p0[0]);for(var m6k=z6D;m6k <= g1i;m6k++){m32=A19[m6k];if(m32[this.field]){m32=m32[this.field];}if(!m32)continue;var {High:P0Z, Low:a0l}=m32;if(z$Q === null || P0Z > z$Q){z$Q=P0Z;}if(i8w === null || a0l < i8w){i8w=a0l;}}var {priceBuckets:m30}=this;P1m.w7b(27);d6b=P1m.O80(z$Q,i8w,m30);s5t=[];if(P6Q){[z$Q,i8w]=[i8w,z$Q];}G9L=P6Q?-1:1;for(var K1S=i8w,L4u=0;L4u <= m30;(K1S+=d6b * G9L,L4u++)){s5t.push([K1S,0]);if(i8w === z$Q)break;}P0E=0;for(var U6$=z6D;U6$ <= g1i;U6$++){G91=A19[U6$];if(G91[this.field] || G91[this.field] === 0){G91=G91[this.field];}if(!G91)continue;var {High:N8f, Low:n7I, Volume:J04}=G91;if(!J04 && J04 !== 0)continue;I_T=[];D8A=s5t[0][0];U4T=null;for(var k_V="1" * 1;k_V < s5t.length;k_V++){U4T=s5t[k_V][0];l84=n7I >= D8A && n7I <= U4T;h_C=N8f >= D8A && N8f <= U4T;b7e=n7I < D8A && N8f > U4T;if(l84 || h_C || b7e){I_T.push(k_V);}D8A=U4T;}if(I_T.length){c$Z=J04 / I_T.length;for(var B$l="0" - 0;B$l < I_T.length;B$l++){J5a=s5t[I_T[B$l]][1]+=c$Z;if(J5a > P0E){P0E=J5a;}}}}z4k=P0E === 0 && s5t.length > +"1";if(z4k){c$9="ch";c$9+="a";c$9+="rt";s_s.displayErrorAsWatermark(c$9,s_s.translateIf("Not enough data to render the Volume Profile"));}o2F=Q4z=>{return Math.round(Q4z) + 0.5;};f_3=(g1i - z6D) * s_s.layout.candleWidth;P1m.O3H(33);var j2g=P1m.O80(4,4,20);c71=o2F(s_s.pixelFromTick(z6D)) - j2g;P1m.w7b(2);z6I=o2F(P1m.o4m(f_3,c71));P1m.O3H(75);q3M=this.pixelFromValue(f10,z6D,P1m.o4m(z$Q,2,i8w,i8w),A1V);H8r=c71;var [O0i]=s5t[+"0"];g$0=this.getLineColor();var {fillColor:k4z}=this;if(k4z === "auto" || r2.isTransparent(k4z)){k4z=s_s.defaultColor;}c$L.fillStyle=k4z;T1x={pattern:this.pattern,lineWidth:this.lineWidth};l$2=0;P1m.O3H(41);i5V=P1m.o4m("0",0);f8N=(t$p,e3A)=>{P1m.B2i();return [l$2,i5V]=[t$p,e3A];};x0d=(E_3,H4U,s9L)=>{if(!s9L){s_s.plotLine(l$2,E_3,i5V,H4U,g$0,"segment",c$L,f10,T1x);}P1m.y4d();[l$2,i5V]=[E_3,H4U];};if(this.highlighted || z4k){s_s.plotLine(c71,z6I,q3M,q3M,s_s.defaultColor,"segment",c$L,f10,Object.assign({},T1x,{opacity:0.3}));}for(var a87="1" - 0;a87 < s5t.length;a87++){var [z7a,C7O]=s5t[a87];if(C7O){P1m.O3H(98);L_F=P1m.O80(P0E,f_3,C7O);P1m.O3H(2);R2g=o2F(P1m.O80(L_F,c71));h4s=o2F(this.pixelFromValue(f10,z6D,z7a,A1V));j3J=o2F(this.pixelFromValue(f10,z6D,O0i,A1V));r2u=Math.max(h4s,A1V.top);x5z=Math.min(j3J,A1V.bottom);P1m.O3H(99);C$K=P1m.o4m(r2u,h4s);P1m.O3H(99);K8I=P1m.O80(x5z,j3J);z4r=r2u <= A1V.bottom && x5z >= A1V.top;if(z4r){if(!this.highlighted){c$L.globalAlpha=0.3;}f8N(c71,x5z);x0d(c71,r2u);x0d(R2g,r2u,C$K);x0d(R2g,x5z);if(R2g > H8r){x0d(H8r,x5z,K8I);}c$L.globalAlpha=0.2;P1m.w7b(6);c$L.fillRect(c71,r2u,P1m.O80(R2g,c71),P1m.O80(x5z,r2u));c$L.globalAlpha=1;}H8r=R2g;}else {H8r=c71;}O0i=z7a;}if(this.highlighted){i3t=this.highlighted === "p0";j73=this.highlighted === "p1";W4H=this.p0[+"0"] > this.p1[0];d2I=W4H?j73:i3t;s4m=W4H?i3t:j73;this.littleCircle(c$L,c71,q3M,d2I);this.littleCircle(c$L,z6I,q3M,s4m);}P1m.O3H(2);this.pixelX=[c71,P1m.O80(f_3,c71)];this.pixelY=[this.pixelFromValue(f10,z6D,z$Q,A1V),this.pixelFromValue(f10,z6D,i8w,A1V),q3M];this.p0[1]=0;this.p1[+"1"]=!({});},intersected:function(i3p,N8F,S8B){var A23,M6i;var {p0:k6J, p1:n$E, stx:d9l}=this;if(!k6J || !n$E){return null;}var [,,P48]=this.pixelY || [];if(P48 === undefined){return;}A23=this.repositionIntersection(i3p,N8F);if(A23){return A23;}for(var [S0c,[m_Y]] of [[0,k6J],[+"1",n$E]]){if(this.pointIntersection(d9l.pixelFromTick(m_Y),P48,S8B,!!({}))){M6i="dr";M6i+="a";M6i+="g";P1m.O3H(2);this.highlighted=P1m.O80(S0c,"p");return {action:M6i,point:"p" + S0c};}}if(this.boxIntersection(i3p,N8F,S8B)){this.highlighted=!!({});return {action:"move",p0:r2.clone(this.p0),p1:r2.clone(this.p1),tick:i3p,value:N8F};}return null;},reconstruct:function(H1b,W$P){var B3f,c7h,d4J;B3f=-548062587;P1m.w7b(25);c7h=-P1m.o4m("324626357",0);d4J=2;for(var P1D=1;P1m.d8W(P1D.toString(),P1D.toString().length,+"41168") !== B3f;P1D++){this.stx=H1b;this.color=W$P.col;this.fillColor=W$P.fc;this.panelName=W$P.pnl;this.pattern=W$P.ptrn;this.lineWidth=W$P.lw;this.d0=W$P.d0;d4J+=2;}if(P1m.d8W(d4J.toString(),d4J.toString().length,52656) !== c7h){this.stx=H1b;this.color=W$P.col;this.fillColor=W$P.fc;this.panelName=W$P.pnl;this.pattern=W$P.ptrn;this.lineWidth=W$P.lw;this.d0=W$P.d0;}P1m.y4d();this.stx=H1b;this.color=W$P.col;this.fillColor=W$P.fc;this.panelName=W$P.pnl;this.pattern=W$P.ptrn;this.lineWidth=W$P.lw;this.d0=W$P.d0;this.d1=W$P.d1;this.tzo0=W$P.tzo0;this.tzo1=W$P.tzo1;this.field=W$P.fld;this.priceBuckets=W$P.pb;this.adjust();},serialize:function(){P1m.y4d();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},!0);r2.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!!"";P1m.B2i();this.annotationPoints=[];this.edit=null;};r2.inheritsFrom(r2.Drawing.elliottwave,r2.Drawing.annotation);r2.Drawing.elliottwave.defaultTemplate={impulse:[1198 == 2670?+"0x1c94":9869 === +"6740"?!1:"I","II","III","IV",+"248.03" === 2296?("X",!!"1"):454.06 > 2114?9944 != 1630?3.70e+3:0x1f6a:"V"],corrective:[(7620,1463) == (9420,+"9220")?4.09e+3:"A","B","C"],decoration:"enclosed",showLines:!""};r2.Drawing.elliottwave.prototype.initializeSettings=function(t5Y){P1m.B2i();t5Y.currentVectorParameters.waveParameters=r2.clone(r2.Drawing.elliottwave.defaultTemplate);};r2.Drawing.elliottwave.prototype.configs=[X0r,P39,"lineColor","pattern",Q1h,"waveParameters"];r2.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];r2.Drawing.elliottwave.prototype.construct=function(e$F,d9s){var O5m,a7i,I2M,i7l;this.stx=e$F;this.panelName=d9s.name;O5m=628739798;a7i=448384170;P1m.B2i();I2M=2;for(var N8H=1;P1m.d8W(N8H.toString(),N8H.toString().length,+"41263") !== O5m;N8H++){i7l=e$F.currentVectorParameters;I2M+=2;}if(P1m.U7z(I2M.toString(),I2M.toString().length,+"58727") !== a7i){i7l=e$F.currentVectorParameters;}Object.assign(this,i7l.waveParameters);};r2.Drawing.elliottwave.prototype.serialize=function(){var O6O,B_2,F75,w9O;O6O="f";O6O+="l";B_2="w";B_2+="t";F75="s";F75+="z";P1m.B2i();w9O={};for(var e16=0;e16 < this.points.length;e16++){P1m.O3H(2);w9O[P1m.o4m(e16,4250 >= 41.16?820.28 >= (5780,+"7796")?"2900" << 0 <= (6680,"7641" ^ 0)?7.77e+3:("6.75e+3" << 0,2.76e+2):"d":"C")]=this[P1m.O80(e16,"d")];P1m.w7b(2);w9O[P1m.o4m(e16,"tzo")]=this[P1m.O80(e16,"tzo")];P1m.O3H(2);w9O[P1m.o4m(e16,994.84 != (401.21,9186)?"v":(+"0x1f5",0x11ab))]=this[P1m.O80(e16,881.26 > 3400?("2.00e+3" | 16,7.44e+3):"v")];}w9O.annotations=this.annotationPoints.join((8300,19) != "2206" >> 0?6854 < (2310,4180)?(!!({}),0x943):",":("d",7.46e+3));return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:r2.removeNullValues(r2.replaceFields(this.font,{style:"st",size:F75,weight:B_2,family:O6O}))},w9O);};r2.Drawing.elliottwave.prototype.reconstruct=function(n$I,E6o){var c7_;c7_="we";c7_+="i";c7_+="g";c7_+="ht";this.stx=n$I;this.color=E6o.col;this.panelName=E6o.pnl;this.pattern=E6o.ptrn;this.lineWidth=E6o.lw;this.font=r2.replaceFields(E6o.fnt,{st:"style",sz:"size",wt:c7_,fl:"family"});this.decoration=E6o.decor;this.showLines=E6o.show;this.dx=E6o.dx;this.dy=E6o.dy;this.trend=E6o.trend;this.field=E6o.fld;this.annotationPoints=E6o.annotations.split((1610,+"7450") < 8090?",":("c",0x1c17));if(E6o.decor === "enclosed"){this.calculateRadius(n$I.chart.tempCanvas.context);}this.maxSegments=E6o.mxSeg;this.reconstructPoints(E6o);this.adjust();};r2.Drawing.elliottwave.prototype.reconstructPoints=function(N07){var k5y,l7E,y8H,B9s;k5y=this.stx.panels[this.panelName];if(!k5y){return;}for(var l9T=0;l9T < this.annotationPoints.length;l9T++){l7E="t";l7E+="z";l7E+="o";P1m.O3H(2);this[P1m.o4m(l9T,455.7 >= "199.88" - 0?"d":!0)]=N07[P1m.O80(l9T,(206.97,7426) == 409.58?354.2 !== (7823,5040)?6.65e+3:0x17e5:"d")];P1m.w7b(2);this[P1m.o4m(l9T,(5670,959.8) === (545.48,7820)?829.74:(519.32,5590) == 2817?328:"v")]=N07[P1m.O80(l9T,"v")];P1m.O3H(2);this[P1m.o4m(l9T,l7E)]=N07[P1m.O80(l9T,"tzo")];y8H=r2.strToDateTime(N07[((5160,"218.08" - 0) != 1409?+"7727" != (6820,8076)?"d":3.35e+3:(0x222b,247.72)) + l9T]);B9s=this.stx.tickFromDate(y8H,k5y.chart);this.points.push([B9s,N07[((1990,411.59) === 271.34?(7.27e+3,0x278):"v") + l9T]]);}};r2.Drawing.elliottwave.prototype.calculateRadius=function(z6X){var P2A,m2v;this.getFontString();P1m.y4d();z6X.font=this.fontString;P2A=0;for(var X4U=0;X4U < this.annotationPoints.length;X4U++){m2v=z6X.measureText(this.annotationPoints[X4U]).width;if(P2A < m2v){P2A=m2v;}}this.enclosedRadius=P2A;};r2.Drawing.elliottwave.prototype.check=function(X8_,z1t,s4C){var s40,Z8W;P1m.w7b(6);s40=this.points[P1m.o4m(s4C,1)];function D2m(a4s){for(var h$f=2;h$f < a4s.length;h$f++){if(Math.sign(a4s[h$f][1] - a4s[h$f - 1]["1" ^ 0]) == Math.sign(a4s[h$f - 1][1] - a4s[h$f - "2" * 1][1])){return !!"";}}return !!({});}if(s40 && X8_ <= s40[0]){return !!"";}if(s4C === 1 && this.points.length === 2){return !!({});}P1m.w7b(2);Z8W=this.points[P1m.O80(1,s4C)];if(Z8W && X8_ >= Z8W[0]){return !({});}if(!D2m(this.points)){return !1;}return !!1;};r2.Drawing.elliottwave.prototype.move=function(H7a,D2g,S50){this.copyConfig();P1m.w7b(100);var o5U=P1m.o4m(232,14,4,3,13);this.points[this.lastPoint + o5U]=[D2g,S50];this.render(H7a);};r2.Drawing.elliottwave.prototype.adjust=function(){var k7u,f$H;k7u=this.stx.panels[this.panelName];if(!k7u){return;}P1m.B2i();for(var o7q=0;this.maxSegments + 1 > o7q;o7q++){P1m.O3H(2);f$H=this[P1m.o4m(o7q,(6210,"9611" << 32) !== 783?"d":!!({}))];this.setPoint(o7q,f$H,this[((6236,8619) >= 808.24?"v":2638 >= ("7900" << 32,6920)?0x727:171.56) + o7q],k7u.chart);this.points[o7q][0]=this.stx.tickFromDate(r2.strToDateTime(f$H),k7u.chart);P1m.O3H(2);this.points[o7q][+"1"]=this[P1m.o4m(o7q,+"8700" !== (3441,601)?6248 !== (328.33,375.33)?"v":(2860,5380) !== (5755,+"7030")?9.47e+3:"x":(![],930.85))];}};r2.Drawing.elliottwave.prototype.click=function(R0z,s9I,h8A){var n6Q,y3l;n6Q=this.stx.panels[this.panelName];if(!n6Q){return;}this.copyConfig();if(!this.penDown){y3l="e";y3l+="nclosed";this.setPoint(0,s9I,h8A,n6Q.chart);this.points.push(this.p0);this.penDown=!![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(7971 === 798?(3482,6100) > (50.76,2480)?(310.51,"U"):("E",6.62e+3):"0");if(this.decoration === y3l){this.calculateRadius(R0z);}this.maxSegments=this.annotationPoints.length - ("1" | 0);this.trend=1;return !({});}if(this.accidentalClick(s9I,h8A)){this.penDown=!!"1";return !!"";}if(this.check(s9I,h8A,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,s9I,h8A,n6Q.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return !![];}}return !"1";};r2.Drawing.elliottwave.prototype.render=function(q5E){var F5j,T0S,m$I,B6d,j60,m$d,i7k,g1F,E7w,g3v,t4P,N7w,Z83,M3i,X98,h_N,p4d,e34,I0d,s3q,P7v,C0b,N3c,Y7t,a7a,t7J,c3p,L5Q,U65,u90,Y6I;F5j=this.stx;T0S=F5j.panels[this.panelName];m$I=F5j.getYAxisByField(T0S,this.field);if(!T0S || this.field && !m$I){return;}m$I=m$I || T0S.yAxis;B6d=this.annotationPoints;j60=this.pattern?r2.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();q5E.font=this.fontString;q5E.textAlign="center";q5E.textBaseline="middle";q5E.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(q5E);}this.lastFontString=this.fontString;m$d=this.getLineColor();q5E.fillStyle=q5E.strokeStyle=m$d;q5E.save();q5E.setLineDash(j60);i7k=this.dx;g1F=this.dy;E7w=this.points;g3v=this.pts;t4P=!this.showLines && this.highlighted;N7w=E7w.length;if(this.penDown && this.segment){M3i="l";M3i+="ow";P1m.w7b(42);var s3e=P1m.o4m(0,20,16,318);Z83=this.trend * (N7w % s3e - ("0.5" - 0)) < +"0";this.drawDropZone(q5E,E7w[N7w - 2][1],m$I[Z83?"high":M3i],E7w[N7w - 2][0]);}else if(typeof this.highlighted === "string" && F5j.repositioningDrawing){X98="h";X98+="i";X98+="g";X98+="h";h_N="m";h_N+="a";h_N+="x";p4d=parseInt(this.highlighted.substring(1,this.highlighted.length),+"10");P1m.O3H(6);var N4$=P1m.o4m(9,7);Z83=this.trend * (p4d % N4$ - 0.5) > 0;P1m.w7b(101);e34=E7w[P1m.o4m("1",p4d)];P1m.w7b(2);I0d=E7w[P1m.o4m(1,p4d)];s3q=p4d > ("0" | 0)?e34[1]:I0d[1];if(I0d){s3q=Math[Z83?h_N:"min"](s3q,I0d[+"1"]);}this.drawDropZone(q5E,s3q,m$I[Z83?X98:"low"],e34?e34[0]:null,I0d?I0d[0]:null);}for(var Q3n=0;Q3n < N7w;Q3n++){P7v=E7w[Q3n];C0b=F5j.pixelFromTick(P7v[0],T0S.chart);N3c=this.pixelFromValue(T0S,P7v[0],P7v[1],F5j.getYAxisByField(T0S,this.field));g3v[Q3n]=[C0b,N3c];}Q3n=0;if(this.showLines || t4P){q5E.beginPath();if(t4P){P1m.O3H(6);q5E.globalAlpha=P1m.O80("0.3",0);}for(;Q3n < g3v.length;Q3n++){q5E.lineTo(g3v[Q3n]["0" - 0],g3v[Q3n][1]);}q5E.stroke();Q3n=0;}q5E.restore();for(;Q3n < N7w;Q3n++){Y7t="e";Y7t+="nclosed";a7a=Q3n % 2?i7k:-i7k;t7J=Q3n % 2?g1F:-g1F;a7a*=this.trend;t7J*=this.trend;if(m$I.flipped){a7a*=-1;t7J*=-1;}c3p=g3v[Q3n];L5Q=c3p[2]=c3p[0] + a7a;P1m.w7b(23);var n_$=P1m.O80(14,16,232,9);U65=c3p[3]=c3p[n_$] + t7J;u90=this.enclosedRadius || 8;Y6I=B6d[Q3n];if(this.decoration === "parentheses"){P1m.O3H(77);Y6I=P1m.O80(Y6I,(7040,+"5524") >= (4974,8999)?(+"0x11ed","k"):"172.59" * 1 == 5300?0x27a:")","(");}q5E.fillText(Y6I,L5Q,U65);if(this.decoration === Y7t){q5E.beginPath();q5E.arc(L5Q,U65,u90,0,2 * Math.PI,!!"");q5E.stroke();}if(this.highlighted){q5E.save();this.littleCircle(q5E,this.pts[Q3n][0],this.pts[Q3n]["1" - 0],this.highlighted === "p" + Q3n);q5E.restore();}}};r2.Drawing.elliottwave.prototype.reposition=function(q88,U$m,Q8f,N4a){var x77,N8K,c7b,e3R,Q_u,B$z;if(!U$m){return;}x77=this.stx.panels[this.panelName];N8K=U$m.tick - Q8f;c7b=U$m.value - N4a;P1m.B2i();if(U$m.action === "move"){for(var s2c=0;U$m.points.length > s2c;s2c++){e3R=U$m.points[s2c];this.setPoint(s2c,e3R[0] - N8K,e3R[1] - c7b,x77.chart);P1m.w7b(102);var f9w=P1m.O80(3,11,11,8,16);this.points[s2c]=[e3R[0] - N8K,e3R[f9w] - c7b];}}if(U$m.action === "drag"){Q_u=U$m.point;B$z=this.points;B$z[Q_u]=[Q8f,N4a];if(this.check(Q8f,N4a,Q_u)){this.setPoint(Q_u,Q8f,N4a,x77.chart);}}this.render(q88);};r2.Drawing.elliottwave.prototype.intersected=function(w$a,S$F,E5W){var B1V,u$d,C8d;if(!this.p0 || !this.p1){return null;}for(var n3e=0;this.points.length > n3e;n3e++){u$d="se";u$d+="g";u$d+="men";u$d+="t";C8d=this.points[n3e];if(this.pointIntersection(C8d[0],C8d[1],E5W)){P1m.w7b(2);this.highlighted=P1m.O80(n3e,(2852,9480) != 60?5320 !== (5593,3670)?5010 > (484.35,2710)?"p":!!0:0x251d:(336.25,0x26c7));return {action:"drag",point:n3e,tick:w$a,value:this.valueOnDrawingAxis(w$a,S$F)};}if(this.points[n3e + 1] && this.lineIntersection(w$a,S$F,E5W,u$d,C8d,this.points[n3e + ("1" ^ 0)])){this.highlighted=!!1;B1V={action:"move",points:r2.clone(this.points),tick:w$a,value:this.valueOnDrawingAxis(w$a,S$F)};}}P1m.y4d();return B1V;};r2.Drawing.elliottwave.prototype.measure=function(){var I8B,O28,X1m,k$H,P_S,W5m,U84;if(this.points.length >= "2" * 1){I8B=".mSt";I8B+="ickyIn";I8B+="terior";O28=this.points;this.stx.setMeasure(O28[0][1],O28[O28.length - 1][1],O28[0][0],O28[O28.length - 1][0],!![]);X1m=this.stx.controls.mSticky;k$H=X1m && X1m.querySelector(I8B);if(k$H){P_S="<";P_S+="b";P_S+="r";P_S+=">";W5m="Elliott W";W5m+="ave";U84=[];U84.push(r2.capitalize(W5m));if(this.getYValue){U84.push(this.field || this.stx.defaultPlotField || "Close");}U84.push(k$H.innerHTML);k$H.innerHTML=U84.join(P_S);}}};r2.Drawing.printProjection=function(X9m,z37,J9A){var Z3u,u6O,z9y,T2Y,K8j,Q08,f_B,n2n,F8X,R0H,H$a,i3m,t5u,l2l,S4v,F2g;Z3u=z37.arr;P1m.y4d();if(Z3u.length > "1" - 0){P1m.O3H(41);u6O=Z3u[P1m.O80("0",0)][+"0"];z9y=Math.round(X9m.chart.maxTicks * +"0.75");for(var W5l=1;W5l < Z3u.length;W5l++){P1m.O3H(6);T2Y=Z3u[P1m.O80(W5l,1)][0];K8j=Z3u[W5l][0];Q08=r2.strToDateTime(T2Y);f_B=r2.strToDateTime(K8j).getTime();n2n=X9m.standardMarketIterator(Q08);F8X=0;while(Q08.getTime() < f_B){Q08=n2n.next();F8X+=1;}R0H=r2.strToDateTime(T2Y).getTime();if(R0H > r2.strToDateTime(J9A[J9A.length - +"1"].Date).getTime()){H$a=J9A.length - ("1" ^ 0);F8X+=1;}else {for(H$a=J9A.length - 1;H$a >= 0;H$a--){if(R0H <= r2.strToDateTime(J9A[H$a].Date).getTime())break;}}i3m={x0:+"0",x1:F8X,y0:J9A[H$a].Close,y1:Z3u[W5l]["1" >> 64]};u6O=r2.strToDateTime(T2Y);n2n=X9m.standardMarketIterator(u6O);t5u=!"1";for(var A9O="0" | 0;A9O <= F8X;A9O++){if(!t5u){t5u=!![];}else {u6O=n2n.next();}if(u6O.getTime() <= J9A[J9A.length - 1].DT.getTime())continue;l2l=r2.yIntersection(i3m,A9O);if(!l2l){l2l=0;}P1m.O3H(1);var W6a=P1m.o4m(9986,9972,2);P1m.w7b(103);var G9J=P1m.O80(4,18,170412,20,10020);S4v=Math.round(l2l * W6a) / G9J;if(S4v === 0){S4v=Z3u[W5l][1];}F2g={Date:r2.yyyymmddhhmmssmmm(u6O),DT:u6O,Open:S4v,Close:S4v,High:S4v,Low:S4v,Volume:0,Adj_Close:S4v,Split_Close:S4v,projection:!!"1"};if(X9m.layout.interval == "minute")if(z9y-- < 0)break;J9A[J9A.length]=F2g;}}}};}};S=t11=>{var E9B=B9olJ;E9B.y4d();var v00;v00=typeof _CIQ !== "undefined"?_CIQ:t11.CIQ;if(!v00.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {v00.formatEquation=function(y6h){var Y40,q43,Q0t,J7m,A$V;Y40="";q43=[];Q0t="";J7m=![];for(var I0t=1;I0t < y6h.length;I0t++){A$V=y6h[I0t];if(A$V == (6186 === (+"7280",9870)?(268,"D"):478.91 != 947.6?"[":!![]) && !J7m){J7m=!!"1";}else if(A$V == ((4940,452.95) === (+"4568",2090)?694.15 === (2240,9979)?+"9.85e+3":("3090" * 1,6790) <= "50.26" * 1?(794.91,!""):+"1.27e+3":"]") && J7m){J7m=!!0;if(Q0t !== ""){q43.push(Q0t);E9B.w7b(77);Y40+=E9B.O80(Q0t,"]","[");}Q0t="";}else if(J7m){Q0t+=A$V;}else if(A$V == "+" || A$V == (3154 <= (+"313.89",3470)?(264.48,197.82) < (442.57,8810)?(352.61,532.77) < (226.98,9728)?"-":("x",!!"1"):!!({}):"a") || A$V == ((722.08,4320) >= (8178,8620)?193.14:(8340,931.99) <= 792.38?(7748,5480) !== (822,953.24)?(0x15f5,7.80e+3):(!"",0x17d6):"*") || A$V == ((2267,571) <= 595?(4840,3790) === (1840,8300)?0x1e4a:5200 >= 3660?"/":(6.04e+3,670.35):(8.96e+3,0x188d)) || A$V == ":" || A$V == (262.08 === 6250?0x2007:"%") || A$V == (("6744" << 32,"688.89" - 0) != (6150,8556)?"(":9310 === 162?"x":(404.95,0x2693)) || A$V == ((3467,988) != 469.82?")":"6574" - 0 !== (671,319)?(416.39,!!({})):("m",!""))){if(Q0t !== "" && isNaN(Q0t)){q43.push(Q0t);E9B.w7b(77);Y40+=E9B.o4m(Q0t,559.2 !== ("1860" ^ 0)?(2870,858.4) == 416.88?692.24:"]":(0x22de,!!1),(6070,1960) !== ("2390" | 18,"402.81" - 0)?350 != 131?"[":8360 === (451,9842)?(!![],"S"):(!1,39.90):(0x8f6,"E"));}else {Y40+=Q0t;}if(A$V == ":"){A$V=(320.04,896.55) == 159?(![],8.35e+3):"/";}Y40+=A$V;Q0t="";}else if(A$V != " "){Q0t+=A$V;}}E9B.y4d();if(Q0t !== "" && isNaN(Q0t)){q43.push(Q0t);E9B.O3H(77);Y40+=E9B.O80(Q0t,65 !== (6963,5108)?(284,2421) === 7050?("E","p"):"]":+"3.04e+2",(938,2170) <= "3671" << 0?(6173,1410) > (6270,8825)?("C",0x1907):(258.83,4600) !== 2525?"[":("g","S"):("3.47e+3" - 0,8.88e+2));}else {Y40+=Q0t;}return {equation:Y40,symbols:q43};};v00.fetchEquationChart=function(x55,e5j){var f2W,Z6O,H4Y,p_a,V7v;f2W=v00.formatEquation(x55.symbol);Z6O=f2W.symbols;H4Y=[];p_a=x55.stx;x55.stx=null;for(var u2r=0;u2r < Z6O.length;u2r++){V7v=v00.shallowClone(x55);V7v.stx=p_a;V7v.symbol=Z6O[u2r];V7v.symbolObject={symbol:Z6O[u2r]};H4Y.push(V7v);}x55.stx=p_a;p_a.quoteDriver.multiFetch(H4Y,function(u0l){E9B.B2i();var U0$,R5g,e_v,k7D,K6V;U0$={};x55.loadMoreReplace=!!1;R5g={charge:0};for(var m8n=0;m8n < u0l.length;m8n++){e_v=u0l[m8n];if(e_v.dataCallback.error){e5j({error:e_v.dataCallback.error});return;}U0$[e_v.params.symbol]=e_v.dataCallback.quotes;x55.loadMoreReplace=x55.loadMoreReplace && e_v.params.loadMoreReplace;x55.moreToLoad=x55.moreToLoad || e_v.dataCallback.moreAvailable;k7D=e_v.dataCallback.attribution;if(k7D){if(k7D.charge){R5g.charge+=k7D.charge;}R5g.source=k7D.source;if(R5g.exchange === undefined){R5g.exchange=k7D.exchange;}else if(R5g.exchange != k7D.exchange){R5g.exchange="";}}}if(H4Y.length || !(x55.loadMore || x55.update)){try{K6V=v00.computeEquationChart(f2W.equation,U0$);e5j({quotes:K6V,moreAvailable:x55.moreToLoad,attribution:R5g});}catch(a8a){var q2E,X1Z,s6U;q2E="NoExc";q2E+="e";q2E+="p";q2E+="tion";X1Z="Inva";X1Z+="lid equation:";X1Z+=" ";s6U={error:X1Z + f2W.equation};if(a8a.name && a8a.name == q2E){s6U.suppressAlert=!![];}e5j(s6U);}}});};}};F=F8_=>{var S_a=B9olJ;S_a.B2i();var Y$L,h4X,a97,J_O,L3T;Y$L=typeof _CIQ !== "undefined"?_CIQ:F8_.CIQ;if(!Y$L.Marker){h4X=-791620823;a97=-134662511;J_O=2;for(var D0h=1;S_a.U7z(D0h.toString(),D0h.toString().length,33734) !== h4X;D0h++){console.error("");J_O+=2;}if(S_a.d8W(J_O.toString(),J_O.toString().length,+"2164") !== a97){L3T="highPerforma";L3T+="nceMarkers feature requires first activating markers feature.";console.error(L3T);}}else if(!Y$L.Marker.Performance){Y$L.ChartEngine.prototype.removeDOMMarker=function(s8Y){S_a.y4d();console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");Y$L.Marker.Performance.prototype.removeDOMMarker.call(s8Y.params.node,s8Y);};Y$L.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");S_a.B2i();Y$L.Marker.Performance.drawMarkers(this);};Y$L.ChartEngine.prototype.calculateMarkerStyles=function(S4D,P02){S_a.y4d();var K$4;K$4="CIQ.";K$4+="ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.";console.warn(K$4);Y$L.Marker.Performance.calculateMarkerStyles(this,S4D,P02);};Y$L.ChartEngine.prototype.drawCircleMarker=function(M3$,c5o,u_5){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");Y$L.Marker.Performance.drawCircleMarker(M3$,c5o,u_5);};Y$L.ChartEngine.prototype.drawSquareMarker=function(r3G,I2V,p_0){var r9n;r9n="CIQ.ChartEngine";r9n+="#drawSquareMarker is scheduled for deprecatio";r9n+="n in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.";console.warn(r9n);Y$L.Marker.Performance.drawSquareMarker(r3G,I2V,p_0);};Y$L.ChartEngine.prototype.drawCalloutMarker=function(P4m,f9Q,n_U){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");Y$L.Marker.Performance.drawCalloutMarker(P4m,f9Q,n_U);};Y$L.ChartEngine.prototype.drawMarkerStem=function(y_H,f4v,D_Q){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");Y$L.Marker.Performance.drawMarkerStem(y_H,f4v,D_Q);};Y$L.ChartEngine.prototype.positionDOMMarkers=function(){var x6a;x6a="CIQ.ChartEngine#positionDOMMa";S_a.y4d();x6a+="rkers is scheduled for deprecat";x6a+="ion in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(x6a);Y$L.Marker.Performance.drawMarkers(this);};Y$L.Marker.Performance=function(C1E){var p8j,r63,z7f,c5W,t7m,J7h,t7U,O3I,m$z,L$n,l6C,T8U;p8j=".stx-marker-ex";p8j+="pa";p8j+="nd";r63=".stx";r63+="-visual";z7f="<div class=\"st";z7f+="x-ma";z7f+="rker-content\">";this.params={displayCategory:!![],displayStem:!0,invert:!!0,story:"",headline:""};Y$L.extend(this.params,C1E);S_a.B2i();c5W=this.template=document.createElement("TEMPLATE");S_a.w7b(104);c5W.innerHTML=S_a.o4m("</div>","</div>",'<div class="stx-marker highlight">','<div class="stx-visual">','<div class="stx-stem"></div>','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>",z7f);t7m=this.template.content.cloneNode(!![]);J7h=t7m.querySelector(".stx-marker");J7h.classList.add(C1E.type);J7h.classList.add(C1E.category);if(C1E.size){J7h.classList.add(C1E.size);}t7U=t7m.querySelector(r63);O3I=t7m.querySelector(p8j);m$z=t7m.querySelector("h4");L$n=t7m.querySelector((405.79,+"9720") == ("784.98" - 0,+"266.09")?(+"327.19",309) >= 978.54?("L",!!1):(9130,2260) >= ("3760" | 32,132.63)?0x248f:("n",440.19):"p");m$z.innerText=this.params.headline;L$n.innerText=this.params.story;this.hasText=!!C1E.headline || !!C1E.story;this.deferAttach=!"";this.node=t7m.firstChild;this.node.params=this.params;this.visual=t7U;this.expand=O3I;if(C1E.type === "callout"){l6C=".stx-mar";l6C+="ker-co";l6C+="nte";l6C+="nt";T8U=O3I.removeChild(m$z);t7m.querySelector(l6C).insertBefore(T8U,O3I);}};Y$L.inheritsFrom(Y$L.Marker.Performance,Y$L.Marker.NodeCreator,![]);Y$L.Marker.Performance.consolidateExpanded=function(T5M){var q_R,O1a,w6W,i1$;S_a.y4d();q_R=T5M.markerHelper.highlighted;if(!q_R.length){return;}O1a=T5M.activeMarker;if(!O1a.consolidated){O1a.consolidated=[];}for(var e8a=q_R.length - 1;e8a >= +"0";e8a--){if(O1a === q_R[e8a])continue;w6W=r14(q_R[e8a]);if(w6W){i1$="<consolidated><br><br>" + w6W.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"") + "</consolidated>";r14(O1a).innerHTML+=i1$;}}O1a.stxNodeCreator.quickCache(O1a);function r14(n2J){var M0c,Z5I;M0c=n2J.params.node;S_a.y4d();Z5I=M0c.expand;if(!Z5I){return null;}return Z5I.querySelector(".marker_content") || Z5I;}};Y$L.Marker.Performance.reconstituteExpanded=function(f7O){var q2y,D_V,Q5D;q2y=1414042537;D_V=-1950483556;Q5D=2;for(var K_Q=1;S_a.d8W(K_Q.toString(),K_Q.toString().length,"71302" >> 0) !== q2y;K_Q++){if(!f7O.markerHelper.highlighted.length || !f7O.activeMarker){return;}Q5D+=2;}if(S_a.d8W(Q5D.toString(),Q5D.toString().length,72016) !== D_V){if(~f7O.markerHelper.highlighted.length && +f7O.activeMarker){return;}}Array.from(f7O.activeMarker.params.node.expand.querySelectorAll("consolidated")).forEach(P4X=>{return P4X.remove();});};Y$L.Marker.Performance.drawMarkers=function(V7W){var W3s,H$U,q1B,J3V,W9N,i9_;W3s=V7W.getMarkerArray("all");S_a.B2i();H$U=V7W.chart;for(var n4s=0;n4s < W3s.length;n4s++){q1B=W3s[n4s];J3V=q1B.stxNodeCreator;W9N=H$U.dataSegment[0].tick;i9_=H$U.dataSegment[H$U.dataSegment.length - 1].tick;if(W9N <= q1B.tick <= i9_){if(J3V && J3V.drawMarker){J3V.drawMarker(q1B);}}}};Y$L.Marker.Performance.calculateMarkerStyles=function(r02,X$R,F9r){var l5z,A2t,f2w,P7z,r9Z,f1J,E6W;l5z=".st";l5z+="x-mark";l5z+="er-templates";A2t=r02.container.ownerDocument;f2w=A2t.querySelector(l5z);if(!f2w){P7z="-1000";P7z+="p";P7z+="x";f2w=document.createElement("DIV");f2w.style.visibility="hidden";f2w.style.left=P7z;A2t.body.append(f2w);}f2w.appendChild(X$R.node);r9Z=getComputedStyle(X$R.stxNodeCreator.visual);if(!r02.styles.stx_marker_stem){f1J=".st";f1J+="x-stem";E6W=getComputedStyle(X$R.node.querySelector(f1J));r02.styles.stx_marker_stem=r02.cloneStyle(E6W);}r02.styles[F9r]=r02.cloneStyle(r9Z);f2w.removeChild(X$R.node);};Y$L.Marker.Performance.drawCircleMarker=function(s9J,f1R,t63){var B97,E8r,P6i,H3R,d5c,q_x,B3G,n7y,o7a,c6T;B97="px Robot";B97+="o, Helvetica, sans-serif";E8r="c";E8r+="enter";P6i=s9J.params.stx;H3R=P6i.chart;d5c=H3R.context;q_x=t63.x;B3G=t63.y;n7y=t63.radius;o7a=t63.label;c6T=t63.color?t63.color:f1R.backgroundColor;d5c.save();d5c.beginPath();d5c.setLineDash([]);d5c.lineWidth=1;d5c.fillStyle=c6T;d5c.strokeStyle=c6T;d5c.textAlign=E8r;S_a.w7b(105);var f6J=S_a.O80(7,1,19);S_a.w7b(73);var C3X=S_a.O80(15,14,31);S_a.w7b(1);S_a.B2i();var o3s=S_a.O80(16,255,16);d5c.font="normal bold " + Math.min(f6J,("2" | C3X) * (n7y + o3s)) + B97;d5c.arc(q_x,B3G,n7y,0,2 * Math.PI,!!"");d5c.fill();d5c.stroke();d5c.closePath();if(o7a){d5c.fillStyle=Y$L.chooseForegroundColor(d5c.fillStyle);S_a.O3H(2);d5c.fillText(o7a,q_x,S_a.o4m(1,B3G));}if(s9J.highlight || s9J.active){if(Y$L.isTransparent(c6T)){d5c.strokeStyle=P6i.defaultColor;}d5c.beginPath();S_a.O3H(83);d5c.arc(q_x,B3G,S_a.o4m("4",n7y),0,2 * Math.PI,!!0);d5c.stroke();d5c.closePath();}d5c.restore();};Y$L.Marker.Performance.drawSquareMarker=function(m$m,d$p,C2s){var s89,U6f,B1N,f06,j3M,L3H,z_y,l1T,u5_,S9U,x3y,n3V;s89=m$m.params.stx;U6f=s89.chart;B1N=U6f.context;f06=C2s.x;j3M=C2s.y;L3H=C2s.half;z_y=C2s.label;l1T=C2s.color?C2s.color:d$p.backgroundColor;S_a.w7b(7);u5_=S_a.o4m(2,L3H);B1N.setLineDash([]);B1N.lineWidth=1;B1N.fillStyle=l1T;B1N.strokeStyle=l1T;B1N.save();S_a.y4d();B1N.beginPath();if(m$m.node.params.type === "diamond"){B1N.translate(f06,j3M);B1N.rotate(Math.PI / 4);B1N.translate(-f06,-j3M);L3H/=1.42;S_a.w7b(106);u5_=S_a.O80(L3H,"2",2);}S_a.w7b(6);B1N.fillRect(S_a.o4m(f06,L3H),S_a.o4m(j3M,L3H),u5_,u5_);if(m$m.highlight || m$m.active){S_a.O3H(89);B1N.strokeRect(S_a.O80(4,L3H,f06),S_a.o4m(4,L3H,j3M,S_a.O3H(89)),S_a.O80(8,u5_,S_a.O3H(2)),S_a.o4m("8",u5_,S_a.w7b(83)));}S9U=-512820252;x3y=22833179;n3V=2;for(var p9C=+"1";S_a.d8W(p9C.toString(),p9C.toString().length,21609) !== S9U;p9C++){B1N.closePath();n3V+=2;}if(S_a.U7z(n3V.toString(),n3V.toString().length,90854) !== x3y){B1N.closePath();}B1N.restore();if(z_y){B1N.save();B1N.textAlign="center";S_a.w7b(6);var d0m=S_a.o4m(38,36);B1N.font="normal bold " + Math.min(+"12",d0m * L3H) + "px Roboto, Helvetica, sans-serif";B1N.fillStyle=Y$L.chooseForegroundColor(B1N.fillStyle);S_a.O3H(2);B1N.fillText(z_y,f06,S_a.O80(1,j3M));B1N.restore();}};Y$L.Marker.Performance.drawCalloutMarker=function(a2q,P8W,E0L){var b2e,x_K,X$T,f$t,V0$,c6Y,B3s,Z$w,m7g,s4u,z4s,H6s,G8M,c3t;b2e=a2q.params.stx;x_K=b2e.chart;X$T=x_K.context;f$t=a2q.params;V0$=E0L.x;c6Y=E0L.y;S_a.y4d();B3s=E0L.half;Z$w=E0L.midWidth;m7g=E0L.headline;s4u=E0L.color?E0L.color:P8W.backgroundColor;z4s=B3s * 2 || 25;H6s=Math.round(X$T.measureText(m7g).width);G8M=Z$w?Z$w * 2:H6s + ("8" << 64);X$T.beginPath();X$T.setLineDash([]);X$T.lineWidth=1;X$T.fillStyle=s4u;X$T.strokeStyle=s4u;X$T.font="normal bold 12px Roboto, Helvetica, sans-serif";X$T.rect(f$t.box.x0,f$t.box.y0,G8M,z4s);X$T.fill();X$T.stroke();X$T.closePath();X$T.beginPath();X$T.fillStyle=a2q.highlight || a2q.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";S_a.w7b(107);c3t=S_a.o4m(0,G8M,H6s,2,"20");X$T.rect(f$t.box.x0 + c3t,c6Y - B3s,H6s + 40,22);X$T.fill();X$T.stroke();X$T.closePath();X$T.fillStyle="black";X$T.fillText(m7g,f$t.box.x0 + c3t + 10,c6Y);};Y$L.Marker.Performance.drawMarkerStem=function(J5W,T0C,z3h){var d3F,c7r,z5L,j5Z,D03,f_n,S1R,A60;d3F=J5W.params.stx;c7r=d3F.chart;z5L=c7r.context;j5Z=z3h.x;D03=z3h.y;z5L.beginPath();z5L.strokeStyle=T0C.borderLeftColor;z5L.setLineDash([1,1]);f_n=Y$L.stripPX(T0C.height);S1R=z3h.invert?J5W.params.box.y0:J5W.params.box.y1;A60=z3h.invert?J5W.params.box.y0 - f_n:J5W.params.box.y1 + f_n;z5L.moveTo(j5Z,S1R);z5L.lineTo(j5Z,A60);z5L.stroke();z5L.closePath();};Y$L.Marker.Performance.prototype.drawMarker=function(I9E){var b_3,n3J,c5e,P9w,V25,Y$q,J$g,c3K,b7a,w2F,v_v,j1H,w49,p03,v_O,f1a,P5M,r6j,U9v,l5c,r2o,J$t,u$Y,g2i,W$l,a9w,X5q,U_R,v96,I4d,t3b;b_3="squar";b_3+="e";n3J="stx";n3J+="_m";n3J+="arker";n3J+="_";c5e=I9E.params;P9w=I9E.params.stx;if(!P9w){return;}V25=P9w.chart;Y$q=V25.dataSegment;if(!Y$q || !Y$q.length){return;}J$g=P9w.panels[I9E.params.panelName];if(J$g.hidden){return;}c3K=I9E.params.yAxis || J$g.yAxis;b7a=I9E.stxNodeCreator.params;if(b7a.hide){return;}w2F=b7a.type;v_v=b7a.category;j1H=b7a.headline;w49=b7a.displayCategory;p03=b7a.color;v_O=b7a.displayLabel;f1a=b7a.invert;P5M=b7a.size;if(p03 === "auto"){p03=P9w.defaultColor;}S_a.O3H(108);r6j=S_a.o4m(n3J,"_",v_v,w2F);if(P5M){S_a.w7b(2);r6j+=S_a.o4m(P5M,(891.81,8200) == 88.14?("G",!!0):(9470,646.16) > (+"2580",4102)?("Q",9.26e+3):"_");}if(!P9w.styles[r6j]){Y$L.Marker.Performance.calculateMarkerStyles(P9w,I9E,r6j);}U9v=I9E.style=P9w.styles[r6j];l5c=P9w.styles.stx_marker_stem;S_a.O3H(109);var O6z=S_a.O80(248,30,5,13,8);S_a.w7b(110);var o$B=S_a.o4m(13,18,184,11,17);r2o=parseInt(U9v.height,O6z) / o$B;S_a.O3H(6);var n_I=S_a.O80(40,38);S_a.O3H(2);var f0J=S_a.O80(2,0);J$t=parseInt(U9v.width,"10" | n_I) / f0J;if(w2F === "diamond"){r2o*=+"1.42";u$Y=304083437;g2i=1824008366;W$l=2;for(var u07=1;S_a.d8W(u07.toString(),u07.toString().length,49403) !== u$Y;u07++){J$t*=1.42;W$l+=2;}if(S_a.d8W(W$l.toString(),W$l.toString().length,24428) !== g2i){J$t/=9297;}}a9w=b7a.displayStem?parseInt(l5c.height,10) + parseInt(l5c.marginBottom,10):0;S_a.w7b(111);X5q=S_a.O80(a9w,"2",r2o);U_R=c5e.offset || 0;v96=P9w.pixelFromTick(I9E.tick);I4d=c5e.node.calculateYPosition({marker:I9E,panel:J$g,yAxis:c3K,height:X5q,half:r2o,offset:U_R,stemHeight:a9w,inverted:f1a,field:c5e.field,x:v96});if(!I9E.tick && I9E.tick !== 0){return;}c5e.box={x0:v96 - (J$t || r2o),y0:I4d - r2o,x1:v96 + (J$t || r2o),y1:I4d + r2o,midY:r2o,midX:J$t || r2o,stemHeight:a9w};if(!w49){v_v="";}else {v_v=v_v[0].toUpperCase();}P9w.startClip(J$g.name);if(w2F === "circle"){Y$L.Marker.Performance.drawCircleMarker(I9E,U9v,{x:v96,y:I4d,radius:r2o,label:v_O || v_v,color:p03});}else if(w2F === b_3 || w2F === "diamond"){Y$L.Marker.Performance.drawSquareMarker(I9E,U9v,{x:v96,y:I4d,half:r2o,label:v_O || v_v,color:p03});}else if(w2F === "callout"){Y$L.Marker.Performance.drawCalloutMarker(I9E,U9v,{x:v96,y:I4d,half:r2o,midWidth:J$t,headline:j1H,color:p03});}else {t3b="Marker ";t3b+="t";t3b+="ype: ";S_a.w7b(77);console.warn(S_a.o4m(w2F," is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, and Callout.",t3b));}if(b7a.displayStem){Y$L.Marker.Performance.drawMarkerStem(I9E,l5c,{x:v96,y:I4d,invert:f1a});}P9w.endClip();if(I9E.attached){this.positionPopUpNode(I9E);}};Y$L.Marker.Performance.prototype.positionPopUpNode=function(z6p){var R9g,v8m,q47,D6K,q9D,h0h,p$C,i$d,U3O,H4X,U1G,r3b,f1j,E5p,S72,Y_g,t7k,b$W,w33,g4z,z48,Y15;R9g="px) tra";R9g+="nsla";R9g+="teY";R9g+="(";if(!z6p.attached || !z6p.params.box){return;}v8m=z6p.params;q47=v8m.stx;D6K=v8m.box;q9D=z6p.params.node.expand;h0h=q47.chart.dataSet;p$C=q47.chart.dataSegment;i$d=q47.panels[v8m.panelName];if(z6p.tick){H4X="D";H4X+="at";H4X+="e";U1G="D";U1G+="a";U1G+="t";U1G+="e";r3b=[h0h[p$C[0] && p$C["0" | 0].tick - 1],h0h[p$C[0] && p$C[0].tick - 2]];f1j=q47.getFirstLastDataRecord(r3b.concat(p$C),U1G);S_a.O3H(17);var h4L=S_a.O80(3,4);S_a.w7b(112);var D44=S_a.o4m(7,1,18,5,5);S_a.O3H(4);var B5C=S_a.o4m(16,21,36);S_a.w7b(113);var r5Y=S_a.O80(11,4,3,8,20);E5p=[h0h[p$C[p$C.length - h4L].tick + D44],h0h[p$C[p$C.length - B5C].tick + r5Y]];S72=q47.getFirstLastDataRecord(p$C.concat(E5p),H4X,!!1);U3O=f1j.DT <= h0h[z6p.tick].DT && h0h[z6p.tick].DT <= S72.DT && z6p.params.box.y0 <= i$d.yAxis.bottom && z6p.params.box.y1 >= i$d.yAxis.top;}else {U3O=!!0;}if(!z6p.highlight && !z6p.active){U3O=![];}q9D.style.visibility=U3O?"":"hidden";if(!U3O){return;}if(q9D.style.height !== ""){q9D.style.height="";}Y_g=q9D.rects;S_a.w7b(6);var j2A=S_a.O80(32,30);t7k=Y_g.height / j2A;w33=z6p.node.params.infoOffset || "0" * 1;if(z6p.node.params.infoOnLeft){b$W=D6K.x0 - Y_g.width - w33 < i$d.left?D6K.x1 + w33:D6K.x0 - Y_g.width - w33;}else {b$W=D6K.x0 + Y_g.width > i$d.right?D6K.x0 - Y_g.width - w33:D6K.x1 + w33;}b$W-=q47.chart.left;g4z=v8m.avoidFlush?5:+"0";z48=D6K.y0 - t7k >= i$d.yAxis.top?D6K.y0 + D6K.midY - t7k:i$d.yAxis.top + g4z;if(!v8m.avoidFlush && D6K.y1 + D6K.stemHeight === i$d.yAxis.bottom && Y_g.height > D6K.y1 - D6K.y0 + D6K.stemHeight){z48=D6K.y1 - Y_g.height + D6K.stemHeight;}if(D6K.y1 + t7k > i$d.yAxis.bottom){z48=i$d.yAxis.bottom - Y_g.height - g4z;}if(Y_g.height > i$d.yAxis.height){z48=i$d.yAxis.top + g4z;S_a.w7b(2);var A42=S_a.o4m(2,0);q9D.style.height=i$d.yAxis.height - A42 * g4z + "px";}z48-=i$d.yAxis.top;Y15="translateX(" + Math.floor(b$W) + R9g + Math.floor(z48) + "px) translateZ(0)";q9D.style.transform=Y15;q9D.transform={translateX:b$W,translateY:z48};};Y$L.Marker.Performance.prototype.quickCache=function(z7P){var h3B,n84,F30,q7X;h3B=z7P.params.node;n84=h3B.expand;F30=z7P.style;q7X=Y$L.stripPX(F30.marginLeft) + Y$L.stripPX(F30.marginRight) + Y$L.stripPX(F30.borderRight) + Y$L.stripPX(F30.borderLeft);n84.rects=n84.getBoundingClientRect();n84.scrollBarWidth=n84.rects.width - n84.clientWidth - q7X;};Y$L.Marker.Performance.prototype.calculateYPosition=function(Z0x){var e9W,Q6B,N_b,E3C,q0L,z6Z,Q3v,R4W,Y6P,B8g,B3y,a7X,Z_x,L6f,j38,b6J,C0e,k5x,W30,i65,C2Z,s0E,C_J,W3w,L$f,x1T,V3I,f_X;e9W="bottom";e9W+="_";e9W+="la";e9W+="ne";Q6B="below_";Q6B+="ca";Q6B+="nd";Q6B+="le";N_b="a";N_b+="b";N_b+="o";N_b+="ve_candle";E3C="v";E3C+="alue";q0L="h";q0L+="igh";z6Z=Z0x.marker;Q3v=Z0x.panel;R4W=Z0x.yAxis;Y6P=Z0x.height;B8g=Z0x.half;B3y=Z0x.offset;a7X=Z0x.stemHeight;Z_x=Z0x.inverted;L6f=Z0x.field;j38=z6Z.params.stx;b6J=j38.chart;C0e=j38.chart.highLowBars;k5x=b6J.dataSet[z6Z.tick];if(!k5x){return;}if(L6f){k5x=k5x[L6f];}if(!k5x){return;}if(typeof k5x === "number"){k5x={Close:k5x};k5x[b6J.defaultPlotField]=k5x.Close;C0e=!({});}W30=j38.getBarBounds(k5x,!!L6f);i65=C0e?W30[R4W.flipped?"low":q0L]:k5x[b6J.defaultPlotField];C2Z=C0e?W30[R4W.flipped?"high":"low"]:k5x[b6J.defaultPlotField];s0E=z6Z.params.yPositioner;if(isNaN(i65)){i65=(R4W.high + R4W.low) / ("2" >> 0);}if(isNaN(C2Z)){S_a.w7b(67);var y2R=S_a.O80(1,11,2,22);C2Z=(R4W.high + R4W.low) / y2R;}W3w=0;if(s0E != "none"){L$f=s0E.indexOf("_lane") > -+"1";x1T=j38.markerHelper.placementMap;V3I=s0E + "|" + Q3v.name;if(L$f && typeof x1T[V3I] == "undefined"){x1T[V3I]=2;}S_a.w7b(6);var o2H=S_a.o4m(39,7);f_X=V3I + ("2500" >> o2H > (176.57,+"910.88")?"-":"e") + (L$f?z6Z.params.label:Z0x.x);if(typeof x1T[f_X] == "undefined"){x1T[f_X]=L$f?x1T[V3I]:0;S_a.w7b(2);x1T[V3I]+=S_a.O80(2,Y6P);}W3w=x1T[f_X];if(!L$f){S_a.O3H(2);x1T[f_X]+=S_a.o4m(1,Y6P);}}switch(s0E){case E3C:if(z6Z.params.y || z6Z.params.y === ("0" | 0)){C_J=j38.pixelFromPrice(z6Z.params.y,Q3v,R4W) - Y6P * +"0.5" + B8g;break;}case N_b:C_J=j38.pixelFromPrice(i65,Q3v,R4W) - B8g - (!Z_x && a7X || B3y) - W3w;break;case Q6B:C_J=j38.pixelFromPrice(C2Z,Q3v,R4W) + B8g + (Z_x && a7X || B3y) + W3w;break;case "on_candle":S_a.w7b(114);var b5H=S_a.o4m(13,4214,18,0,18);C_J=j38.pixelFromPrice((i65 + C2Z) / b5H,Q3v,R4W) - Y6P * ("0.5" - 0) + B8g;break;case "top":case "top_lane":C_J=Q3v.yAxis.top + B8g + (Z_x && a7X || B3y) + W3w;break;case "bottom":case e9W:C_J=Q3v.yAxis.bottom - B8g - (!Z_x && a7X || B3y) - W3w;break;default:break;}S_a.w7b(31);var y5z=S_a.o4m(5,8,5);S_a.w7b(6);var P4i=S_a.O80(6,4);return Math.round(y5z * C_J) / P4i;};Y$L.Marker.Performance.prototype.prepareForHolder=function(Q4u){var z_z,s9s;z_z=this.expand;s9s=Q4u.params.stx;S_a.B2i();z_z.classList.add(this.params.type);z_z.classList.add(this.params.category);s9s.markerHelper.domMarkers.push(Q4u);return z_z;};Y$L.Marker.Performance.prototype.addToHolder=function(s0O){var r8j,N9T,y4F;r8j="touch";r8j+="start";N9T=this.expand;y4F=s0O.params.stx;function Q7g(M8G){y4F.activeMarker=s0O;y4F.activeMarker.click({cx:M8G.clientX,cy:M8G.clientY,panel:y4F.currentPanel});S_a.y4d();M8G.stopPropagation();}Y$L.Marker.Performance.reconstituteExpanded(y4F);Y$L.Marker.Performance.consolidateExpanded(y4F);this.quickCache(s0O);if(N9T.clickClosure){return;}N9T.addEventListener("mousedown",Q7g);N9T.addEventListener(r8j,Q7g,{passive:![]});N9T.clickClosure=Q7g;};Y$L.Marker.Performance.prototype.remove=function(e6J){S_a.B2i();var b_j,l9W,w81,K9M;b_j=e6J.params.stx;if(!b_j){return;}if(!b_j.markerHelper.domMarkers){return;}l9W=b_j.markerHelper.domMarkers.indexOf(e6J);if(l9W != -1){b_j.markerHelper.domMarkers.splice(l9W,1);}if(e6J.attached){w81=b_j.panels[e6J.params.panelName];K9M=e6J.params.node.expand;if(K9M.parentNode === w81.subholder){w81.subholder.removeChild(K9M);}K9M.removeEventListener("click",K9M.clickClosure);}};Y$L.Marker.Performance.prototype.click=function(c3R){var K54,l1N,x_k,q9F,s9h,A71,I$E,l8R,O5L;if(!this.hasText){return;}S_a.y4d();if(arguments.length > 1){K54=808130965;S_a.O3H(6);l1N=S_a.o4m("193178207",0);x_k=2;for(var q0B=1;S_a.U7z(q0B.toString(),q0B.toString().length,69575) !== K54;q0B++){c3R={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};x_k+=2;}if(S_a.d8W(x_k.toString(),x_k.toString().length,43129) !== l1N){c3R={cx:arguments[3],cy:arguments[6],marker:arguments[9],panel:arguments[2]};}}var {cx:u2R, cy:N1w, marker:X8v, panel:m79}=c3R;q9F=X8v.params.stx;if(X8v.attached){A71=this.expand;if(A71.rects && A71.transform && A71.rects.width - A71.scrollBarWidth + A71.transform.translateX < q9F.backOutX(u2R) && q9F.backOutX(u2R) < A71.rects.width + A71.transform.translateX){return;}this.remove(X8v);}else {q9F.addToHolder(X8v);I$E=-238702427;l8R=1592116915;O5L=2;for(var x8Z="1" << 0;S_a.d8W(x8Z.toString(),x8Z.toString().length,31583) !== I$E;x8Z++){s9h=!!"1";S_a.O3H(41);O5L+=S_a.O80("2",0);}if(S_a.d8W(O5L.toString(),O5L.toString().length,14794) !== l8R){s9h=!!0;}}X8v.attached=!X8v.attached;X8v.active=!X8v.active;if(s9h){X8v.stxNodeCreator.positionPopUpNode(X8v);}};}};I=Y7R=>{var T17=B9olJ;var A1h,Z1$;T17.y4d();A1h="u";A1h+="n";A1h+="defin";A1h+="ed";Z1$=typeof _CIQ !== A1h?_CIQ:Y7R.CIQ;Z1$.Renderer.OHLC.requestNew=function(k1a,x94){var w$5,h5I,V81,V6o,m8y,n8g,W4O,f96,G5l,g6P;w$5=null;h5I=x94.hlc;V81=x94.colored;V6o=x94.hollow;m8y=x94.volume;n8g=x94.histogram;for(var W4s=0;W4s < k1a.length;W4s++){W4O="colo";W4O+="red";f96="c";f96+="andle";G5l="b";G5l+="a";G5l+="r";g6P=k1a[W4s];switch(g6P){case G5l:case f96:w$5=g6P;break;case "volume":m8y=!0;break;case "hollow":V6o=!!({});break;case W4O:V81=!!"1";break;case "histogram":n8g=!![];w$5="candle";break;case "hlc":h5I=!0;w$5="bar";break;default:return null;}}if(w$5 === null){return null;}return new Z1$.Renderer.OHLC({params:Z1$.extend(x94,{type:w$5,hlc:h5I,colored:V81,hollow:V6o,volume:m8y,histogram:n8g})});};Z1$.Renderer.OHLC.getChartParts=function(I1x,N1C){var O6P,m7o,S7a,W_F,r6R,T5$,d5p,k2a,v3V,p7D,e3G,K83,T_K,Z2j,m8N,p_E,x1D,S4o,c$V,K7w,y4j,v0g,p0I,T_d,g9P,F4j,t8r,D6j,R5y,U5S,d6I,X4i,g9m,f8S,t8J,s9Z,y$i,m$A,n8A,Y5P,Z4z,v4b,t1w,z45,T0M,c4_;O6P="border_color_dow";O6P+="n";m7o="fi";m7o+="ll_color_down";S7a="stx_hollow_c";S7a+="andle_down";W_F="c";W_F+="an";W_F+="d";W_F+="le";r6R="fill_c";r6R+="ol";r6R+="or_u";r6R+="p";T5$="ca";T5$+="nd";T5$+="l";T5$+="e";d5p="stx_hollo";d5p+="w";d5p+="_can";d5p+="dle_down";k2a="stx_hol";k2a+="lo";k2a+="w_can";k2a+="dle_up";v3V="c";v3V+="a";v3V+="ndle";p7D="border_colo";p7D+="r_";p7D+="even";e3G="stx_hollow_candle_";e3G+="eve";e3G+="n";K83="sh";T17.B2i();K83+="a";K83+="d";K83+="ow";T_K="b";T_K+="order_c";T_K+="olor_do";T_K+="wn";Z2j="sh";Z2j+="adow";m8N="stx_hollow_";m8N+="c";m8N+="andl";m8N+="e_up";p_E="s";p_E+="hadow";x1D="ho";x1D+="l";x1D+="lo";x1D+="w";S4o="f";S4o+="ill_color_down";c$V="stx_";c$V+="candl";c$V+="e";c$V+="_up";K7w="border_colo";K7w+="r_eve";K7w+="n";y4j="stx_candle_sh";y4j+="adow_eve";y4j+="n";v0g="sha";v0g+="d";v0g+="o";v0g+="w";p0I="b";p0I+="order_";p0I+="color_do";p0I+="wn";T_d="s";T_d+="hadow";g9P="can";g9P+="d";g9P+="l";g9P+="e";F4j="s";F4j+="hadow";t8r="bor";t8r+="der_color";t8r+="_up";D6j="ca";D6j+="ndle";R5y="borde";R5y+="r_c";R5y+="olor_even";U5S="stx_b";U5S+="ar_e";U5S+="ven";d6I="b";d6I+="a";d6I+="r";X4i="b";X4i+="a";X4i+="r";g9m="b";g9m+="a";g9m+="r";f8S="b";f8S+="a";f8S+="r";t8J="st";t8J+="x_bar_cha";t8J+="rt";s9Z="b";s9Z+="a";s9Z+="r";y$i="fi";y$i+="ll_color_";y$i+="eve";y$i+="n";m$A="h";m$A+="istog";m$A+="ra";m$A+="m";n8A="f";n8A+="il";n8A+="l_color_up";Y5P="h";Y5P+="i";Y5P+="sto";Y5P+="gram";Z4z=+"1";v4b=2;t1w=4;z45=8;T17.w7b(25);T0M=T17.o4m("16",0);T17.O3H(69);c4_=T17.O80("32",0);return [{type:Y5P,drawType:"histogram",style:"stx_histogram_up",condition:z45,fill:n8A,border:"border_color_up",useColorInMap:!!1,useBorderStyleProp:!0},{type:m$A,drawType:"histogram",style:"stx_histogram_down",condition:T0M,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!!"1"},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:c4_,fill:y$i,border:"border_color_even",skipIfPass:!0,useColorInMap:!!({}),useBorderStyleProp:!!1},{type:s9Z,drawType:"bar",style:I1x || t8J,border:"border_color",useColorInMap:!![]},{type:f8S,drawType:"bar",style:"stx_bar_up",condition:N1C?z45:Z4z,border:"border_color_up",useColorInMap:!![]},{type:g9m,drawType:X4i,style:"stx_bar_down",condition:N1C?T0M:v4b,border:"border_color_down",useColorInMap:!!1},{type:d6I,drawType:"bar",style:U5S,condition:N1C?c4_:t1w,border:R5y,skipIfPass:!!({}),useColorInMap:!0},{type:D6j,drawType:"shadow",style:"stx_candle_shadow",border:t8r},{type:"candle",drawType:F4j,style:"stx_candle_shadow_up",condition:z45,border:"border_color_up"},{type:g9P,drawType:T_d,style:"stx_candle_shadow_down",condition:T0M,border:p0I},{type:"candle",drawType:v0g,style:y4j,condition:c4_,border:K7w,skipIfPass:!!"1"},{type:"candle",drawType:"candle",style:c$V,condition:z45,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!1,useBorderStyleProp:!![]},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:T0M,fill:S4o,border:"border_color_down",useColorInMap:!"",useBorderStyleProp:!!1},{type:x1D,drawType:p_E,style:m8N,condition:Z4z,border:"border_color_up"},{type:"hollow",drawType:Z2j,style:"stx_hollow_candle_down",condition:v4b,border:T_K},{type:"hollow",drawType:K83,style:e3G,condition:t1w,border:p7D,skipIfPass:!!"1"},{type:"hollow",drawType:v3V,style:k2a,condition:Z4z | T0M,fill:"fill_color_up",border:"border_color_up",useColorInMap:!![]},{type:"hollow",drawType:"candle",style:d5p,condition:v4b | T0M,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:t1w | T0M,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!"1",useColorInMap:!!1},{type:"hollow",drawType:T5$,style:"stx_hollow_candle_up",condition:Z4z | z45,fill:r6R,border:"border_color_up"},{type:"hollow",drawType:W_F,style:S7a,condition:v4b | z45,fill:m7o,border:O6P},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:t1w | z45,fill:"fill_color_even",border:"border_color_even"}];};Z1$.Renderer.Bars=function(q7l){var b72,I5w,m0u,L93;this.construct(q7l);b72=this.params;T17.y4d();b72.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!({});I5w=-146363550;m0u=404317088;L93=2;for(var e$W=+"1";T17.U7z(e$W.toString(),e$W.toString().length,38506) !== I5w;e$W++){b72.hlc=b72.volume=b72.hollow=b72.histogram=!"1";L93+=+"2";}if(T17.d8W(L93.toString(),L93.toString().length,"14971" - 0) !== m0u){b72.hlc=b72.volume=b72.hollow=b72.histogram=!!({});}};Z1$.inheritsFrom(Z1$.Renderer.Bars,Z1$.Renderer.OHLC,![]);Z1$.Renderer.HLC=function(f8Y){var K$a;this.construct(f8Y);K$a=this.params;K$a.type="bar";T17.B2i();K$a.hlc=!"";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!({});K$a.volume=K$a.hollow=K$a.histogram=!!"";};Z1$.inheritsFrom(Z1$.Renderer.HLC,Z1$.Renderer.Bars,![]);Z1$.Renderer.Shading=function(p2u){var q5$;q5$="rangec";q5$+="hann";q5$+="e";q5$+="l";this.construct(p2u);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];T17.y4d();if(this.params.type == q5$){this.highLowBars=!![];}};Z1$.inheritsFrom(Z1$.Renderer.Shading,Z1$.Renderer.Lines,![]);Z1$.Renderer.Shading.requestNew=function(a3i,d2P){var E20,Z0N,A0D,y93,q9G;E20=null;Z0N=null;T17.y4d();for(var X2s=0;X2s < a3i.length;X2s++){A0D="s";A0D+="tep";y93="rang";y93+="echan";y93+="nel";q9G=a3i[X2s];if(q9G == y93){E20="rangechannel";}else if(q9G == A0D){Z0N=!"";}}if(E20 === null){return null;}return new Z1$.Renderer.Shading({params:Z1$.extend(d2P,{type:E20,step:Z0N})});};Z1$.Renderer.Shading.prototype.setShading=function(p$8){if(p$8.constructor != Array){p$8=[p$8];}this.shading=p$8;};Z1$.Renderer.Shading.prototype.draw=function(){var e3M,X9$,S6f,T82,s3m,G$z,p6K,G_9,f4E,q$I,Z8L,b9G,Y6q,m6s,n9c,k5W,u2B,y3F,x0M,e7k,b2g,a_Q,X02;e3M="ran";T17.y4d();e3M+="gechannel";X9$=this.stx;S6f=this.params;T82=X9$.panels[S6f.panel].chart;if(S6f.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {s3m="st";s3m+="x";s3m+="_line_dow";s3m+="n";this.beenSetup=!!"1";S6f.display=this.seriesParams[0].display;S6f.yAxis=this.seriesParams[0].yAxis;G$z=this.seriesParams[0].color || "auto";p6K=this.seriesParams[0].symbol;G_9="";if(p6K){T17.w7b(2);G_9=T17.o4m(6032 > (416.67,953.22)?226.45 === "715.97" * 1?(!![],6.17e+3):(564.89,952.1) > 869.58?".":(![],!!""):!!({}),p6K);}this.removeAllSeries(!!1);f4E=S6f.name;X9$.addSeries(null,{symbol:p6K,loadData:!!p6K,field:"High",renderer:"Shading",name:f4E,style:"stx_line_up",display:S6f.display,shareYAxis:!!({})});X9$.addSeries(null,{symbol:p6K,loadData:!!p6K,field:"Low",renderer:"Shading",name:f4E,style:s3m,display:S6f.display,shareYAxis:!!1});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:G$z});}}if(!this.shading){if(!this.errTimeout){q$I="Warning: no shading scheme set.  ";q$I+="Use myRenderer.setShading";q$I+="(scheme) to set.";console.log(q$I);Z8L=this;this.errTimeout=setTimeout(function(){Z8L.errTimeout=null;},+"10000");}}function p6Q(J0N){var U7V,x_0,S_i;U7V=b9G[J0N];if(U7V){x_0=U7V.parameters.field;S_i=U7V.parameters.subField;T17.w7b(2);return T17.o4m(S_i?(5.75 != (1720,1453)?".":("463.54" * 1,6740) >= (951.82,3441)?(9720,"6660" ^ 0) > ("1050" - 0,+"484")?("A",0x1f53):(!![],0x69):("x","F")) + S_i:"",x_0);}return J0N;}b9G={};for(Y6q=+"0";Y6q < this.seriesParams.length;Y6q++){m6s={};if(T82.series[this.seriesParams[Y6q].id]){m6s=Z1$.clone(T82.series[this.seriesParams[Y6q].id].parameters);}b9G[this.seriesParams[Y6q].id]={parameters:Z1$.extend(Z1$.extend(m6s,S6f),this.seriesParams[Y6q]),yValueCache:this.caches[this.seriesParams[Y6q].id]};}X9$.drawSeries(T82,b9G,S6f.yAxis,this);if(T82.legend && S6f.type == e3M){if(!T82.legend.colorMap){T82.legend.colorMap={};}n9c=S6f.display;k5W=[X9$.getCanvasColor("stx_line_up"),X9$.getCanvasColor("stx_line_down")];T82.legend.colorMap[n9c]={color:k5W,display:n9c,isBase:this == X9$.mainSeriesRenderer};}for(Y6q in b9G){this.caches[Y6q]=b9G[Y6q].yValueCache;}for(Y6q=0;Y6q < this.shading.length;Y6q++){u2B="Cl";u2B+="o";u2B+="s";u2B+="e";y3F="au";y3F+="to";x0M=this.shading[Y6q];e7k=x0M.color;if(x0M.color == y3F){e7k=X9$.defaultColor;}if(!x0M.primary){x0M.primary="Close";}if(!x0M.secondary && this.seriesParams[0]){x0M.secondary=this.seriesParams[0].field;}if(!x0M.secondary)continue;else if(!b9G[x0M.primary] && x0M.primary != u2B)continue;else if(!b9G[x0M.secondary])continue;else if(x0M.primary == "Close" && S6f.yAxis && S6f.yAxis != T82.yAxis)continue;b2g=p6Q(x0M.primary).split((9442,4165) >= "1720" - 0?511 > (8969,"315" << 32)?".":528:("K",7.17e+3));a_Q=p6Q(x0M.secondary).split(".");X02={topBand:b2g[0],topSubBand:b2g[1],topColor:x0M.greater || e7k || X9$.containerColor,topAxis:S6f.yAxis,bottomBand:a_Q[+"0"],bottomSubBand:a_Q[1],bottomColor:x0M.lesser || e7k || X9$.containerColor,bottomAxis:x0M.primary == "Close"?null:S6f.yAxis,tension:S6f.tension || T82.tension,opacity:0.1,step:S6f.step};if(!X02.topColor && !X02.bottomColor)continue;if(!S6f.highlight && X9$.highlightedDraggable){X02.opacity*=0.3;}Z1$.fillIntersecting(X9$,S6f.panel,X02);}};Z1$.Renderer.Histogram=function(X7x){var k2z,M00,d9t;this.construct(X7x);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!![];if(this.params.yAxis){k2z=2051615774;M00=-339670642;d9t=2;for(var C0U=1;T17.d8W(C0U.toString(),C0U.toString().length,13487) !== k2z;C0U++){this.params.bindToYAxis=!![];d9t+=2;}if(T17.d8W(d9t.toString(),d9t.toString().length,3184) !== M00){this.params.bindToYAxis=![];}if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};Z1$.inheritsFrom(Z1$.Renderer.Histogram,Z1$.Renderer,![]);Z1$.Renderer.Histogram.prototype.adjustYAxis=function(){T17.y4d();var v5R;v5R=this.params.yAxis;if(!v5R || v5R.baseline){return;}v5R.min=0;v5R.highValue/=this.params.heightPercentage || 1;};Z1$.Renderer.Histogram.prototype.draw=function(){var v8E,V4U,N1m,G5X;v8E=Z1$.clone(this.params);v8E.type=v8E.subtype;this.useSum=v8E.subtype == "stacked";if(!v8E.yAxis || v8E.yAxis == this.stx.chart.yAxis){v8E.bindToYAxis=!!"1";}this.stx.drawHistogram(v8E,this.seriesParams);V4U=v8E.yAxis && v8E.yAxis.baseline;T17.B2i();if(V4U && V4U.color){N1m=this.stx.panels[this.params.panel];G5X=this.stx.pixelFromPrice(V4U.value,N1m,this.params.yAxis) - 0.5;this.stx.plotLine({x0:N1m.left,x1:N1m.right,y0:G5X,y1:G5X,color:V4U.color,type:"line",context:N1m.chart.context,confineToPanel:N1m,pattern:V4U.pattern || "solid",lineWidth:V4U.lineWidth || 1,opacity:V4U.opacity || 0.8,globalCompositeOperation:"destination-over"});}};Z1$.Renderer.Histogram.prototype.getBasis=function(U3M,Y7M,q_8){var d8m,q4q,x4Z,e3O;d8m=0;if(U3M && this.useSum){for(var c0s="0" >> 32;c0s < this.seriesParams.length;c0s++){q4q="o";q4q+="bj";q4q+="ec";q4q+="t";x4Z=this.seriesParams[c0s].field;if(x4Z === Y7M)break;e3O=U3M[x4Z];if(e3O && typeof e3O === q4q){e3O=e3O[q_8 || this.seriesParams[c0s].subField || this.stx.chart.defaultPlotField || "Close"];}if(e3O){d8m+=e3O;}}}return d8m;};Z1$.Renderer.Heatmap=function(X81){var q1O;q1O="h";q1O+="eatm";q1O+="a";q1O+="p";this.construct(X81);this.params.type=q1O;this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=!!1;};Z1$.inheritsFrom(Z1$.Renderer.Heatmap,Z1$.Renderer,!1);Z1$.Renderer.Heatmap.requestNew=function(V$w,b26){var R8V,n6u,M4v;R8V=null;for(var X$y=0;X$y < V$w.length;X$y++){n6u="hea";n6u+="t";n6u+="ma";n6u+="p";M4v=V$w[X$y];if(M4v == "heatmap"){R8V=n6u;}}if(R8V === null){return null;}return new Z1$.Renderer.Heatmap({params:Z1$.extend(b26,{type:R8V})});};Z1$.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(Z1$.clone(this.params),this.seriesParams);};Z1$.Renderer.Scatter=function(H3u){T17.y4d();this.construct(H3u);this.standaloneBars=this.barsHaveWidth=!!"1";this.bounded=!!({});};Z1$.inheritsFrom(Z1$.Renderer.Scatter,Z1$.Renderer.Lines,!1);Z1$.Renderer.Scatter.requestNew=function(m_B,f4U){var J0p,i0T,t$y;J0p=null;for(var L73=+"0";L73 < m_B.length;L73++){i0T="scat";i0T+="t";i0T+="er";t$y=m_B[L73];if(t$y == "scatterplot"){J0p=i0T;}}if(J0p === null){return null;}return new Z1$.Renderer.Scatter({params:Z1$.extend(f4U,{type:J0p})});};Z1$.Renderer.Scatter.prototype.drawIndividualSeries=function(i9j,N38){T17.y4d();var s8C,X5K;s8C=this.stx.panels[N38.panel] || i9j.panel;X5K={colors:[]};if(this.stx.scatter){X5K=this.stx.scatter(s8C,N38);}else {console.warn("Error, Scatter renderer requires customChart.js");}return X5K;};};U=J8l=>{var c2x,A_e;c2x=typeof _CIQ !== "undefined"?_CIQ:J8l.CIQ;B9olJ.B2i();if(!c2x.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {A_e="Accumulation/Distri";A_e+="bution";c2x.Studies.calculateAccumulationDistribution=function(d5X,g2S){var N86,D8y,p_N,O6y,K82,L0I;N86=g2S.chart.scrubbed;for(var r$H=g2S.startFrom;r$H < N86.length;r$H++){D8y="Us";D8y+="e Volume";if(!r$H)continue;p_N=N86[r$H];if(p_N.futureTick)break;B9olJ.O3H(6);O6y=N86[B9olJ.o4m(r$H,1)];K82=0;if(p_N.Close > O6y.Close){K82=p_N.Close - Math.min(p_N.Low,O6y.Close);}else if(p_N.Close < O6y.Close){K82=p_N.Close - Math.max(p_N.High,O6y.Close);}if(g2S.inputs[D8y]){K82*=p_N.Volume;}L0I=O6y["Result " + g2S.name];if(!L0I){L0I=0;}L0I+=K82;if(!isNaN(p_N.Close)){p_N["Result " + g2S.name]=L0I;}}};c2x.Studies.studyLibrary=c2x.extend(c2x.Studies.studyLibrary,{"W Acc Dist":{name:A_e,calculateFN:c2x.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":![]}}});}};g=f_4=>{var Q1k=B9olJ;Q1k.B2i();var Q2Z,y6n,h_r,j_r,y1r;Q2Z=typeof _CIQ !== "undefined"?_CIQ:f_4.CIQ;if(!Q2Z.Studies){y6n="adx feature requires first activating stu";y6n+="dies feature.";console.error(y6n);}else {h_r="#FF";h_r+="0";h_r+="0";h_r+="00";j_r="a";j_r+="ut";j_r+="o";y1r="#F";y1r+="F";y1r+="0000";Q2Z.Studies.calculateADX=function(L6j,m0c){var i1D,E4D,C$H,R_n,K_T,v1f,w_9,w75,U_v,S$v,b8P,C62,p1F,f6i,S9H,m6v,F6q,l2q,u66,G63,S_L,N0U,Y0E,I$a;Q2Z.Studies.calculateStudyATR(L6j,m0c);i1D=m0c.chart.scrubbed;E4D=m0c.days;C$H=parseInt(m0c.inputs["Smoothing Period"],10);if(!C$H && C$H !== 0){C$H=E4D;}if(i1D.length < m0c.days + 1){m0c.error=!!"1";return;}R_n=0;K_T=0;v1f=0;w_9=0;for(var U9g=Math.max(1,m0c.startFrom);U9g < i1D.length;U9g++){U_v="+";U_v+="DI ";S$v="_s";S$v+="mTR";S$v+=" ";b8P="_";b8P+="sm-D";b8P+="M ";w75=i1D[U9g];C62=Math.max(0,w75.High - i1D[U9g - 1].High);p1F=Math.max(0,i1D[U9g - 1].Low - w75.Low);if(C62 > p1F){p1F=+"0";}else if(p1F > C62){C62=0;}else {C62=p1F=+"0";}if(U9g <= E4D){K_T+=C62;v1f+=p1F;R_n+=w75["True Range " + m0c.name];}else {f6i="True ";f6i+="Ran";f6i+="g";f6i+="e ";S9H="_";S9H+="s";S9H+="mT";S9H+="R ";Q1k.w7b(4);var P_K=Q1k.o4m(8,0,7);K_T=i1D[U9g - ("1" - 0)]["_sm+DM " + m0c.name] * (E4D - P_K) / E4D + C62;Q1k.w7b(33);var i_g=Q1k.o4m(3,2,8);Q1k.O3H(115);var f81=Q1k.O80(15,15,2,30);v1f=i1D[U9g - i_g]["_sm-DM " + m0c.name] * (E4D - f81) / E4D + p1F;Q1k.w7b(6);var H9G=Q1k.o4m(10,9);Q1k.O3H(6);var N9O=Q1k.o4m(18,17);R_n=i1D[U9g - H9G][S9H + m0c.name] * (E4D - N9O) / E4D + w75[f6i + m0c.name];}w75["_sm+DM " + m0c.name]=K_T;w75[b8P + m0c.name]=v1f;w75[S$v + m0c.name]=R_n;if(U9g < E4D)continue;Q1k.w7b(98);m6v=Q1k.o4m(R_n,K_T,100);Q1k.w7b(98);F6q=Q1k.o4m(R_n,v1f,100);Q1k.w7b(116);var O_F=Q1k.o4m(5,29,6,13);l2q=("100" | O_F) * Math.abs(m6v - F6q) / (m6v + F6q);w75[U_v + m0c.name]=m6v;w75["-DI " + m0c.name]=F6q;if(m0c.inputs.Series !== !1 && C$H){if(U9g < E4D + C$H - 1){if(U9g == m0c.startFrom){for(var w6I=E4D;w6I < m0c.startFrom;w6I++){w_9+=+"100" * Math.abs(i1D[w6I]["+DI " + m0c.name] - i1D[w6I]["-DI " + m0c.name]) / (i1D[w6I]["+DI " + m0c.name] + i1D[w6I]["-DI " + m0c.name]);}}w_9+=l2q;}else if(U9g == E4D + C$H - 1){Q1k.O3H(9);w75["ADX " + m0c.name]=Q1k.O80(C$H,w_9);}else {u66="A";u66+="D";u66+="X";u66+=" ";G63="AD";G63+="X";G63+=" ";Q1k.O3H(117);var H$Y=Q1k.o4m(12,324,3,18,3);Q1k.O3H(13);var e4o=Q1k.o4m(6,2,6,0);w75[G63 + m0c.name]=(i1D[U9g - H$Y][u66 + m0c.name] * (C$H - e4o) + l2q) / C$H;}}if(m0c.inputs.Histogram){S_L="-D";S_L+="I ";N0U="+";N0U+="DI";N0U+=" ";Y0E="+";Y0E+="DI ";I$a=m0c.name + "_hist";if(!w75[Y0E + m0c.name] && w75[N0U + m0c.name] !== +"0")continue;if(!w75[S_L + m0c.name] && w75["-DI " + m0c.name] !== 0)continue;w75[I$a]=w75["+DI " + m0c.name] - w75["-DI " + m0c.name];if(m0c.inputs.Series === ![]){w75["+DI " + m0c.name]=null;w75["-DI " + m0c.name]=null;}m0c.outputMap[I$a]="";}}};Q2Z.Studies.displayADX=function(J$6,R1E,i6g){var H13,r7i,T4U,f40,F9K,f6C,h9h;H13=R1E.underlay?0.3:R1E.inputs.Series?0.4:"1" >> 96;if(R1E.inputs.Series && R1E.inputs.Shading){r7i="+DI " + R1E.name;T4U="-DI " + R1E.name;f40=Q2Z.Studies.determineColor(R1E.outputs[R1E.outputMap[r7i]]);F9K=Q2Z.Studies.determineColor(R1E.outputs[R1E.outputMap[T4U]]);f6C=R1E.getYAxis(J$6);h9h={topBand:r7i,bottomBand:T4U,topColor:f40,bottomColor:F9K,skipTransform:J$6.panels[R1E.panel].name != R1E.chart.name,topAxis:f6C,bottomAxis:f6C,opacity:0.3};if(!R1E.highlight && J$6.highlightedDraggable){h9h.opacity*=0.3;}Q2Z.fillIntersecting(J$6,R1E.panel,h9h);}if(R1E.inputs.Histogram){Q2Z.Studies.createHistogram(J$6,R1E,i6g,!!0,H13);}if(R1E.inputs.Series !== ![]){Q2Z.Studies.displaySeriesAsLine(J$6,R1E,i6g);}else if(!R1E.inputs.Series && !R1E.inputs.Histogram){J$6.displayErrorAsWatermark(R1E.panel,J$6.translateIf(R1E.name) + ": " + J$6.translateIf("Nothing to display"));}};Q2Z.Studies.studyLibrary=Q2Z.extend(Q2Z.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:Q2Z.Studies.calculateADX,seriesFN:Q2Z.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!!"1",Shading:!({}),Histogram:!({})},outputs:{"+DI":"#00FF00","-DI":y1r,ADX:j_r,"Positive Bar":"#00DD00","Negative Bar":h_r}}});}};G=J4d=>{var y0i=B9olJ;var A7l,J$H,o9O;A7l="u";A7l+="nd";y0i.B2i();A7l+="efi";A7l+="ned";J$H=typeof _CIQ !== A7l?_CIQ:J4d.CIQ;if(!J$H.Studies){console.error("alligator feature requires first activating studies feature.");}else {o9O="#0";o9O+="0DD0";o9O+="0";J$H.Studies.calculateAlligator=function(P9T,h9o){var L_Y,Q8H,N5H,w9g,U17,k3t,U$q,e5m,U2k,u$h;L_Y={J:Number(h9o.inputs["Jaw Period"]),T:Number(h9o.inputs["Teeth Period"]),L:Number(h9o.inputs["Lips Period"])};Q8H=h9o.chart.scrubbed;if(Q8H.length < Math.max(L_Y.J,L_Y.T,L_Y.L) + 1){h9o.error=!!({});return;}if(h9o.type === "Gator" || h9o.inputs["Show Lines"]){N5H="T";N5H+="ee";N5H+="th";w9g="Jaw Offse";w9g+="t";U17="w";U17+="elles wilder";J$H.Studies.MA(U17,L_Y.J,"hl/2",h9o.inputs[w9g],"Jaw",P9T,h9o);J$H.Studies.MA("welles wilder",L_Y.T,"hl/2",h9o.inputs["Teeth Offset"],N5H,P9T,h9o);J$H.Studies.MA("welles wilder",L_Y.L,"hl/2",h9o.inputs["Lips Offset"],"Lips",P9T,h9o);}for(var z9P=h9o.startFrom;z9P < Q8H.length;z9P++){if(!Q8H[z9P])continue;if(h9o.type == "Gator"){k3t="_h";k3t+="is";k3t+="t";k3t+="2";U$q="_his";U$q+="t1";e5m=Q8H[z9P]["Jaw " + h9o.name];U2k=Q8H[z9P]["Lips " + h9o.name];u$h=Q8H[z9P]["Teeth " + h9o.name];if(u$h || u$h === +"0"){if(e5m || e5m === ("0" ^ 0)){y0i.w7b(6);Q8H[z9P][h9o.name + "_hist1"]=Math.abs(y0i.o4m(e5m,u$h));}if(U2k || U2k === "0" << 32){y0i.w7b(6);Q8H[z9P][h9o.name + "_hist2"]=-Math.abs(y0i.O80(u$h,U2k));}}h9o.outputMap={};h9o.outputMap[h9o.name + U$q]="";h9o.outputMap[h9o.name + k3t]="";}if(h9o.inputs["Show Fractals"]){if(!Q8H[z9P - 2] || !Q8H[z9P - ("1" >> 32)] || !Q8H[z9P] || !Q8H[z9P + 1] || !Q8H[z9P + 2])continue;if(Q8H[z9P - 2].High && Q8H[z9P - ("1" << 0)].High && Q8H[z9P].High && Q8H[z9P + 1].High && Q8H[z9P + 2].High){if(Q8H[z9P].High > Q8H[z9P - 1].High && Q8H[z9P].High > Q8H[z9P - ("2" << 32)].High && Q8H[z9P].High > Q8H[z9P + 1].High && Q8H[z9P].High > Q8H[z9P + 2].High){Q8H[z9P]["Fractal High " + h9o.name]=1;}}if(Q8H[z9P - 2].Low && Q8H[z9P - "1" * 1].Low && Q8H[z9P].Low && Q8H[z9P + 1].Low && Q8H[z9P + 2].Low){if(Q8H[z9P].Low < Q8H[z9P - 1].Low && Q8H[z9P].Low < Q8H[z9P - 2].Low && Q8H[z9P].Low < Q8H[z9P + 1].Low && Q8H[z9P].Low < Q8H[z9P + 2].Low){Q8H[z9P]["Fractal Low " + h9o.name]=1;}}}}};J$H.Studies.displayAlligator=function(j4B,v8R,v6p){var g0K,N8a,v05,D4C;g0K="Show Lin";function G0g(i1_,D0l){var R1s,l_s,T9$;l_s=j4B.chart.panel.yAxis.flipped;if(i1_ == "high"){N8a.fillStyle=j4B.defaultColor;N8a.textBaseline=l_s?"top":"bottom";R1s=j4B.pixelFromPrice(v6p[D0l].High);N8a.fillText(l_s?4537 < (1780,8120)?3259 <= (1059,4620)?"\u25BC":"f":0x5fa:(71.05,+"2022") < 485?0x78b:"\u25B2",j4B.pixelFromBar(I6V,j4B.chart) - N8a.measureText("\u25B2").width / 2 + 1,l_s?R1s + 5:R1s - 5);}else if(i1_ == "low"){T9$="b";T9$+="ottom";N8a.fillStyle=j4B.defaultColor;N8a.textBaseline=l_s?T9$:"top";R1s=j4B.pixelFromPrice(v6p[D0l].Low);N8a.fillText(l_s?+"1545" === 430?!"":(6980,1673) === 6120?("e",!0):"\u25B2":"\u25BC",j4B.pixelFromBar(I6V,j4B.chart) - N8a.measureText(8200 != (7114,3797)?"\u25BC":(!!"",92.44)).width / 2 + "1" * 1,l_s?R1s - 5:R1s + 5);}}g0K+="e";g0K+="s";N8a=v8R.getContext(j4B);if(v8R.inputs[g0K]){J$H.Studies.displaySeriesAsLine(j4B,v8R,v6p);}y0i.B2i();if(v8R.inputs["Show Fractals"]){j4B.startClip();N8a.globalAlpha=v8R.underlay?0.3:1;if(!v8R.highlight && j4B.highlightedDraggable){N8a.globalAlpha*=0.3;}for(var I6V="2" - 0;I6V < v6p.length - 2;I6V++){if(v6p[I6V]){v05="l";v05+="o";v05+="w";D4C="h";D4C+="i";D4C+="g";D4C+="h";if(v6p[I6V]["Fractal High " + v8R.name]){G0g(D4C,I6V);}if(v6p[I6V]["Fractal Low " + v8R.name]){G0g(v05,I6V);}}}j4B.endClip();}};J$H.Studies.displayGator=function(o$X,H8s,p5g){var V9x,X5M,C$m,b$k,T2b,v7z,x3r,P__,s45,b83,w6c,d5w,h3S,e8Z,T$Y;V9x="s";V9x+="tx_histo";V9x+="g";V9x+="ram";X5M=o$X.panels[H8s.panel];C$m=H8s.getContext(o$X);b$k=H8s.getYAxis(o$X);T2b=o$X.pixelFromPrice(0,X5M,b$k);y0i.w7b(28);var t2t=y0i.o4m(4,12,8,24);v7z=o$X.layout.candleWidth - t2t;if(v7z < 2){v7z=1;}x3r=J$H.Studies.determineColor(H8s.outputs["Increasing Bar"]);P__=J$H.Studies.determineColor(H8s.outputs["Decreasing Bar"]);o$X.canvasColor(V9x);if(!H8s.underlay){C$m.globalAlpha=1;}C$m.fillStyle="#CCCCCC";o$X.startClip(H8s.panel);if(!H8s.highlight && o$X.highlightedDraggable){C$m.globalAlpha*=+"0.3";}for(var X42=0;X42 < p5g.length;X42++){s45=p5g[X42];y0i.w7b(6);b83=p5g[y0i.o4m(X42,1)];if(!s45)continue;for(var r5H=1;r5H <= 2;r5H++){w6c="_hi";w6c+="st";d5w="_";d5w+="hi";d5w+="st";h3S="_h";h3S+="ist";e8Z="#CC";e8Z+="C";e8Z+="C";e8Z+="CC";T$Y="_his";T$Y+="t";if(!b83){b83=o$X.getPreviousBar(o$X.chart,H8s.name + T$Y + r5H,X42);}if(!b83){C$m.fillStyle=e8Z;}else if(Math.abs(b83[H8s.name + h3S + r5H]) < Math.abs(s45[H8s.name + d5w + r5H])){C$m.fillStyle=x3r;}else if(Math.abs(b83[H8s.name + w6c + r5H]) > Math.abs(s45[H8s.name + "_hist" + r5H])){C$m.fillStyle=P__;}if(s45.candleWidth){v7z=Math.floor(Math.max("1" | 0,s45.candleWidth - 2));}C$m.fillRect(Math.floor(o$X.pixelFromBar(X42,X5M.chart) - v7z / 2),Math.floor(T2b),Math.floor(v7z),Math.floor(o$X.pixelFromPrice(s45[H8s.name + "_hist" + r5H],X5M,b$k) - T2b));}}o$X.endClip();};J$H.Studies.studyLibrary=J$H.extend(J$H.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!!"1",seriesFN:J$H.Studies.displayAlligator,calculateFN:J$H.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!({})},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:o9O}},Gator:{name:"Gator Oscillator",seriesFN:J$H.Studies.displayGator,calculateFN:J$H.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":+"5","Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:+"0"}});}};Z=o7s=>{var x0h=B9olJ;var h0g,T8c,Q$W,o05,m66;x0h.B2i();h0g=typeof _CIQ !== "undefined"?_CIQ:o7s.CIQ;if(!h0g.Studies){T8c="aroon fea";T8c+="ture requires fir";T8c+="st activating studies feature.";console.error(T8c);}else {Q$W="a";Q$W+="u";Q$W+="t";Q$W+="o";o05="#0";o05+="0DD00";m66="Aroo";m66+="n";h0g.Studies.calculateAroon=function(E$G,P_O){var x2p,D5t,n5B,Q5w,o8H,z5K,d4K,v0y,l5s,v8o,K3Q,Y_T;x2p=P_O.chart.scrubbed;if(x2p.length < P_O.days + 1){P_O.error=!![];return;}D5t=0;n5B=0;Q5w=null;o8H=null;if(P_O.startFrom > 0){x0h.w7b(118);var Y$8=x0h.o4m(14,6,201,14,0);z5K=x2p[P_O.startFrom - Y$8]["_state " + P_O.name];if(z5K){D5t=z5K[0];x0h.O3H(7);n5B=z5K[x0h.O80(1,"1")];Q5w=z5K[2];o8H=z5K[3];}}for(var M7h=P_O.startFrom;M7h < x2p.length;M7h++){v0y=x2p[M7h];if(v0y.futureTick)break;if(Q5w === null){Q5w=v0y.High;}if(o8H === null){o8H=v0y.Low;}Q5w=Math.max(Q5w,v0y.High);if(Q5w == v0y.High){D5t=0;}else {D5t++;if(D5t > P_O.days){Q5w=v0y.High;D5t=0;for(d4K=1;d4K <= P_O.days;d4K++){Q5w=Math.max(Q5w,x2p[M7h - d4K].High);if(Q5w == x2p[M7h - d4K].High){D5t=d4K;}}}}o8H=Math.min(o8H,v0y.Low);if(o8H == v0y.Low){n5B=0;}else {n5B++;if(n5B > P_O.days){o8H=v0y.Low;n5B=0;for(d4K=1;d4K <= P_O.days;d4K++){o8H=Math.min(o8H,x2p[M7h - d4K].Low);if(o8H == x2p[M7h - d4K].Low){n5B=d4K;}}}}l5s=!isNaN(v0y.High);v8o=!isNaN(v0y.Low);x0h.O3H(4);var M0I=x0h.O80(9,700,609);K3Q=M0I * (("1" | 0) - D5t / P_O.days);if(l5s){v0y["Aroon Up " + P_O.name]=K3Q;}x0h.O3H(67);var S$T=x0h.o4m(95,260,1,1300);x0h.O3H(5);var O2i=x0h.o4m(16,19,10,14);Y_T=S$T * ("1" * O2i - n5B / P_O.days);if(v8o){v0y["Aroon Down " + P_O.name]=Y_T;}if(l5s && v8o){v0y["Aroon Oscillator " + P_O.name]=v0y["Aroon Up " + P_O.name] - v0y["Aroon Down " + P_O.name];}v0y["_state " + P_O.name]=[D5t,n5B,Q5w,o8H];}};h0g.Studies.studyLibrary=h0g.extend(h0g.Studies.studyLibrary,{Aroon:{name:m66,range:"0 to 100",calculateFN:h0g.Studies.calculateAroon,outputs:{"Aroon Up":o05,"Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:h0g.Studies.calculateAroon,outputs:{"Aroon Oscillator":Q$W}}});}};N=V_0=>{var R_7=B9olJ;R_7.B2i();var q05,v95,q7j,K4x,v8Y,u2$,j0y;q05="undefine";q05+="d";v95=typeof _CIQ !== q05?_CIQ:V_0.CIQ;if(!v95.Studies){console.error("atr feature requires first activating studies feature.");}else {q7j="A";q7j+="TR";q7j+=" Trail";q7j+="ing Stops";K4x="a";K4x+="u";K4x+="t";K4x+="o";v8Y="STA";v8Y+="RC Ba";v8Y+="nds";u2$="au";u2$+="t";u2$+="o";j0y="au";j0y+="to";v95.Studies.calculateATRBands=function(x13,E7s){var z5k;v95.Studies.calculateStudyATR(x13,E7s);z5k=E7s.inputs.Field;if(!z5k || z5k == "field"){z5k="Close";}v95.Studies.calculateGenericEnvelope(x13,E7s,E7s.inputs.Shift,z5k,"ATR " + E7s.name);};v95.Studies.calculateSTARCBands=function(B98,i8W){var L8t,T2F;L8t="_";L8t+="M";L8t+="A";T2F="MA ";T2F+="P";T2F+="eriod";v95.Studies.calculateStudyATR(B98,i8W);v95.Studies.MA("simple",i8W.inputs[T2F],"Close",0,L8t,B98,i8W);v95.Studies.calculateGenericEnvelope(B98,i8W,i8W.inputs.Multiplier,"_MA " + i8W.name,"ATR " + i8W.name);};v95.Studies.calculateATRStops=function(W11,o6H){var X3X,L4K,g8f,c06,K94,H5F,M4g,m0q,R_Z,S$G,u1G,c7C;X3X="All ";X3X+="S";X3X+="tops ";L4K="All ";R_7.B2i();L4K+="Stops";g8f=o6H.chart.scrubbed;if(!g8f){return;}v95.Studies.calculateStudyATR(W11,o6H);c06=o6H.inputs.HighLow;for(var r1Z=Math.max(o6H.startFrom - 1,1);r1Z < g8f.length - 1;r1Z++){K94="Bu";K94+="y Stops ";H5F=g8f[r1Z];R_7.w7b(6);M4g=g8f[R_7.O80(r1Z,1)];m0q=H5F[K94 + o6H.name];if(!m0q){m0q=H5F["Sell Stops " + o6H.name];}if(!m0q){m0q=0;}if(!H5F || !M4g)continue;R_Z=H5F.Close;S$G=R_Z;u1G=H5F["ATR " + o6H.name] * o6H.inputs.Multiplier;if(H5F.Close > m0q && M4g.Close > m0q){if(c06){R_Z=H5F.High;}R_7.w7b(6);S$G=Math.max(m0q,R_7.O80(R_Z,u1G));}else if(H5F.Close <= m0q && M4g.Close <= m0q){if(c06){R_Z=H5F.Low;}R_7.O3H(2);S$G=Math.min(m0q,R_7.O80(u1G,R_Z));}else if(H5F.Close > m0q){if(c06){R_Z=H5F.High;}R_7.O3H(6);S$G=R_7.o4m(R_Z,u1G);}else if(H5F.Close <= m0q){if(c06){R_Z=H5F.Low;}R_7.w7b(2);S$G=R_7.o4m(u1G,R_Z);}if(R_Z <= S$G){c7C="Sel";c7C+="l Stops ";R_7.O3H(2);g8f[R_7.O80(1,r1Z)]["Buy Stops " + o6H.name]=S$G;R_7.O3H(21);delete g8f[R_7.o4m(1,"1",r1Z)][c7C + o6H.name];}else if(R_Z > S$G){R_7.O3H(2);g8f[R_7.o4m(1,r1Z)]["Sell Stops " + o6H.name]=S$G;R_7.O3H(2);delete g8f[R_7.O80(1,r1Z)]["Buy Stops " + o6H.name];}R_7.O3H(2);g8f[R_7.o4m(1,r1Z)]["All Stops " + o6H.name]=S$G;}o6H.referenceOutput=L4K;o6H.outputMap={};o6H.outputMap[X3X + o6H.name]="";};v95.Studies.studyLibrary=v95.extend(v95.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:v95.Studies.calculateStudyATR,outputs:{ATR:j0y}},"ATR Bands":{name:"ATR Bands",overlay:!!"1",seriesFN:v95.Studies.displayChannel,calculateFN:v95.Studies.calculateATRBands,inputs:{Period:"5" << 64,Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":u2$},attributes:{Shift:{min:0.1,step:"0.1" - 0}}},"STARC Bands":{name:v8Y,overlay:!0,seriesFN:v95.Studies.displayChannel,calculateFN:v95.Studies.calculateSTARCBands,inputs:{Period:+"15","MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":K4x,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:q7j,overlay:!![],seriesFN:v95.Studies.displayPSAR2,calculateFN:v95.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};Q=s42=>{var z9c=B9olJ;var S4X,u85,b6y,H4T;z9c.y4d();S4X="u";S4X+="n";S4X+="define";S4X+="d";u85=typeof _CIQ !== S4X?_CIQ:s42.CIQ;if(!u85.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {b6y="#0";b6y+="0";b6y+="DD";b6y+="00";H4T="Awesome";H4T+=" O";H4T+="scilla";H4T+="tor";u85.Studies.calculateAwesomeOscillator=function(N2t,B7x){var z13,D7Y,v0G,K1k,u7v,C3_,Y81,Q3E;z13="_";z13+="h";z13+="i";z13+="st";D7Y="_";D7Y+="M";D7Y+="A";D7Y+="5";v0G="simp";v0G+="le";K1k=B7x.chart.scrubbed;if(K1k.length < 33){B7x.error=!"";u7v=144485201;C3_=-1032944745;Y81=2;for(var l38=1;z9c.U7z(l38.toString(),l38.toString().length,+"6792") !== u7v;l38++){return;}if(z9c.d8W(Y81.toString(),Y81.toString().length,37935) !== C3_){return;}}u85.Studies.MA(v0G,5,"hl/2",+"0",D7Y,N2t,B7x);z9c.O3H(6);u85.Studies.MA("simple",z9c.O80("34",0),"hl/2",0,"_MA34",N2t,B7x);for(var N31=Math.max(B7x.startFrom,33);N31 < K1k.length;N31++){Q3E="_M";Q3E+="A";Q3E+="34 ";if(!K1k[N31])continue;K1k[N31][B7x.name + "_hist"]=K1k[N31]["_MA5 " + B7x.name] - K1k[N31][Q3E + B7x.name];}B7x.outputMap={};B7x.outputMap[B7x.name + z13]="";};u85.Studies.displayAwesomeOscillator=function(Z61,c7R,o0Q){var F77,n5w,H9g,m$K,J8f,g5V,k$S,w1k,z4P,w40;F77=Z61.panels[c7R.panel];n5w=c7R.getContext(Z61);H9g=c7R.getYAxis(Z61);m$K=Z61.pixelFromPrice(0,F77,H9g);J8f=Z61.layout.candleWidth - +"2";if(J8f < +"2"){J8f=1;}g5V=u85.Studies.determineColor(c7R.outputs["Increasing Bar"]);k$S=u85.Studies.determineColor(c7R.outputs["Decreasing Bar"]);Z61.canvasColor("stx_histogram");if(!c7R.underlay){n5w.globalAlpha=1;}n5w.fillStyle="#CCCCCC";Z61.startClip(c7R.panel);if(!c7R.highlight && Z61.highlightedDraggable){n5w.globalAlpha*=0.3;}for(var z7I=0;z7I < o0Q.length;z7I++){w1k="_";w1k+="hist";z4P=o0Q[z7I];z9c.w7b(6);w40=o0Q[z9c.O80(z7I,1)];if(!w40){w40=Z61.getPreviousBar(Z61.chart,c7R.name + "_hist",z7I);}if(!z4P)continue;if(!w40);else if(w40[c7R.name + "_hist"] < z4P[c7R.name + "_hist"]){n5w.fillStyle=g5V;}else if(w40[c7R.name + "_hist"] > z4P[c7R.name + w1k]){n5w.fillStyle=k$S;}if(z4P.candleWidth){J8f=Math.floor(Math.max(1,z4P.candleWidth - 2));}n5w.fillRect(Math.floor(Z61.pixelFromBar(z7I,F77.chart) - J8f / ("2" >> 32)),Math.floor(m$K),Math.floor(J8f),Math.floor(Z61.pixelFromPrice(z4P[c7R.name + "_hist"],F77,H9g) - m$K));}Z61.endClip();};u85.Studies.studyLibrary=u85.extend(u85.Studies.studyLibrary,{Awesome:{name:H4T,seriesFN:u85.Studies.displayAwesomeOscillator,calculateFN:u85.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":b6y,"Decreasing Bar":"#FF0000"}}});}};o=Y5k=>{B9olJ.y4d();var Z7c,e2T;Z7c=typeof _CIQ !== "undefined"?_CIQ:Y5k.CIQ;if(!Z7c.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {e2T="B";e2T+="al";e2T+="a";e2T+="nce of Power";Z7c.Studies.calculateBalanceOfPower=function(B92,n8Q){var X2h,F2W,D__;X2h=n8Q.chart.scrubbed;if(X2h.length < n8Q.days + 1){n8Q.error=!!({});return;}for(var Q64=n8Q.startFrom;Q64 < X2h.length;Q64++){F2W="_";F2W+="Rat";F2W+="io";F2W+=" ";D__=X2h[Q64];D__[F2W + n8Q.name]=D__.Close - D__.Open;if(D__.High - D__.Low !== 0){D__["_Ratio " + n8Q.name]/=D__.High - D__.Low;}}Z7c.Studies.MA(n8Q.inputs["Moving Average Type"],n8Q.days,"_Ratio " + n8Q.name,0,"Result",B92,n8Q);};Z7c.Studies.studyLibrary=Z7c.extend(Z7c.Studies.studyLibrary,{"Bal Pwr":{name:e2T,range:"-1 to 1",centerline:0,calculateFN:Z7c.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};Y=f9q=>{var i6N,x$z,M4S,V9V,f2H,I_k;i6N="u";i6N+="ndefi";B9olJ.B2i();i6N+="n";i6N+="ed";x$z=typeof _CIQ !== i6N?_CIQ:f9q.CIQ;if(!x$z.Studies){M4S="bollinger feature requ";M4S+="ire";M4S+="s";M4S+=" first activating studies feature.";console.error(M4S);}else {V9V="Bo";V9V+="llinger Bandwidth";f2H="fiel";f2H+="d";I_k="Bolli";I_k+="nger B";I_k+="ands";x$z.Studies.calculateBollinger=function(q9x,U2r){var C7Y,y9v,P6d,d8E;C7Y="_S";C7Y+="TD Dev ";y9v="_";y9v+="M";y9v+="A";P6d="fie";P6d+="ld";d8E=U2r.inputs.Field;if(!d8E || d8E == P6d){d8E="Close";}x$z.Studies.MA(U2r.inputs["Moving Average Type"],U2r.days,d8E,0,y9v,q9x,U2r);U2r.std=new x$z.Studies.StudyDescriptor(U2r.name,"STD Dev",U2r.panel);U2r.std.chart=U2r.chart;U2r.std.startFrom=U2r.startFrom;U2r.std.days=U2r.days;U2r.std.inputs={Field:d8E,"Standard Deviations":"1" * 1,Type:U2r.inputs["Moving Average Type"]};U2r.std.outputs={"_STD Dev":null};x$z.Studies.calculateStandardDeviation(q9x,U2r.std);x$z.Studies.calculateGenericEnvelope(q9x,U2r,U2r.inputs["Standard Deviations"],"_MA " + U2r.name,C7Y + U2r.name);if(U2r.type == "Boll %b"){U2r.zoneOutput="%b";}};x$z.Studies.studyLibrary=x$z.extend(x$z.Studies.studyLibrary,{"Bollinger Bands":{name:I_k,overlay:!![],calculateFN:x$z.Studies.calculateBollinger,seriesFN:x$z.Studies.displayChannel,inputs:{Period:+"20",Field:f2H,"Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!!({})},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:x$z.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:V9V,calculateFN:x$z.Studies.calculateBollinger,inputs:{Period:"20" - 0,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};E=p6k=>{var P0G,H1M,r9_;P0G=typeof _CIQ !== "undefined"?_CIQ:p6k.CIQ;B9olJ.B2i();if(!P0G.Studies){console.error("cci feature requires first activating studies feature.");}else {H1M="au";H1M+="to";r9_="Commodity Cha";r9_+="nnel Index";P0G.Studies.calculateCCI=function(z5B,O7M){var D7O,g5o,U7H,n2G,H1G,G53;D7O="s";D7O+="i";D7O+="mpl";D7O+="e";g5o=O7M.chart.scrubbed;if(g5o.length < O7M.days + 1){O7M.error=!![];return;}P0G.Studies.MA(D7O,O7M.days,"hlc/3","0" - 0,"MA",z5B,O7M);for(var B_8=Math.max(O7M.startFrom,O7M.days - 1);B_8 < g5o.length;B_8++){U7H="Res";U7H+="ult ";n2G="Res";n2G+="ul";n2G+="t";n2G+=" ";H1G=g5o[B_8];if(!H1G)continue;G53=0;for(var i$1=0;i$1 < O7M.days;i$1++){G53+=Math.abs(g5o[B_8 - i$1]["hlc/3"] - H1G["MA " + O7M.name]);}G53/=O7M.days;if(Math.abs(G53) < 0.00000001){H1G[n2G + O7M.name]=0;}else {H1G[U7H + O7M.name]=(H1G["hlc/3"] - H1G["MA " + O7M.name]) / (0.015 * G53);}}};P0G.Studies.studyLibrary=P0G.extend(P0G.Studies.studyLibrary,{CCI:{name:r9_,calculateFN:P0G.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:H1M}},attributes:{Period:{min:2}}}});}};O5=j0J=>{var R7Z,j4b;R7Z="undef";R7Z+="ine";R7Z+="d";j4b=typeof _CIQ !== R7Z?_CIQ:j0J.CIQ;if(!j4b.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {j4b.Studies.calculateCenterOfGravity=function(n_s,i21){var r8e=B9olJ;var W2m,U5i,b3K,t0_,V1J,a4y;W2m="C";W2m+="l";W2m+="os";W2m+="e";U5i=i21.chart.scrubbed;r8e.y4d();if(U5i.length < i21.days){i21.error=!!1;return;}b3K=i21.inputs.Field;if(!b3K || b3K == "field"){b3K=W2m;}for(var B5w=Math.max(i21.startFrom,i21.days - 1);B5w < U5i.length;B5w++){t0_=+"0";V1J=+"0";for(var U7o=0;U7o < i21.days;U7o++){r8e.w7b(6);a4y=U5i[r8e.O80(B5w,U7o)][b3K];r8e.O3H(119);t0_-=r8e.o4m(U7o,a4y,1);V1J+=a4y;}if(V1J){r8e.w7b(9);U5i[B5w]["Result " + i21.name]=r8e.o4m(V1J,t0_);}}};j4b.Studies.studyLibrary=j4b.extend(j4b.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:j4b.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};H_=D4w=>{var A1s=B9olJ;var u3i,k5H,C5w,t8M;u3i=typeof _CIQ !== "undefined"?_CIQ:D4w.CIQ;A1s.B2i();if(!u3i.Studies){k5H=-586916101;C5w=1083226546;t8M=2;for(var S9r=+"1";A1s.U7z(S9r.toString(),S9r.toString().length,21269) !== k5H;S9r++){console.error("chaikin feature requires first activating studies feature.");t8M+=2;}if(A1s.d8W(t8M.toString(),t8M.toString().length,"74011" * 1) !== C5w){console.error("");}}else {u3i.Studies.calculateChaikinMoneyFlow=function(N4w,i2U){var h1H,X7X,n_Y,S0j,O7U,t3w;h1H=i2U.chart.scrubbed;if(h1H.length < i2U.days){i2U.error=!![];return;}X7X=0;n_Y=0;A1s.O3H(120);var g0E=A1s.O80(4319,12,15,18,6);S0j=h1H[i2U.startFrom - g0E];A1s.B2i();if(S0j){O7U="_s";O7U+="umV ";if(S0j["_sumMF " + i2U.name]){X7X=S0j["_sumMF " + i2U.name];}if(S0j[O7U + i2U.name]){n_Y=S0j["_sumV " + i2U.name];}}for(var f_g=i2U.startFrom;f_g < h1H.length;f_g++){t3w="_su";t3w+="m";t3w+="MF ";if(h1H[f_g].High == h1H[f_g].Low){h1H[f_g]["_MFV " + i2U.name]=0;}else {A1s.w7b(17);var g08=A1s.o4m(13,15);h1H[f_g]["_MFV " + i2U.name]=h1H[f_g].Volume * (g08 * h1H[f_g].Close - h1H[f_g].High - h1H[f_g].Low) / (h1H[f_g].High - h1H[f_g].Low);}X7X+=h1H[f_g]["_MFV " + i2U.name];n_Y+=h1H[f_g].Volume;if(f_g > i2U.days - 1){X7X-=h1H[f_g - i2U.days]["_MFV " + i2U.name];n_Y-=h1H[f_g - i2U.days].Volume;if(n_Y){A1s.O3H(9);h1H[f_g]["Result " + i2U.name]=A1s.o4m(n_Y,X7X);}}h1H[f_g][t3w + i2U.name]=X7X;h1H[f_g]["_sumV " + i2U.name]=n_Y;}};u3i.Studies.calculateChaikinVolatility=function(S2w,S_d){var L5Z,z04,i2_,j$X,x$N,p9I,k$_;L5Z="Rate Of ";A1s.y4d();L5Z+="Change";z04="_M";z04+="A";i2_=S_d.chart.scrubbed;if(i2_.length < S_d.days){S_d.error=!!"1";return;}for(j$X=S_d.startFrom;j$X < i2_.length;j$X++){if(i2_[j$X].futureTick)break;i2_[j$X]["_High-Low " + S_d.name]=i2_[j$X].High - i2_[j$X].Low;}u3i.Studies.MA(S_d.inputs["Moving Average Type"],S_d.days,"_High-Low " + S_d.name,"0" - 0,z04,S2w,S_d);x$N=S_d.inputs[L5Z];if(!x$N){x$N=S_d.days;}for(j$X=Math.max(S_d.startFrom,x$N);j$X < i2_.length;j$X++){p9I="_MA";p9I+=" ";k$_="Res";k$_+="ult ";if(!i2_[j$X - x$N]["_MA " + S_d.name])continue;if(i2_[j$X].futureTick)break;A1s.w7b(1);var x39=A1s.o4m(33,329,13);i2_[j$X][k$_ + S_d.name]=x39 * (i2_[j$X]["_MA " + S_d.name] / i2_[j$X - x$N][p9I + S_d.name] - +"1");}};u3i.Studies.studyLibrary=u3i.extend(u3i.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:u3i.Studies.calculateChaikinMoneyFlow,inputs:{Period:+"20"}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:u3i.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};B6=s_F=>{var L8n=B9olJ;var j_V,Z10,D$8;L8n.y4d();j_V=typeof _CIQ !== "undefined"?_CIQ:s_F.CIQ;if(!j_V.Studies){console.error("chande feature requires first activating studies feature.");}else {Z10="a";Z10+="uto";D$8="Vari";D$8+="a";D$8+="b";D$8+="le";j_V.Studies.prettify.variable="vma";j_V.Studies.movingAverage.conversions.vma="variable";j_V.Studies.movingAverage.translations.variable="Variable";j_V.Studies.movingAverage.typeMap.vma=D$8;j_V.Studies.movingAverage.typeMap.variable="Variable";j_V.Studies.calculateChandeForecast=function(i5n,j5R){var p0P,L45,n7V,I4N,l7L;L8n.B2i();p0P="time";p0P+=" series";L45=j5R.chart.scrubbed;if(L45.length < j5R.days + 1){j5R.error=!![];return;}n7V=j5R.inputs.Field;if(!n7V || n7V == "field"){n7V="Close";}j_V.Studies.MA(p0P,j5R.days,n7V,+"0","MA",i5n,j5R);for(var I1G=Math.max(1,j5R.startFrom);I1G < L45.length;I1G++){I4N="M";I4N+="A ";l7L=L45[I1G][n7V];if(l7L && typeof l7L == "object"){l7L=l7L[j5R.subField];}L8n.w7b(2);var G6e=L8n.o4m(93,7);L8n.O3H(2);var K1O=L8n.O80(1,0);L45[I1G]["Result " + j5R.name]=G6e * ("1" * K1O - L45[I1G][I4N + j5R.name] / l7L);}};j_V.Studies.calculateChandeMomentum=function(G$Y,y5X){var w6t,A6O,E0j,f$h,p9l,z7d,y7O,d0L,W$q,f_0,O3P;w6t="fi";w6t+="e";w6t+="ld";A6O=y5X.name;for(var S4J in y5X.outputs){L8n.O3H(77);A6O=L8n.O80(" ",A6O,S4J);}E0j=y5X.chart.scrubbed;if(E0j.length < y5X.days + 1){y5X.error=!!"1";return;}f$h=y5X.inputs.Field;if(!f$h || f$h == w6t){f$h="Close";}p9l=0;L8n.w7b(43);z7d=L8n.o4m("0",0);y7O=[];for(var b_U=y5X.startFrom - y5X.days + 1;b_U < E0j.length;b_U++){if(b_U < 1)continue;d0L=E0j[b_U][f$h];L8n.w7b(6);W$q=E0j[L8n.o4m(b_U,1)][f$h];if(d0L && typeof d0L == "object"){d0L=d0L.Close;}if(W$q && typeof W$q == "object"){W$q=W$q.Close;}if(W$q === undefined)continue;L8n.w7b(6);f_0=L8n.O80(d0L,W$q);y7O.push(f_0);p9l+=f_0;z7d+=Math.abs(f_0);if(y7O.length == y5X.days){L8n.O3H(98);E0j[b_U][A6O]=L8n.o4m(z7d,p9l,100);O3P=y7O.shift();p9l-=O3P;z7d-=Math.abs(O3P);}}};j_V.Studies.calculateMovingAverageVariable=function(G$_,T4I){var Q$o,M0j,W$m,O9_,m2y,F1v,t6u,b9z,R9T,p0j,E2H,f42,U0Q,h3e,l$b,r_T,t2B,q0i,S43;Q$o="c";Q$o+="mo";M0j=T4I.inputs.Type;L8n.B2i();W$m=T4I.chart.scrubbed;L8n.w7b(121);var i_s=L8n.O80(9,4,12,4);O9_=i_s / (T4I.days + ("1" >> 0));m2y=null;F1v=T4I.name;for(var W6Y in T4I.outputs){L8n.O3H(77);F1v=L8n.o4m("6487" << 0 >= 271.25?" ":5550 !== 391.37?(759.68,272):(1.15e+3,![]),F1v,W6Y);}t6u=T4I.inputs.Field;if(!t6u || t6u == "field"){t6u="Close";}T4I.cmo=new j_V.Studies.StudyDescriptor(T4I.name,Q$o,T4I.panel);T4I.cmo.chart=T4I.chart;T4I.cmo.days=9;T4I.cmo.inputs={Field:t6u};T4I.cmo.startFrom=T4I.startFrom;T4I.cmo.outputs={_CMO:null};j_V.Studies.calculateChandeMomentum(G$_,T4I.cmo);b9z=parseInt(T4I.inputs.Offset,10);if(isNaN(b9z)){b9z=0;}f42=T4I.startFrom;U0Q=b9z;for(R9T=T4I.startFrom - 1;R9T >= 0;R9T--){p0j=W$m[R9T][F1v];if(!p0j && p0j !== +"0")continue;if(m2y === null){m2y=p0j;}if(U0Q <= 0)break;U0Q--;f42=R9T;}if(m2y === null){m2y=f42=0;}h3e=[];for(R9T=f42;R9T < W$m.length;R9T++){l$b=W$m[R9T];p0j=l$b[t6u];if(p0j && typeof p0j == "object"){p0j=p0j[T4I.subField];}r_T=R9T + b9z >= 0 && R9T + b9z < W$m.length;t2B=r_T?W$m[R9T + b9z]:null;if(!p0j && p0j !== "0" - 0){if(t2B){t2B[F1v]=null;}else if(R9T + b9z >= W$m.length){E2H={};E2H[F1v]=null;h3e.push(E2H);}continue;}if(!l$b["_CMO " + T4I.name] && l$b["_CMO " + T4I.name] !== "0" << 64)continue;q0i=Math.abs(l$b["_CMO " + T4I.name]) / +"100";L8n.O3H(122);S43=L8n.O80(O9_,q0i,q0i,m2y,p0j,1,O9_);m2y=S43;if(R9T < T4I.days){S43=null;}if(t2B){t2B[F1v]=S43;}else if(R9T + b9z >= W$m.length){E2H={};E2H[F1v]=S43;h3e.push(E2H);}}T4I.appendFutureTicks(G$_,h3e);};j_V.Studies.studyLibrary=j_V.extend(j_V.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:j_V.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:j_V.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:50,studyOverBoughtColor:Z10,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};x_=s6y=>{var C6G,s1g,v7Z,d0P,U3t;C6G=typeof _CIQ !== "undefined"?_CIQ:s6y.CIQ;if(!C6G.Studies){s1g="choppiness feature requires first activating";s1g+=" studies feature.";console.error(s1g);}else {v7Z="0";v7Z+=".";v7Z+="1";d0P="aut";d0P+="o";U3t="aut";U3t+="o";C6G.Studies.calculateChoppiness=function(x2K,z4c){var s4V,U3N,J_V,o94;function x_G(x16,r23){var G0W,r9S;G0W=Number.MAX_VALUE * -+"1";B9olJ.B2i();r9S=Number.MAX_VALUE;for(var m$G=r23 - x16 + 1;m$G <= r23;m$G++){if(m$G < ("0" | 0))continue;G0W=Math.max(G0W,s4V[m$G].High);r9S=Math.min(r9S,s4V[m$G].Low);}return [r9S,G0W];}C6G.Studies.calculateStudyATR(x2K,z4c);s4V=z4c.chart.scrubbed;if(s4V.length < z4c.days + 1){z4c.error=!![];return;}for(var k0V=Math.max(z4c.startFrom,z4c.days);k0V < s4V.length;k0V++){U3N=s4V[k0V];if(!U3N)continue;if(U3N.futureTick)break;J_V=x_G(z4c.days,k0V);if(U3N["Sum True Range " + z4c.name]){B9olJ.w7b(2);var l2h=B9olJ.o4m(17,83);U3N["Result " + z4c.name]=l2h * Math.log(U3N["Sum True Range " + z4c.name] / Math.max(0.000001,J_V["1" | 0] - J_V[0])) / Math.log(z4c.days);}else if(!isNaN(U3N)){o94="Re";o94+="su";o94+="lt";o94+=" ";U3N[o94 + z4c.name]=0;}}};C6G.Studies.studyLibrary=C6G.extend(C6G.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:C6G.Studies.calculateChoppiness,centerline:+"50",parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:61.8,studyOverBoughtColor:U3t,studyOverSoldValue:38.2,studyOverSoldColor:d0P}},attributes:{studyOverBoughtValue:{min:+"50",step:v7Z},studyOverSoldValue:{max:"50" >> 32,step:"0.1"}}}});}};e6=Z8N=>{var O7q=B9olJ;var L2H,T0D,V2k,v$1,F4M,G3M,G3p;L2H="unde";L2H+="fined";O7q.B2i();T0D=typeof _CIQ !== L2H?_CIQ:Z8N.CIQ;if(!T0D.Studies){V2k="comparisonStudies feature requires f";V2k+="irst activatin";V2k+="g studies feature.";console.error(V2k);}else if(!T0D.Studies.initPriceRelative){v$1="compar";v$1+="isonStudies feature requires first activating priceRelative feature.";console.error(v$1);}else {F4M="B";F4M+="et";F4M+="a";G3M="Pe";G3M+="rformance Index";G3p="-";G3p+="1 ";G3p+="t";G3p+="o 1";T0D.Studies.calculateCorrelationCoefficient=function(Y2p,t_P){var D6p,k1T,F2H,Q5B,n1R,c_g,K$1,E0D,W4t,a2P,N0E,G2i,J40,o58,T1w,x70,V3f,w_w,K2X,Q4J,r0a,X5J,u2M,X9G;D6p=t_P.chart.scrubbed;k1T=t_P.days;if(D6p.length < k1T + +"1"){t_P.error=!!({});return;}t_P.compare=t_P.inputs["Compare To"];if(!t_P.compare){t_P.compare=[];t_P.outputs={};t_P.outputMap={};for(var A9P in Y2p.chart.series){F2H=Y2p.chart.series[A9P];if(F2H.parameters.color){Q5B="Re";Q5B+="s";Q5B+="u";Q5B+="lt ";n1R="R";n1R+="esu";n1R+="lt ";t_P.compare.push(F2H.display);t_P.outputs[n1R + F2H.display]=F2H.parameters.color;O7q.O3H(103);var W43=O7q.O80(5,2,5137,4,5114);O7q.w7b(11);var L7j=O7q.o4m(3,8745,8);O7q.O3H(23);var H41=O7q.o4m(5577,14,72503,15);O7q.w7b(29);var w3V=O7q.o4m(59800,8,5,12096);t_P.outputMap[Q5B + F2H.display + ((953.25,+"9350") == (W43,L7j)?(330.76,H41):(679.57,w3V) != (448.93,+"908.71")?" ":"F") + t_P.name]="Result " + F2H.display;}}}else {t_P.compare=[t_P.compare];}if(!t_P.compare.length){t_P.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var n$N=0;n$N < t_P.compare.length;n$N++){c_g=0;K$1=0;E0D=0;O7q.w7b(43);W4t=O7q.O80("0",0);a2P=0;N0E=t_P.compare[n$N];G2i=0;for(var T9n=t_P.startFrom - k1T;T9n < D6p.length;T9n++){J40="_te";J40+="mps";J40+=" ";o58="_te";o58+="m";o58+="p";o58+="s ";T1w="obj";T1w+="e";T1w+="ct";x70="obj";x70+="e";x70+="c";x70+="t";if(!D6p[T9n])continue;V3f=D6p[T9n][N0E];if(V3f && typeof V3f == x70){V3f=V3f.Close;}if(!V3f && V3f !== 0){if(T9n > 0 && D6p[T9n - 1] && D6p[T9n - 1]["_temps " + t_P.name] && D6p[T9n - 1]["_temps " + t_P.name].c){V3f=D6p[T9n - 1]["_temps " + t_P.name].c;}else {V3f=0;}}if(V3f && typeof V3f == T1w){V3f=V3f.Close;}D6p[T9n][o58 + t_P.name]={};c_g+=D6p[T9n]["_temps " + t_P.name].b=D6p[T9n].Close;K$1+=D6p[T9n]["_temps " + t_P.name].c=V3f;E0D+=D6p[T9n][J40 + t_P.name].b2=Math.pow(D6p[T9n].Close,2);W4t+=D6p[T9n]["_temps " + t_P.name].c2=Math.pow(V3f,2);a2P+=D6p[T9n]["_temps " + t_P.name].bc=D6p[T9n].Close * V3f;if(G2i >= k1T){w_w="_";w_w+="temps ";K2X="_t";K2X+="e";K2X+="mps ";Q4J="_";Q4J+="t";Q4J+="emps ";c_g-=D6p[T9n - k1T][Q4J + t_P.name].b;K$1-=D6p[T9n - k1T]["_temps " + t_P.name].c;E0D-=D6p[T9n - k1T][K2X + t_P.name].b2;W4t-=D6p[T9n - k1T]["_temps " + t_P.name].c2;a2P-=D6p[T9n - k1T][w_w + t_P.name].bc;O7q.w7b(2);var H84=O7q.O80(2,0);r0a=E0D / k1T - Math.pow(c_g / k1T,H84);O7q.O3H(56);var W4c=O7q.O80(12,15,3,0,3);X5J=W4t / k1T - Math.pow(K$1 / k1T,W4c);O7q.O3H(123);var g6b=O7q.O80(1,2,10,3,1);u2M=a2P / k1T - c_g * K$1 / Math.pow(k1T,g6b);X9G=u2M / Math.sqrt(r0a * X5J);O7q.w7b(1);var b_C=O7q.o4m(333,2998,11);O7q.O3H(6);var a6m=O7q.O80(35280,33320);O7q.O3H(13);var a8m=O7q.O80(2,8126,811,813);O7q.O3H(1);var B8M=O7q.O80(5419,92142,18);O7q.w7b(89);var M5_=O7q.O80(589,19,640);D6p[T9n]["Result " + N0E + (b_C < a6m?(+"620.61",a8m) >= B8M?" ":"0x9f0" << M5_:"L") + t_P.name]=X9G;}G2i++;}}};T0D.Studies.calculatePerformance=function(x4p,t6z){var Z6Q,S_D,X7Q,H48,v$e;Z6Q=t6z.chart.scrubbed;S_D=t6z.inputs["Comparison Symbol"].toUpperCase();if(!S_D){S_D=t6z.study.inputs["Comparison Symbol"];}if(!t6z.days){t6z.days=t6z.study.inputs.Period;}if(Z6Q.length < t6z.days + 1){t6z.error=!!"1";return;}T0D.Studies.MA("ma",t6z.days,"Close",0,"_MA Base",x4p,t6z);O7q.y4d();T0D.Studies.MA("ma",t6z.days,S_D,0,"_MA Comp",x4p,t6z);for(var P1e=t6z.startFrom;P1e < Z6Q.length;P1e++){X7Q="_M";X7Q+="A ";X7Q+="Base ";H48="_MA ";H48+="Com";H48+="p ";v$e=Z6Q[P1e][S_D];if(v$e && (v$e.Close || v$e.Close === "0" * 1)){v$e=v$e.Close;}Z6Q[P1e]["Result " + t6z.name]=Z6Q[P1e].Close / v$e * (Z6Q[P1e][H48 + t6z.name] / Z6Q[P1e][X7Q + t6z.name]);}};T0D.Studies.calculateBeta=function(W8U,o5j){var m6L,o_7,y0p,E9$,I3r,I3P,w8p,d1c,F_W,U63,v56,i0r,n5y,V1V,p$p,W2F;m6L="m";m6L+="a";o_7="_C";o_7+="OV";o_7+="AR";y0p="_COVA";y0p+="Rn ";E9$="m";E9$+="a";I3r="m";I3r+="a";I3P="_MA B";I3P+="ase";w8p="Comp";w8p+="arison S";w8p+="ymbol";d1c=o5j.chart.scrubbed;F_W=o5j.inputs["Comparison Symbol"].toUpperCase();if(!F_W){F_W=o5j.study.inputs[w8p];}if(!o5j.days){o5j.days=o5j.study.inputs.Period;}if(d1c.length < o5j.days + 1){o5j.error=!![];return;}for(var y2N=Math.max(o5j.startFrom,1);y2N < d1c.length;y2N++){O7q.w7b(11);var A6g=O7q.o4m(2,2,1);O7q.w7b(31);var h5b=O7q.o4m(3,12,10);d1c[y2N]["_BaseChange " + o5j.name]=d1c[y2N].Close / d1c[y2N - A6g].Close - h5b;U63=d1c[y2N][F_W];if(U63 && (U63.Close || U63.Close === 0)){U63=U63.Close;}O7q.O3H(6);v56=d1c[O7q.o4m(y2N,1)][F_W];if(v56 && (v56.Close || v56.Close === "0" * 1)){v56=v56.Close;}O7q.w7b(33);d1c[y2N]["_CompChange " + o5j.name]=O7q.o4m(1,v56,U63);}T0D.Studies.MA("ma",o5j.days,"_BaseChange " + o5j.name,0,I3P,W8U,o5j);T0D.Studies.MA(I3r,o5j.days,"_CompChange " + o5j.name,0,"_MA Comp",W8U,o5j);for(y2N=Math.max(o5j.startFrom,o5j.days);y2N < d1c.length;y2N++){i0r="_C";i0r+="ompC";i0r+="hange";i0r+=" ";n5y="_MA";n5y+=" ";n5y+="Comp ";V1V="_Ba";V1V+="seChang";V1V+="e ";d1c[y2N]["_COVARn " + o5j.name]=(d1c[y2N][V1V + o5j.name] - d1c[y2N]["_MA Base " + o5j.name]) * (d1c[y2N]["_CompChange " + o5j.name] - d1c[y2N][n5y + o5j.name]);d1c[y2N]["_VARn " + o5j.name]=Math.pow(d1c[y2N][i0r + o5j.name] - d1c[y2N]["_MA Comp " + o5j.name],2);}T0D.Studies.MA(E9$,o5j.days,y0p + o5j.name,0,o_7,W8U,o5j);T0D.Studies.MA(m6L,o5j.days,"_VARn " + o5j.name,0,"_VAR",W8U,o5j);for(y2N=Math.max(o5j.startFrom,o5j.days * ("2" << 64) - 1);y2N < d1c.length;y2N++){p$p="_COVA";p$p+="R ";W2F="Res";W2F+="ult ";d1c[y2N][W2F + o5j.name]=d1c[y2N][p$p + o5j.name] / d1c[y2N]["_VAR " + o5j.name];}};T0D.Studies.studyLibrary=T0D.extend(T0D.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:G3p,calculateFN:T0D.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:G3M,centerline:1,initializeFN:T0D.Studies.initPriceRelative,seriesFN:T0D.Studies.displayVsComparisonSymbol,calculateFN:T0D.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!!({})},Beta:{name:F4M,centerline:+"1",initializeFN:T0D.Studies.initPriceRelative,seriesFN:T0D.Studies.displayVsComparisonSymbol,calculateFN:T0D.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0}});}};p3=H$6=>{var Q6q,y$N,f5Z;Q6q="un";Q6q+="d";Q6q+="ef";Q6q+="ined";y$N=typeof _CIQ !== Q6q?_CIQ:H$6.CIQ;if(!y$N.Studies){console.error("coppock feature requires first activating studies feature.");}else {f5Z="fie";f5Z+="l";f5Z+="d";y$N.Studies.calculateCoppock=function(J3z,D7g){var P$O=B9olJ;var I9p,P3X,u3v,l1X,E2v,L4A,X$B,J9p,a8H;I9p="_";I9p+="S";I9p+="um";I9p+=" ";P3X="S";P3X+="ho";P3X+="rt Ro";P3X+="C";u3v=D7g.chart.scrubbed;l1X=D7g.inputs.Field;if(!l1X || l1X == "field"){l1X="Close";}E2v=parseInt(D7g.inputs["Long RoC"],10);if(!E2v){E2v=14;}L4A=parseInt(D7g.inputs[P3X],10);if(!L4A){L4A=11;}X$B=D7g.days;if(!X$B){X$B=10;}if(E2v < L4A){return;}if(u3v.length < Math.max(L4A,E2v,X$B) + 1){D7g.error=!0;return;}for(var F6Z=Math.max(D7g.startFrom,E2v);F6Z < u3v.length;F6Z++){P$O.w7b(6);J9p=u3v[P$O.o4m(F6Z,L4A)][l1X];P$O.w7b(6);a8H=u3v[P$O.O80(F6Z,E2v)][l1X];if(J9p && a8H){P$O.O3H(124);var U$X=P$O.O80(2,18,8,108,3772);P$O.O3H(125);var M_z=P$O.O80(4,11,10,11,16);u3v[F6Z]["_Sum " + D7g.name]=U$X * (u3v[F6Z][l1X] / J9p + u3v[F6Z][l1X] / a8H - M_z);}}y$N.Studies.MA("weighted",X$B,I9p + D7g.name,"0" | 0,"Result",J3z,D7g);};y$N.Studies.studyLibrary=y$N.extend(y$N.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:y$N.Studies.calculateCoppock,inputs:{Period:10,Field:f5Z,"Short RoC":"11" << 0,"Long RoC":"14" >> 0}}});}};R5=g11=>{var F3o=B9olJ;var L8m,X8T,X_l;L8m=typeof _CIQ !== "undefined"?_CIQ:g11.CIQ;F3o.y4d();if(!L8m.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {X8T="#69";X8T+="9";X8T+="1";X8T+="58";X_l="#";X_l+="5F7CB8";L8m.Studies.calculateDarvas=function(S6c,k_u){var L2L,F6J,d8G,q8Y,E89,Q4Z,g$B,u9l,T8$,A1T,T6v,S0H,P8Q,f7t,T4W,v2_,v4H,X6h,E2j,R6J,O_c,W_c,e0o,h5o,s4q,c0d,A8K,d_s,s6J,w07,N9c,K$o,h4V,B2Q;L2L="S";L2L+="pi";L2L+="k";L2L+="e";F6J="P";F6J+="rof";F6J+="it";d8G="Da";d8G+="rv";d8G+="as";q8Y="Lev";q8Y+="e";q8Y+="l O";q8Y+="ffset";E89="A";E89+="TH ";E89+="Lookback Period";Q4Z=k_u.chart.scrubbed;g$B=0;u9l=parseInt(k_u.inputs[E89],+"10");if(k_u.inputs["Volume Spike"]){T8$="sim";T8$+="p";T8$+="le";L8m.Studies.MA(T8$,u9l,"Volume",0,"ADV",S6c,k_u);}F3o.w7b(126);var h$l=F3o.O80(17,18,83,12,1317);A1T=parseFloat(k_u.inputs["Volume % of Avg"]) / h$l;T6v="none";S0H={};P8Q=null;f7t=null;T4W=null;v2_=parseFloat(k_u.inputs[q8Y]);v4H=!"1";if(v4H){console.log("*****************");}E2j={};[d8G,"Ghost",F6J,"Loss","ATH","ADV",L2L].forEach(function(u5s){F3o.y4d();E2j[u5s]=u5s + " " + k_u.name;});for(X6h=k_u.startFrom - +"1";X6h > "0" * 1;X6h--){R6J=Q4Z[X6h];if(R6J[E2j.Darvas] || R6J[E2j.Ghost]){for(var N3D in E2j){R6J[N3D]=null;}}else {g$B=R6J[E2j.ATH] || 0;f7t=R6J[E2j.Profit];T4W=R6J[E2j.Loss];break;}}for(X6h;X6h < Q4Z.length;X6h++){O_c="Price";O_c+=" Minim";O_c+="um";W_c=Q4Z[X6h];if(!W_c)continue;if(parseFloat(k_u.inputs[O_c]) <= Q4Z[g$B].Close){e0o="hi";e0o+="g";e0o+="h";h5o="n";h5o+="o";h5o+="n";h5o+="e";s4q="Exit";s4q+=" Field";if(P8Q && (!P8Q.End || X6h == P8Q.End + 1)){if(Q4Z[X6h - 1].Close > S0H.High){S0H={State:1,High:+"2" * S0H.High - S0H.Low,Low:S0H.High,Start:X6h,End:2 * S0H.End - S0H.Start + +"1"};}else {P8Q=null;}if(P8Q){c0d="Ghost";c0d+=" b";c0d+="egi";c0d+="n:";W_c[E2j.Ghost]=L8m.clone(S0H);if(v4H){console.log(c0d + W_c.DT);}S0H.State=0;if(Q4Z[S0H.End]){Q4Z[S0H.End][E2j.Ghost]=L8m.clone(S0H);if(v4H){console.log("Ghost end:" + Q4Z[S0H.End].DT);}}P8Q={Start:S0H.Start,End:S0H.End};f7t=S0H.High + v2_;if(!T4W || T4W < S0H.Low - v2_){T4W=S0H.Low - v2_;}}}W_c[E2j.Profit]=f7t;W_c[E2j.Loss]=T4W;if(W_c.Close >= f7t){f7t=null;}else if(k_u.inputs[s4q] == "high/low" && W_c.High >= f7t){f7t=null;}if(T6v == h5o){if(X6h == g$B + 3){if(!Q4Z[g$B + 2][E2j.Darvas] && !Q4Z[g$B + 1][E2j.Darvas] && !Q4Z[g$B][E2j.Darvas] && Q4Z[g$B].High > W_c.High){A8K="h";A8K+="igh";T6v=A8K;}}}if(T6v == e0o){if(W_c.High > Q4Z[g$B].High){T6v="none";}else if(Q4Z[X6h - 3].Low < Q4Z[X6h - +"2"].Low && Q4Z[X6h - 3].Low < Q4Z[X6h - 1].Low && Q4Z[X6h - 3].Low < W_c.Low){S0H={State:+"1",High:Q4Z[g$B].High,Low:Q4Z[X6h - 3].Low,Start:g$B};Q4Z[g$B][E2j.Darvas]=L8m.clone(S0H);T6v="darvas";if(v4H){console.log("Darvas begin:" + Q4Z[g$B].DT);}if(v4H){console.log("Darvas established:" + W_c.DT);}if(P8Q){if(P8Q.End > X6h && Q4Z[P8Q.Start]){W_c[E2j.Ghost]=L8m.clone(Q4Z[P8Q.Start][E2j.Ghost]);W_c[E2j.Ghost].End=X6h;if(Q4Z[P8Q.End]){delete Q4Z[P8Q.End][E2j.Ghost];if(v4H){console.log("Ghost End removed:" + Q4Z[P8Q.End].DT);}}}W_c[E2j.Ghost].State=0;Q4Z[P8Q.Start][E2j.Ghost].End=X6h;if(v4H){console.log("Ghost end:" + W_c.DT);}P8Q=null;}f7t=S0H.High + v2_;if(!T4W || T4W < S0H.Low - v2_){T4W=S0H.Low - v2_;}}}if(T6v == "darvas"){d_s="n";d_s+="on";d_s+="e";s6J="high";s6J+="/l";s6J+="o";s6J+="w";w07="Exit";w07+=" Fiel";w07+="d";N9c="n";N9c+="o";N9c+="n";N9c+="e";if(W_c.Close > S0H.High){P8Q={};}else if(k_u.inputs["Exit Field"] == "high/low" && W_c.High > S0H.High){P8Q={};}else if(W_c.Close < S0H.Low){T6v=N9c;}else if(k_u.inputs[w07] == s6J && W_c.Low < S0H.Low){T6v="none";}if(P8Q){T6v="none";}else if(T6v == d_s){f7t=null;T4W=null;}if(!k_u.inputs["Ghost Boxes"]){P8Q=null;}if(T6v == "none"){K$o="Dar";K$o+="vas e";K$o+="nd:";for(var h7D=S0H.Start + "1" * 1;h7D < X6h;h7D++){Q4Z[h7D][E2j.Darvas]=L8m.clone(S0H);}S0H.State=0;S0H.End=X6h;W_c[E2j.Darvas]=L8m.clone(S0H);if(v4H){console.log(K$o + W_c.DT);}W_c[E2j.ATH]=g$B;continue;}}if(T4W){if(W_c.Close < S0H.Low || k_u.inputs["Exit Field"] == "high/low" && W_c.Low < S0H.Low){h4V="high/lo";h4V+="w";if(T6v == "darvas"){T6v="none";}if(W_c.Close < T4W || k_u.inputs["Exit Field"] == h4V && W_c.Low < T4W){f7t=null;T4W=null;}if(P8Q){if(P8Q.End > X6h && Q4Z[P8Q.Start]){W_c[E2j.Ghost]=L8m.clone(Q4Z[P8Q.Start][E2j.Ghost]);W_c[E2j.Ghost].End=X6h;if(Q4Z[P8Q.End]){delete Q4Z[P8Q.End][E2j.Ghost];if(v4H){console.log("Ghost End removed:" + Q4Z[P8Q.End].DT);}}}W_c[E2j.Ghost].State=0;Q4Z[P8Q.Start][E2j.Ghost].End=X6h;if(v4H){console.log("Ghost end:" + W_c.DT);}P8Q=null;}}}}if(W_c.High >= Q4Z[g$B].High){g$B=X6h;if(v4H){console.log("All Time High:" + W_c.DT);}}if(X6h < 3 || W_c.High >= Q4Z[X6h - 1].High && W_c.High >= Q4Z[X6h - "2" * 1].High && W_c.High >= Q4Z[X6h - 3].High){if(X6h - g$B >= u9l){g$B=X6h;for(var N7B=0;N7B < u9l;N7B++){if(X6h - N7B < "0" * 1)break;if(Q4Z[X6h - N7B].High > Q4Z[g$B].High){F3o.O3H(6);g$B=F3o.O80(X6h,N7B);}}if(v4H){console.log("All Time High:" + W_c.DT);}}}if(k_u.inputs["Volume Spike"] && X6h > u9l && X6h == g$B){if(W_c[E2j.ADV] * A1T < W_c.Volume){B2Q="Vol";B2Q+="ume";B2Q+=" Spike";B2Q+=":";W_c[E2j.Spike]=1;if(v4H){console.log(B2Q + W_c.DT);}}}W_c[E2j.ATH]=g$B;}};L8m.Studies.displayDarvas=function(d5Q,P_C,v2C){var q1C,L6t,A_f,p4B,n2i,E2q,u5e,R9n,S_E,y45,a8C,f3P,J9F,W1c,c6F,U7P,k1_,s8i,K8Q,N37,k0Y,u1M,s05,W1H,y3R,Q7E,b49,A5M,N$q,t7b,X_P,U1d,p5v,N44,B8J,g5r;q1C=L8m.Studies.determineColor(P_C.outputs.Levels);if(!q1C || q1C == "auto" || L8m.isTransparent(q1C)){q1C=d5Q.defaultColor;}L6t=L8m.Studies.determineColor(P_C.outputs.Darvas);if(!L6t || L6t == "auto" || L8m.isTransparent(L6t)){L6t=d5Q.defaultColor;}A_f=L8m.Studies.determineColor(P_C.outputs.Ghost);if(!A_f || A_f == "auto" || L8m.isTransparent(A_f)){A_f=d5Q.defaultColor;}p4B=d5Q.panels[P_C.panel];n2i=P_C.getContext(d5Q);F3o.w7b(2);var T1t=F3o.O80(2,0);y45=d5Q.layout.candleWidth - T1t;if(y45 < 2){y45=+"1";}d5Q.startClip(P_C.panel);if(P_C.inputs["Stop Levels"]){if(n2i.setLineDash){n2i.setLineDash([2,2]);}F3o.w7b(41);n2i.lineWidth=F3o.O80("2",0);n2i.strokeStyle=q1C;n2i.beginPath();for(E2q=0;E2q < v2C.length;E2q++){a8C="L";a8C+="os";a8C+="s";a8C+=" ";u5e=v2C[E2q];F3o.w7b(6);f3P=v2C[F3o.o4m(E2q,1)];if(!u5e)continue;S_E=u5e["Loss " + P_C.name]?Math.floor(d5Q.pixelFromPrice(u5e["Loss " + P_C.name],p4B)):null;J9F=f3P && f3P["Loss " + P_C.name]?Math.floor(d5Q.pixelFromPrice(f3P[a8C + P_C.name],p4B)):null;if(S_E){if(u5e.candleWidth){y45=Math.floor(Math.max(1,u5e.candleWidth));}W1c=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) + y45 / 2);c6F=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) - y45 / +"2");if(J9F && J9F >= S_E){n2i.lineTo(c6F,S_E);}else if(E2q === 0){n2i.moveTo(d5Q.chart.left,S_E);}else {n2i.moveTo(c6F,S_E);}n2i.lineTo(W1c,S_E);}}n2i.stroke();if(n2i.setLineDash){n2i.setLineDash([]);}n2i.lineWidth=1;}U7P=-10;s8i=0;N37=-+"10";u1M=0;W1H=!!"";y3R=!"1";F3o.w7b(4);var t5V=F3o.O80(5,6084,9);F3o.O3H(17);var h7b=F3o.o4m(6,7);F3o.w7b(4);var m7A=F3o.o4m(18,5160,3888);F3o.O3H(1);var d_6=F3o.o4m(5489,82326,16);F3o.B2i();F3o.w7b(2);var P9B=F3o.O80(3403,3404);F3o.O3H(6);var G8S=F3o.O80(163134,154548);F3o.O3H(127);var T8L=F3o.o4m(8712,17,6,3,40634);F3o.O3H(124);var I0b=F3o.O80(5,11,12,394,21207);F3o.w7b(128);var t$A=F3o.O80(4662,275,5,18);F3o.w7b(129);var g44=F3o.o4m(2644,5,2626,1313,8);F3o.w7b(6);var i6v=F3o.O80(36440,31885);F3o.O3H(19);var x5w=F3o.o4m(10,15,7,828);F3o.O3H(130);var i5J=F3o.O80(235214,6,6,2,80470);Q7E=n2i.measureText((t5V,"786.99" * h7b) <= (m7A,d_6)?P9B > G8S?T8L:(I0b,t$A) >= g44?"\u25B2":(i6v,![]):(x5w,i5J)).width / +"2";b49=+"0";for(E2q=0;E2q < v2C.length;E2q++){A5M="G";A5M+="host ";if(!v2C[E2q])continue;if(v2C[E2q].Close || v2C[E2q].Close === 0){b49=E2q;}if(v2C[E2q]["Spike " + P_C.name]){N$q="bo";N$q+="ttom";n2i.fillStyle=L6t;n2i.textBaseline=N$q;t7b=d5Q.pixelFromPrice(v2C[E2q].High,d5Q.chart.panel);n2i.fillText(+"468.23" !== 992.6?"\u25BC":(4326,7493) != 4140?761 !== ("8020" << 64,"6274" | 2)?(0x1d5,151.17):(!!1,"897.69" - 0):("A","X"),d5Q.pixelFromBar(E2q) - Q7E,t7b - 5);}if(v2C[E2q].candleWidth){y45=Math.floor(Math.max(1,v2C[E2q].candleWidth));}if(v2C[E2q]["Darvas " + P_C.name]){u5e=v2C[E2q]["Darvas " + P_C.name];if(u5e.State == 1 && !W1H){U7P=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) - y45 / 2);k1_=Math.floor(d5Q.pixelFromPrice(u5e.High,p4B));K8Q=Math.floor(d5Q.pixelFromPrice(u5e.Low,p4B)) - k1_;W1H=!"";}else if(u5e.State === 0){F3o.w7b(131);var s$f=F3o.O80(16,0,0,14);s8i=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) + y45 / s$f) - U7P;k1_=Math.floor(d5Q.pixelFromPrice(u5e.High,p4B));K8Q=Math.floor(d5Q.pixelFromPrice(u5e.Low,p4B)) - k1_;n2i.strokeStyle=L6t;n2i.fillStyle=L6t;if(!P_C.inputs["Stop Levels"]){n2i.strokeRect(U7P,k1_,s8i,K8Q);n2i.globalAlpha=0.2;}else {n2i.globalAlpha=0.3;}n2i.fillRect(U7P,k1_,s8i,K8Q);n2i.globalAlpha=1;W1H=!1;}}if(v2C[E2q][A5M + P_C.name] && P_C.inputs["Ghost Boxes"]){u5e=v2C[E2q]["Ghost " + P_C.name];if(u5e.State == 1 && !y3R){N37=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) - y45 / 2);k0Y=Math.floor(d5Q.pixelFromPrice(u5e.High,p4B));u1M=Math.floor((u5e.End - u5e.Start + 1) * d5Q.layout.candleWidth + y45 / 2);s05=Math.floor(d5Q.pixelFromPrice(u5e.Low,p4B)) - k0Y;y3R=!!"1";}else if(u5e.State === 0){X_P="Sto";X_P+="p Level";X_P+="s";if(u5e.Start == u5e.End){N37=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) - y45 / 2);}F3o.O3H(73);var G9C=F3o.O80(17,3,22);u1M=Math.floor(d5Q.pixelFromBar(E2q,p4B.chart) + y45 / G9C) - N37;k0Y=Math.floor(d5Q.pixelFromPrice(u5e.High,p4B));s05=Math.floor(d5Q.pixelFromPrice(u5e.Low,p4B)) - k0Y;n2i.strokeStyle=A_f;n2i.fillStyle=A_f;if(!P_C.inputs[X_P]){n2i.strokeRect(N37,k0Y,u1M,s05);n2i.globalAlpha=0.2;}else {n2i.globalAlpha=0.3;}n2i.fillRect(N37,k0Y,u1M,s05);n2i.globalAlpha=1;y3R=!1;}}}if(W1H){F3o.w7b(42);var X6r=F3o.O80(38,14,13,712);s8i=Math.floor(d5Q.pixelFromBar(b49,p4B.chart) + y45 / X6r) - U7P;n2i.strokeStyle=L6t;n2i.fillStyle=L6t;if(!P_C.inputs["Stop Levels"]){n2i.beginPath();F3o.w7b(21);n2i.moveTo(F3o.O80(s8i,2,U7P),k1_);n2i.lineTo(U7P,k1_);F3o.O3H(2);n2i.lineTo(U7P,F3o.o4m(K8Q,k1_));F3o.w7b(21);n2i.lineTo(F3o.O80(s8i,2,U7P),F3o.o4m(K8Q,k1_,F3o.w7b(2)));n2i.stroke();n2i.globalAlpha=0.2;}else {n2i.globalAlpha=0.3;}F3o.O3H(132);n2i.fillRect(U7P,k1_,F3o.O80(s8i,"2"),K8Q);n2i.globalAlpha=1;}if(y3R){n2i.strokeStyle=A_f;n2i.fillStyle=A_f;if(!P_C.inputs["Stop Levels"]){n2i.strokeRect(N37,k0Y,u1M,s05);F3o.O3H(6);n2i.globalAlpha=F3o.O80("0.2",0);}else {n2i.globalAlpha=0.3;}U1d=-1196822052;p5v=+"1762624585";N44=2;for(var c0a=1;F3o.U7z(c0a.toString(),c0a.toString().length,+"51037") !== U1d;c0a++){n2i.fillRect(N37,k0Y,u1M,s05);N44+=2;}if(F3o.d8W(N44.toString(),N44.toString().length,13112) !== p5v){n2i.fillRect(N37,k0Y,u1M,s05);}n2i.globalAlpha=1;}if(W1H || y3R){B8J="S";B8J+="top ";B8J+="Levels";if(P_C.inputs[B8J]){if(n2i.setLineDash){F3o.w7b(7);n2i.setLineDash([F3o.o4m(1,"2"),2]);}n2i.lineWidth=2;n2i.strokeStyle=q1C;g5r=Math.floor(d5Q.pixelFromBar(b49 - +"1",p4B.chart) + y45 / 2);if(R9n){n2i.beginPath();n2i.moveTo(g5r,R9n);n2i.lineTo(W1H?U7P + 2 * s8i:N37 + u1M,R9n);n2i.stroke();}if(S_E){n2i.beginPath();n2i.moveTo(g5r,S_E);n2i.lineTo(W1H?U7P + 2 * s8i:N37 + u1M,S_E);n2i.stroke();}if(n2i.setLineDash){n2i.setLineDash([]);}n2i.lineWidth=1;}W1H=!({});y3R=![];}d5Q.endClip();};L8m.Studies.studyLibrary=L8m.extend(L8m.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!![],calculateFN:L8m.Studies.calculateDarvas,seriesFN:L8m.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!!({}),"Stop Levels":!"1","Level Offset":+"0.01","Price Minimum":"5" << 32,"Volume Spike":![],"Volume % of Avg":400},outputs:{Darvas:X_l,Ghost:X8T,Levels:"auto"},customRemoval:!![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!!({})},flippedEnabled:{hidden:!![]}}}});}};k6=k8U=>{var q0R=B9olJ;var B_f,b4p,J5s,u6K,l_O,U7D,k0d;B_f=-1973978207;b4p=-540987269;J5s=2;for(var K7K=1;q0R.d8W(K7K.toString(),K7K.toString().length,37348) !== B_f;K7K++){u6K=~_CIQ === ""?_CIQ:k8U.CIQ;J5s+=+"2";}if(q0R.d8W(J5s.toString(),J5s.toString().length,87258) !== b4p){u6K=typeof _CIQ !== "undefined"?_CIQ:k8U.CIQ;}if(!u6K.Studies){l_O="detrended feature requires first";l_O+=" activating studie";l_O+="s feature.";console.error(l_O);}else {U7D="m";U7D+="a";k0d="fi";k0d+="e";k0d+="ld";u6K.Studies.calculateDetrendedPrice=function(I9O,p83){var S1F,a3Y,M1A,n$F,C$y,n2y,j3k;S1F="C";S1F+="lo";S1F+="s";S1F+="e";a3Y=p83.chart.scrubbed;if(a3Y.length < p83.days + 1){p83.error=!![];return;}M1A=p83.inputs.Field;if(!M1A || M1A == "field"){M1A=S1F;}n$F=Math.floor(p83.days / 2 + 1);u6K.Studies.MA(p83.inputs["Moving Average Type"],p83.days,M1A,-n$F,"MA",I9O,p83);for(var b4i=Math.max(p83.days - n$F - 1,p83.startFrom - n$F);b4i < a3Y.length - n$F;b4i++){C$y="o";C$y+="b";C$y+="je";C$y+="ct";if(b4i < 0)continue;n2y=a3Y[b4i][M1A];if(n2y && typeof n2y == C$y){n2y=n2y[p83.subField];}j3k=a3Y[b4i]["MA " + p83.name];if((n2y || n2y === 0) && (j3k || j3k === 0)){q0R.w7b(6);a3Y[b4i]["Result " + p83.name]=q0R.O80(n2y,j3k);}}};u6K.Studies.studyLibrary=u6K.extend(u6K.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:u6K.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:k0d,"Moving Average Type":U7D}}});}};X6=Q4U=>{var D55,e92;D55="unde";D55+="fine";D55+="d";e92=typeof _CIQ !== D55?_CIQ:Q4U.CIQ;if(!e92.Studies){console.error("disparity feature requires first activating studies feature.");}else {e92.Studies.calculateDisparity=function(z1Z,o8A){var I9i,B59,W3O,o8L,B_g;I9i="Cl";I9i+="o";I9i+="se";B59="f";B59+="i";B59+="eld";W3O=o8A.chart.scrubbed;if(W3O.length < o8A.days + 1){o8A.error=!![];return;}o8L=o8A.inputs.Field;if(!o8L || o8L == B59){o8L=I9i;}e92.Studies.MA(o8A.inputs["Moving Average Type"],o8A.days,o8L,0,"_MA",z1Z,o8A);B9olJ.y4d();for(var I86=Math.max(o8A.startFrom,o8A.days - 1);I86 < W3O.length;I86++){if(!W3O[I86])continue;B_g=W3O[I86]["_MA " + o8A.name];if(B_g){B9olJ.O3H(133);var l9R=B9olJ.o4m(2496,8,8,8,5);W3O[I86]["Result " + o8A.name]=("100" | l9R) * (W3O[I86][o8L] / B_g - ("1" ^ 0));}}};e92.Studies.studyLibrary=e92.extend(e92.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:e92.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};o9=r3n=>{var N0i=B9olJ;var X$e;N0i.B2i();X$e=typeof _CIQ !== "undefined"?_CIQ:r3n.CIQ;if(!X$e.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {X$e.Studies.calculateEaseOfMovement=function(R6f,a48){var p0m,e9p,X4S,h7R,p6u,K3F,v7H,q4U;p0m="Res";p0m+="ult";e9p=a48.chart.scrubbed;if(e9p.length < a48.days){a48.error=!!"1";return;}for(var s8q=Math.max(1,a48.startFrom);s8q < e9p.length;s8q++){X4S="_EO";X4S+="M";X4S+="1";X4S+=" ";h7R=(e9p[s8q].High + e9p[s8q].Low) / +"2";N0i.w7b(2);var O$B=N0i.o4m(1,0);N0i.O3H(6);var j97=N0i.O80(4,3);N0i.w7b(134);var y$n=N0i.O80(8,20,2,7,2);p6u=(e9p[s8q - O$B].High + e9p[s8q - j97].Low) / y$n;N0i.w7b(6);K3F=N0i.O80(h7R,p6u);N0i.w7b(135);var K5U=N0i.O80(12,5,600000000,7099999820,20);v7H=e9p[s8q].Volume / K5U / (e9p[s8q].High - e9p[s8q].Low);N0i.w7b(9);q4U=N0i.o4m(v7H,K3F);if(!isFinite(q4U)){e9p[s8q][X4S + a48.name]=NaN;}else {e9p[s8q]["_EOM1 " + a48.name]=q4U;}}X$e.Studies.MA(a48.inputs["Moving Average Type"],a48.days,"_EOM1 " + a48.name,0,p0m,R6f,a48);};X$e.Studies.studyLibrary=X$e.extend(X$e.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:X$e.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};m5=t3Z=>{var o0V=B9olJ;var u5l,M2w,V1N,F1x,l3o,I$B,j_i;u5l=546388280;M2w=571618998;V1N=2;for(var R8P=1;o0V.d8W(R8P.toString(),R8P.toString().length,57390) !== u5l;R8P++){F1x="unde";F1x+="fined";l3o=typeof _CIQ !== F1x?_CIQ:t3Z.CIQ;V1N+=2;}if(o0V.d8W(V1N.toString(),V1N.toString().length,12003) !== M2w){l3o=~_CIQ != ""?_CIQ:t3Z.CIQ;}if(!l3o.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {I$B="#";I$B+="FF0000";j_i="Ehler Fish";j_i+="e";j_i+="r Transform";l3o.Studies.calculateEhlerFisher=function(T8h,l9L){var X4E,S$k,Z6W,d$N,m9F,k2H,P6m;X4E=l9L.chart.scrubbed;if(X4E.length < l9L.days + +"1"){l9L.error=!0;return;}S$k=0;if(l9L.startFrom > 1){o0V.w7b(136);var a8I=o0V.O80(18,5,1,4,8);S$k=X4E[l9L.startFrom - a8I]["_n " + l9L.name];}function b1V(c5g,A8C){var c_3,s$A,a_2;c_3=Number.MAX_VALUE;o0V.w7b(29);var T12=o0V.O80(129,16,8,18);s$A=Number.MAX_VALUE * T12;for(var n00=A8C - c5g + +"1";n00 <= A8C;n00++){o0V.O3H(137);var k1S=o0V.O80(9,17,7,1,17);a_2=(X4E[n00].High + X4E[n00].Low) / k1S;c_3=Math.min(c_3,a_2);s$A=Math.max(s$A,a_2);}return [c_3,s$A];}for(var w80=l9L.startFrom;w80 < X4E.length;w80++){Z6W="_n";Z6W+=" ";d$N=X4E[w80];if(d$N.futureTick)break;if(w80 < l9L.days - ("1" << 32)){m9F="E";m9F+="F Trigger ";d$N["EF " + l9L.name]=d$N[m9F + l9L.name]=S$k;continue;}k2H=b1V(l9L.days,w80);o0V.O3H(138);var i5Q=o0V.o4m(7,0,4,12,13);o0V.O3H(139);var X8j=o0V.O80(7,75,9,2,18);S$k=0.33 * i5Q * (((X4E[w80].High + X4E[w80].Low) / +"2" - k2H["0" | 0]) / Math.max(0.000001,k2H[X8j] - k2H[0]) - 0.5) + 0.67 * S$k;if(S$k > 0){S$k=Math.min(S$k,0.9999);}else if(S$k < 0){S$k=Math.max(S$k,-0.9999);}P6m=w80?X4E[w80 - 1]["EF " + l9L.name]:0;o0V.w7b(4);var d4x=o0V.O80(11,0,10);o0V.O3H(6);var d_G=o0V.O80(13,12);d$N["EF " + l9L.name]=+"0.5" * Math.log((d4x + S$k) / (d_G - S$k)) + 0.5 * P6m;d$N["EF Trigger " + l9L.name]=P6m;d$N[Z6W + l9L.name]=S$k;}};l3o.Studies.studyLibrary=l3o.extend(l3o.Studies.studyLibrary,{"Ehler Fisher":{name:j_i,calculateFN:l3o.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":I$B}}});}};E_=Y$f=>{var S5_=B9olJ;S5_.B2i();var z2c,L5A,Z88,r_$,j5M,g7l,v75;z2c="undefin";z2c+="ed";L5A=typeof _CIQ !== z2c?_CIQ:Y$f.CIQ;if(!L5A.Studies){Z88="elder fea";Z88+="ture";Z88+=" requires first activati";Z88+="ng studies feature.";console.error(Z88);}else {r_$="#5F";r_$+="7";r_$+="CB8";j5M="Eld";j5M+="er Impulse ";j5M+="Sys";j5M+="tem";g7l="#";g7l+="00DD";g7l+="00";v75="E";v75+="lder Force Index";L5A.Studies.calculateElderImpulse=function(r8r,C44){var V0Z,S4r,P4f,u4N,D9u,r2_,K9J,v2I,t7X,e3n;V0Z="C";V0Z+="lose";S4r=C44.chart.scrubbed;P4f=C44.outputs.Bullish;u4N=C44.outputs.Bearish;D9u=C44.outputs.Neutral;S5_.w7b(43);L5A.Studies.MA("exponential",13,V0Z,S5_.O80("0",0),"_MA",r8r,C44);C44.macd=new L5A.Studies.StudyDescriptor("_" + C44.name,"macd",C44.panel);C44.macd.chart=C44.chart;C44.macd.days=C44.days;C44.macd.startFrom=C44.startFrom;C44.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};C44.macd.outputs={_MACD:null,_Signal:null};L5A.Studies.calculateMACD(r8r,C44.macd);for(var A9h=C44.startFrom;A9h < S4r.length;A9h++){K9J="_h";K9J+="i";K9J+="s";K9J+="t";v2I="_MA";v2I+=" ";t7X="_";t7X+="M";t7X+="A";t7X+=" ";e3n="_";e3n+="M";e3n+="A";e3n+=" ";if(A9h === 0){r2_=D9u;}else if(S4r[A9h][e3n + C44.name] > S4r[A9h - 1][t7X + C44.name] && S4r[A9h]["_" + C44.name + "_hist"] > S4r[A9h - 1][(6462 !== (1553,293.12)?"_":770.8 >= (778.69,5147)?(0x1e68,0x75a):0x92) + C44.name + "_hist"]){r2_=P4f;}else if(S4r[A9h]["_MA " + C44.name] < S4r[A9h - 1][v2I + C44.name] && S4r[A9h][((467,6480) > (+"317",78)?"_":(991.65,5034) < 4357?6.48e+3:![]) + C44.name + K9J] < S4r[A9h - 1]["_" + C44.name + "_hist"]){r2_=u4N;}else {r2_=D9u;}S4r[A9h]["Result " + C44.name]=r2_;}};L5A.Studies.calculateElderRay=function(f3H,P$n){var O97,c3f,I2n;O97=P$n.chart.scrubbed;if(O97.length < P$n.days){P$n.error=!![];return;}L5A.Studies.MA("exponential",P$n.days,"Close","0" - 0,"_EMA",f3H,P$n);for(var W5k=Math.max(P$n.startFrom,P$n.days - 1);W5k < O97.length;W5k++){c3f="_hi";c3f+="s";c3f+="t2";I2n="_hi";I2n+="s";I2n+="t";I2n+="1";O97[W5k][P$n.name + I2n]=O97[W5k].High - O97[W5k]["_EMA " + P$n.name];O97[W5k][P$n.name + c3f]=O97[W5k].Low - O97[W5k]["_EMA " + P$n.name];}P$n.outputMap={};P$n.outputMap[P$n.name + "_hist1"]="";P$n.outputMap[P$n.name + "_hist2"]="";};L5A.Studies.calculateElderForce=function(J5O,K41){var z0w,p9s;z0w="expon";z0w+="en";z0w+="tial";p9s=K41.chart.scrubbed;if(p9s.length < K41.days){K41.error=!"";return;}for(var D46=Math.max(1,K41.startFrom);D46 < p9s.length;D46++){S5_.O3H(63);var N9Z=S5_.O80(10,7,0,8,3);p9s[D46]["_EF1 " + K41.name]=p9s[D46].Volume * (p9s[D46].Close - p9s[D46 - N9Z].Close);}S5_.y4d();L5A.Studies.MA(z0w,K41.days,"_EF1 " + K41.name,0,"Result",J5O,K41);};L5A.Studies.initElderImpulse=function(b0v,t_a,u$8,s7A,Q9D,l9G){var C4o,l2G;C4o=L5A.Studies.initializeFN(b0v,t_a,u$8,s7A,Q9D,l9G);if(!Q9D.calculateOnly){l2G="col";l2G+="ored";l2G+="_bar";b0v.chart.customChart={chartType:l2G,colorFunction:function(K$N,E8a,N3S){var y5C;y5C=E8a["Result " + C4o.name];if(y5C && typeof y5C == "object"){y5C=y5C.color;}return y5C;}};b0v.setMainSeriesRenderer();}return C4o;};L5A.Studies.displayElderForce=function(Y3b,z6R,u8x){var B1o,y_2,t89,H7P,v0q;B1o="Re";B1o+="sult ";L5A.Studies.displaySeriesAsLine(Y3b,z6R,u8x);y_2=L5A.Studies.determineColor(z6R.outputs.Result);t89=Y3b.panels[z6R.panel];S5_.y4d();H7P=z6R.getYAxis(Y3b);v0q={skipTransform:t89.name != z6R.chart.name,panelName:z6R.panel,band:B1o + z6R.name,threshold:0,color:y_2,yAxis:H7P};if(!z6R.highlight && Y3b.highlightedDraggable){v0q.opacity=0.3;}v0q.direction=1;L5A.preparePeakValleyFill(Y3b,v0q);v0q.direction=-1;L5A.preparePeakValleyFill(Y3b,v0q);};L5A.Studies.displayElderRay=function(B9V,o3a,B1M){var m1X,T8l,t0R,c0F,N8x,u8$,j1C;m1X=B9V.panels[o3a.panel];T8l=o3a.getContext(B9V);t0R=o3a.getYAxis(B9V);c0F=B9V.pixelFromPrice(0,m1X,t0R);N8x=B9V.layout.candleWidth - 2;if(N8x < 2){N8x=1;}B9V.canvasColor("stx_histogram");u8$=T8l.fillStyle;if(!o3a.underlay){T8l.globalAlpha=1;}B9V.startClip(o3a.panel);function x_m(w_6,t5r,g8N,g2J){T8l.fillStyle=L5A.Studies.determineColor(o3a.outputs[g8N]);T8l.fillRect(Math.floor(B9V.pixelFromBar(w_6,m1X.chart) - N8x / 2 + N8x * t5r),Math.floor(c0F),Math.floor(N8x * (1 - +"2" * t5r)),Math.floor(B9V.pixelFromPrice(j1C[o3a.name + g2J],m1X,t0R) - c0F));}if(!o3a.highlight && B9V.highlightedDraggable){T8l.globalAlpha*=0.3;}for(var F$e="0" >> 32;F$e < B1M.length;F$e++){j1C=B1M[F$e];if(!j1C)continue;if(j1C.candleWidth){N8x=Math.floor(Math.max(+"1",j1C.candleWidth - 2));}if(j1C[o3a.name + "_hist1"] > 0){x_m(F$e,0,"Elder Bull Power","_hist1");}if(j1C[o3a.name + "_hist2"] < 0){x_m(F$e,0,"Elder Bear Power","_hist2");}if(j1C[o3a.name + "_hist1"] < 0){x_m(F$e,0.1,"Elder Bull Power","_hist1");}if(j1C[o3a.name + "_hist2"] > +"0"){x_m(F$e,0.1,"Elder Bear Power","_hist2");}}B9V.endClip();T8l.fillStyle=u8$;};L5A.Studies.studyLibrary=L5A.extend(L5A.Studies.studyLibrary,{"Elder Force":{name:v75,calculateFN:L5A.Studies.calculateElderForce,seriesFN:L5A.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:L5A.Studies.displayElderRay,calculateFN:L5A.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":g7l,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:j5M,calculateFN:L5A.Studies.calculateElderImpulse,initializeFN:L5A.Studies.initElderImpulse,seriesFN:null,customRemoval:!!({}),underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:r_$},removeFN:function(L08,j3m){L08.chart.customChart=null;L08.setMainSeriesRenderer();}}});}};T6=r5C=>{var T3x=B9olJ;T3x.B2i();var D3r,D1Z;D3r=typeof _CIQ !== "undefined"?_CIQ:r5C.CIQ;if(!D3r.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {D1Z="a";D1Z+="uto";D3r.Studies.calculateFractalChaos=function(t85,D24){var S$R,c5X,K9b,Y_F,k6_,n52,R8y,M_3,H4D;S$R=D24.chart.scrubbed;T3x.O3H(25);c5X=T3x.O80("0",64);K9b=0;Y_F=0;if(D24.startFrom && D24.type == "Fractal Chaos Bands"){k6_="Fra";k6_+="cta";k6_+="l High ";T3x.w7b(6);var V9R=T3x.O80(4,3);c5X=S$R[D24.startFrom - V9R][k6_ + D24.name];T3x.O3H(2);var u6D=T3x.o4m(1,0);K9b=S$R[D24.startFrom - u6D]["Fractal Low " + D24.name];}for(var F28=Math.max(4,D24.startFrom);F28 < S$R.length;F28++){if(S$R[F28].futureTick)break;n52=!isNaN(S$R[F28].High);R8y=!isNaN(S$R[F28].Low);if(n52 || R8y){S$R[F28]["Result " + D24.name]=0;}Y_F=0;for(M_3="0" * 1;M_3 <= F28;M_3++){if(!S$R[F28 - M_3])break;if(S$R[F28 - M_3].High > S$R[F28 - ("2" >> 0)].High)break;if(M_3 < 2 && S$R[F28 - M_3].High == S$R[F28 - 2].High)break;if(S$R[F28 - M_3].High < S$R[F28 - 2].High){Y_F++;}if(Y_F == 4){c5X=S$R[F28 - ("2" << 32)].High;break;}}if(D24.type == "Fractal Chaos Bands"){if(n52){S$R[F28]["Fractal High " + D24.name]=c5X > 0?c5X:null;}}else if(Y_F == 4){S$R[F28]["Result " + D24.name]=1;}Y_F=0;for(M_3=0;M_3 <= F28;M_3++){if(!S$R[F28 - M_3])break;if(S$R[F28 - M_3].Low < S$R[F28 - 2].Low)break;if(M_3 < 2 && S$R[F28 - M_3].Low == S$R[F28 - 2].Low)break;if(S$R[F28 - M_3].Low > S$R[F28 - 2].Low){Y_F++;}if(Y_F == 4){K9b=S$R[F28 - 2].Low;break;}}if(D24.type == "Fractal Chaos Bands"){if(R8y){S$R[F28]["Fractal Low " + D24.name]=K9b > 0?K9b:null;}}else if(Y_F == +"4"){H4D="Re";H4D+="su";H4D+="lt";H4D+=" ";S$R[F28][H4D + D24.name]=-1;}}};D3r.Studies.studyLibrary=D3r.extend(D3r.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:D3r.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!!({}),calculateFN:D3r.Studies.calculateFractalChaos,seriesFN:D3r.Studies.displayChannel,inputs:{"Channel Fill":!![]},outputs:{"Fractal High":"auto","Fractal Low":D1Z,"Fractal Channel":"auto"}}});}};C$=l9K=>{var R0L;R0L=typeof _CIQ !== "undefined"?_CIQ:l9K.CIQ;if(!R0L.Studies){console.error("GoNoGo - Trend study requires first activating studies feature.");}else {(function g1J(){var f_a=B9olJ;var t38,G1$,C3B,O_d,b_7,Y$O,i3i;function Q7H(N9_,A2A,O4N,F$3,E0G,T_1,D0G){f_a.y4d();R0L.Studies.MA(E0G,O4N,T_1,F$3,D0G,N9_,A2A);}function o6M(N$V,M7d,U9T,s9A,M5H,s24){f_a.y4d();var a1n;a1n=new R0L.Studies.StudyDescriptor(s24,"PSAR",M7d.panel,{"Minimum AF":U9T,"Maximum AF":s9A});a1n.startFrom=M7d.startFrom;a1n.chart=M7d.chart;R0L.Studies.calculatePSAR(N$V,a1n);}function A7A(t_r,Y2u,q07,k0H,j$b){var O50,l9y;O50="Mome";O50+="n";O50+="tum";f_a.O3H(124);var c2K=f_a.O80(3,20,13,8738,515521);f_a.w7b(140);var B8K=f_a.o4m(12,4249,4240,4,8498);f_a.w7b(82);var R7I=f_a.o4m(8,3092,386);f_a.O3H(141);var n2o=f_a.o4m(4839,4839,4849);f_a.O3H(131);var g5O=f_a.O80(16,12560,11004,2);f_a.w7b(4);var a66=f_a.O80(11,6752,4);l9y=new R0L.Studies.StudyDescriptor(j$b + (c2K !== (B8K,617.83)?" ":(R7I,n2o) <= g5O?a66:("P",!!"1")) + Y2u.name,O50,Y2u.panel,{Field:k0H,Period:q07});l9y.days=q07;l9y.startFrom=Y2u.startFrom;l9y.parameters=Y2u.parameters;l9y.chart=Y2u.chart;R0L.Studies.calculateRateOfChange(t_r,l9y);}t38="#00";function y83(x6F,P7U){if(!x6F.chart || !x6F.chart.panel || x6F.chart.customChart && x6F.chart.customChart.chartType === O_d){return;}if(x6F.chart.customChart){b_7=x6F.chart.customChart;}x6F.chart.customChart={chartType:O_d,colorFunction:function(f3p,I6T,E_z){var z29,f5Y;z29=I6T[`Color ${P7U.name}`];if(z29 && typeof z29 === "object"){z29=z29.color;}f_a.y4d();f5Y="#0000";f5Y+="00";f5Y+="0";f5Y+="0";return z29 === "auto"?f3p.defaultColor:z29 || f5Y;}};x6F.setMainSeriesRenderer();}function K09(Z0J,T8w){var S7U,S$Y,P6Y,b1T,L2y,V4P,y1q,Z$B,h7B,c2A,y1v;S7U="m";S7U+="y";S7U+="m";S7U+="a";S$Y="C";S$Y+="lo";S$Y+="se";P6Y="s";P6Y+="m";P6Y+="a";if(T8w.disabled && B44(Z0J,T8w)){return;}b1T=T8w.chart.scrubbed;if(!Array.isArray(b1T)){return;}if(!w2i(Z0J)){B44(Z0J,T8w);return;}y83(Z0J,T8w);if(T8w.wasDisabled){f_a.O3H(43);T8w.startFrom=f_a.O80("0",0);T8w.wasDisabled=!!"";}A7A(Z0J,T8w,25,"Close","mtm");f_a.O3H(41);Q7H(Z0J,T8w,f_a.o4m("5",0),f_a.o4m("0",0),P6Y,"mtm " + T8w.name,"mtmavg");f_a.w7b(41);y7U(Z0J,T8w,f_a.O80("12",0),26,9,"ema","ema","Close","mymacd");Q7H(Z0J,T8w,50,0,"sma",S$Y,S7U);o6M(Z0J,T8w,0.2,0.2,0.2,"mysar");L2y=`Trend ${T8w.name}`;f_a.O3H(108);V4P=`${f_a.o4m("B","ll"," ","u")}${T8w.name}`;y1q=`Bear ${T8w.name}`;Z$B=`Color ${T8w.name}`;T8w.outputMap={};for(var H6i=T8w.startFrom;H6i < b1T.length;H6i++){h7B="ob";h7B+="j";h7B+="ect";c2A=b1T[H6i];if(!c2A || typeof c2A !== h7B){continue;}y1v=+"0";if(c2A.Close > c2A[`myma ${T8w.name}`]){y1v++;}if(c2A.Close > c2A[`Result mysar`]){y1v++;}if(c2A[`${"MAC" + "D mymac" + "d"}`] > 0 && c2A[`Signal mymacd`] > 0){y1v++;}if(c2A[`mtmavg ${T8w.name}`] > 0){y1v++;}c2A[L2y]=y1v;c2A[V4P]=0;c2A[y1q]=0;if(H6i > 0){if(c2A[L2y] > +"2.5" && b1T[H6i - 1][L2y] <= 2.5){c2A[V4P]=1;}if(c2A[L2y] < 2.0 && b1T[H6i - 1][L2y] >= 2.0){c2A[y1q]=-1;}}f_a.w7b(2);c2A[Z$B]=T8w.outputs[f_a.o4m(y1v,"Score ")];}}function B44(F3z,z0n){if(!F3z.chart || F3z.chart.customChart && F3z.chart.customChart.chartType !== O_d){return;}z0n.wasDisabled=!!1;F3z.chart.customChart=b_7;f_a.y4d();b_7=null;F3z.setMainSeriesRenderer();return !!({});}t38+="b";t38+="fff";G1$="#ee";function y7U(s7w,I6x,O2j,h4N,I_b,K3j,f9S,T7l,t3f){var q5t,i_T;q5t={"Fast MA Period":O2j,"Slow MA Period":h4N,"Signal Period":I_b,"Moving Average Type":K3j,"Signal MA Type":f9S,Field:T7l};i_T=new R0L.Studies.StudyDescriptor(t3f,"macd",I6x.panel,q5t);i_T.startFrom=I6x.startFrom;i_T.chart=I6x.chart;R0L.Studies.calculateMACD(s7w,i_T);}function v$L(B0d,r6b,u5S,X93,K_M,D0j){var S7v;if(!K_M.initialized){K_M.yaxisDisplayValue=null;K_M.initialized=!!1;}S7v=R0L.Studies.initializeFN(B0d,r6b,u5S,X93,K_M,D0j);if(K_M && !K_M.panelName && S7v && S7v.panel){K_M.panelName=S7v.panel;}if(K_M.calculateOnly){return S7v;}y83(B0d,S7v);S7v.checkDisabled=!0;return S7v;}G1$+="82ee";function w2i(r3s){var e$g,K0N,y5Q,y7$,y6S;e$g="ren";e$g+="ko";K0N="pa";K0N+="n";K0N+="df";y5Q=!0;y7$=r3s.layout.aggregationType;if(y7$ !== i3i){Y$O=!![];}if(y7$ === "linebreak" || y7$ === "kagi" || y7$ === K0N || y7$ === e$g){y5Q=!({});i3i=y7$;if(Y$O){y6S="notific";y6S+="a";y6S+="t";y6S+="ion";r3s.dispatch(y6S,{message:O_d + " study is not compatible with aggregation type " + y7$ + (343.49 == (6016,+"310.04")?4.76e+3:91 > 797?674.11 != +"4101"?+"0x422":4.58e+2:"."),displayTime:3});Y$O=![];}}return y5Q;}C3B="#";C3B+="8";C3B+="08";C3B+="080";O_d="GoN";O_d+="oGo";b_7=null;Y$O=!"";f_a.y4d();i3i=null;R0L.Studies.studyLibrary=R0L.extend(R0L.Studies.studyLibrary,{"GoNoGo Trend":{name:"GoNoGo - Trend",overlay:!!"1",initializeFN:v$L,calculateFN:K09,seriesFN:R93,removeFN:B44,inputs:{},outputs:{Go:"#00ffff",NoGo:"#b500b5","Text Go":C3B,"Text NoGo":"#ffffff","Score 0":"#8b008b","Score 1":G1$,"Score 2":"#d2691e","Score 3":"#7fffd4","Score 4":t38},attributes:{yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!""},underlayEnabled:{hidden:!!"1"}}}});function R93(U0e,e84,U_l){var F1o,L$D,g_Y,F50,z5p,u3y,x_9,B2V,g38,c4E,b8z,x$k,h_A,l5Q,j4R,G_n,h0I,l91;F1o="G";F1o+="oNoGo";if(!Array.isArray(U_l)){return;}if(!w2i(U0e)){return;}L$D=U0e.panels[e84.panel];if(!L$D || e84.noDraw){return;}g_Y=`Bull ${e84.name}`;f_a.w7b(2);F50=`${f_a.O80("r ","Bea")}${e84.name}`;z5p=Math.min(16,Math.max(8,Math.round(U0e.layout.candleWidth)));u3y=R0L.Studies.determineColor(e84.outputs.Go);x_9=R0L.Studies.determineColor(e84.outputs.NoGo);B2V=R0L.Studies.determineColor(e84.outputs["Text Go"]);g38=R0L.Studies.determineColor(e84.outputs["Text NoGo"]);if(u3y === "auto"){u3y=U0e.defaultColor;}if(x_9 === "auto"){x_9=U0e.defaultColor;}if(B2V === "auto"){B2V=R0L.chooseForegroundColor(u3y);}if(g38 === "auto"){g38=R0L.chooseForegroundColor(x_9);}y83(U0e,e84,F1o);var {context:i5r}=U0e.chart;for(var i5A=0;i5A < U_l.length;i5A++){c4E=U_l[i5A];if(!c4E){continue;}if(c4E[g_Y] === 1 || c4E[F50] === -1){b8z="c";b8z+="e";b8z+="nter";f_a.O3H(87);var d8i=f_a.o4m(14,7,99);x$k=c4E[g_Y] === d8i;h_A=U0e.pixelFromBar(i5A);l5Q=x$k?U0e.pixelFromPrice(c4E.Low) + z5p:U0e.pixelFromPrice(c4E.High) - z5p;j4R=4;G_n=x$k?"Go":"NoGo";f_a.w7b(2);i5r.font=`${z5p}${f_a.O80("d Roboto, sans-serif","px bol")}`;var {width:f9B}=i5r.measureText(G_n);f_a.w7b(21);h0I=f_a.O80(2,j4R,f9B);f_a.O3H(21);l91=f_a.O80(2,j4R,z5p);i5r.fillStyle=x$k?u3y:x_9;f_a.w7b(47);i5r.fillRect(f_a.O80(2,h0I,h_A),f_a.O80(2,l91,l5Q),h0I,l91);i5r.fillStyle=x$k?B2V:g38;i5r.textAlign=b8z;i5r.textBaseline="middle";i5r.fillText(G_n,h_A,l5Q);}}}})();}};Y8=V_D=>{var z3t=B9olJ;z3t.y4d();var z$H,L9w,l0A,o8h,y2r,K4B,k4T,X5U,u3d,u7Q,h8Z,V7H;z$H=+"704733081";L9w=-381768958;l0A=2;for(var x1P=1;z3t.U7z(x1P.toString(),x1P.toString().length,65356) !== z$H;x1P++){o8h=typeof _CIQ !== "undefined"?_CIQ:V_D.CIQ;l0A+=2;}if(z3t.U7z(l0A.toString(),l0A.toString().length,+"57605") !== L9w){o8h=!_CIQ != ""?_CIQ:V_D.CIQ;}if(!o8h.Studies){y2r="highLowStudies feature ";y2r+="requires first activating studies ";y2r+="fea";y2r+="ture.";console.error(y2r);}else {K4B="High M";K4B+="inus Low";k4T="a";k4T+="u";k4T+="t";k4T+="o";X5U="Highest Hig";X5U+="h V";X5U+="alu";X5U+="e";u3d="Donchian Wi";u3d+="d";u3d+="th";u7Q="aut";u7Q+="o";h8Z="au";h8Z+="t";h8Z+="o";V7H="Do";V7H+="nchian Channel";o8h.Studies.calculateMaxHighMinLow=function(d7Q,r$T){var N$1,s2u,J_n,o2Q,g_K,s_8,O4L,n$l,Y$r,O5p,p6x,j$Y,f6x,r3L,K0I;N$1="L";N$1+="ow";N$1+=" ";N$1+="Period";s2u=r$T.chart.scrubbed;J_n=r$T.days;o2Q=r$T.days;if(r$T.inputs["High Period"]){J_n=r$T.inputs["High Period"];}if(r$T.inputs[N$1]){o2Q=r$T.inputs["Low Period"];}if(s2u.length < Math.max(J_n,o2Q) + ("1" - 0)){r$T.error=!![];return;}g_K=Number.MAX_VALUE;z3t.w7b(17);var E5Z=z3t.O80(6,5);s_8=Number.MAX_VALUE * E5Z;if(r$T.startFrom > +"1"){for(O4L=1;O4L < J_n;O4L++){if(r$T.startFrom - O4L >= 0){s_8=Math.max(s_8,s2u[r$T.startFrom - O4L].High);}}for(O4L=1;O4L < o2Q;O4L++){if(r$T.startFrom - O4L >= "0" << 64){g_K=Math.min(g_K,s2u[r$T.startFrom - O4L].Low);}}}for(var J$F=Math.max(0,r$T.startFrom - 1);J$F < s2u.length;J$F++){n$l="Wil";n$l+="l";n$l+="iam";n$l+="s %R";Y$r="D";Y$r+="onchian";Y$r+=" W";Y$r+="idth";O5p="L";O5p+="LV";p6x="H";p6x+="HV";s_8=Math.max(s_8,s2u[J$F].High);g_K=Math.min(g_K,s2u[J$F].Low);if(J$F >= J_n){if(s2u[J$F - J_n].High == s_8){s_8=s2u[J$F].High;for(O4L=1;O4L < J_n;O4L++){s_8=Math.max(s_8,s2u[J$F - O4L].High);}}}if(J$F >= o2Q){if(s2u[J$F - o2Q].Low == g_K){g_K=s2u[J$F].Low;for(O4L=1;O4L < o2Q;O4L++){g_K=Math.min(g_K,s2u[J$F - O4L].Low);}}}j$Y=0;if(r$T.type == p6x){j$Y=s_8;}else if(r$T.type == O5p){j$Y=g_K;}else if(r$T.type == Y$r){z3t.w7b(6);j$Y=z3t.o4m(s_8,g_K);}else if(r$T.type == "GAPO" || r$T.type == "Gopala"){j$Y=Math.log(s_8 - g_K) / Math.log(o2Q);}else if(r$T.type == "VT HZ Filter"){f6x="_MH";f6x+="ML ";z3t.O3H(6);j$Y=z3t.O80(s_8,g_K);s2u[J$F][f6x + r$T.name]=j$Y;continue;}else if(r$T.type == n$l){z3t.O3H(142);var d$Z=z3t.o4m(117,8,29,4);j$Y=d$Z * (s_8 - s2u[J$F].Close) / (s_8 - g_K);s2u[J$F]["Result " + r$T.name]=j$Y;continue;}if(J$F == s2u.length - 1)break;if(!s2u[J$F + 1].futureTick){r3L="D";r3L+="onch";r3L+="ian Channel";if(r$T.type == r3L){K0I="Donchian H";K0I+="i";K0I+="gh ";z3t.O3H(2);s2u[z3t.O80(1,J$F)][K0I + r$T.name]=s_8;z3t.O3H(2);s2u[z3t.o4m(1,J$F)]["Donchian Low " + r$T.name]=g_K;z3t.w7b(2);s2u[z3t.o4m(1,J$F)]["Donchian Median " + r$T.name]=z3t.O80(g_K,s_8,2,z3t.w7b(3));}else {z3t.w7b(2);s2u[z3t.o4m(1,J$F)]["Result " + r$T.name]=j$Y;}}}};o8h.Studies.calculateVerticalHorizontalFilter=function(t0W,y$w){var K7W,u2Q,q68,r5m,S6g;K7W=y$w.chart.scrubbed;if(K7W.length < y$w.days + 1){y$w.error=!"";return;}y$w.mhml=new o8h.Studies.StudyDescriptor(y$w.name,y$w.type,y$w.panel);y$w.mhml.chart=y$w.chart;y$w.mhml.days=y$w.days;y$w.mhml.startFrom=y$w.startFrom;y$w.mhml.inputs={};y$w.mhml.outputs={_MHML:null};o8h.Studies.calculateMaxHighMinLow(t0W,y$w.mhml);u2Q=0;q68=[];for(var g0n=Math.max(1,y$w.startFrom - y$w.days);g0n < K7W.length;g0n++){r5m=Math.abs(K7W[g0n].Close - K7W[g0n - +"1"].Close);q68.push(r5m);u2Q+=r5m;if(q68.length == y$w.days){S6g="Res";S6g+="ult ";K7W[g0n][S6g + y$w.name]=K7W[g0n]["_MHML " + y$w.name] / u2Q;u2Q-=q68.shift();}}};o8h.Studies.studyLibrary=o8h.extend(o8h.Studies.studyLibrary,{"Donchian Channel":{name:V7H,overlay:!0,calculateFN:o8h.Studies.calculateMaxHighMinLow,seriesFN:o8h.Studies.displayChannel,inputs:{"High Period":20,"Low Period":"20" >> 64,"Channel Fill":!!"1"},outputs:{"Donchian High":h8Z,"Donchian Median":"auto","Donchian Low":u7Q}},"Donchian Width":{name:u3d,calculateFN:o8h.Studies.calculateMaxHighMinLow,inputs:{"High Period":+"20","Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:o8h.Studies.calculateMaxHighMinLow},HHV:{name:X5U,calculateFN:o8h.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:o8h.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:o8h.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:-20,studyOverBoughtColor:k4T,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:o8h.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:K4B,calculateFN:function(c6C,J1m){var K8W;K8W=J1m.chart.scrubbed;for(var T0e=J1m.startFrom;T0e < K8W.length;T0e++){K8W[T0e]["Result " + J1m.name]=K8W[T0e].High - K8W[T0e].Low;}},inputs:{}}});}};D5=y3f=>{var T0X,X54;T0X=typeof _CIQ !== "undefined"?_CIQ:y3f.CIQ;if(!T0X.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {X54="#00";X54+="FF00";T0X.Studies.calculateIchimoku=function(L$h,W9Q){var S4g=B9olJ;var n9v,D40,i$4,R9o,j9d,c5a,H0R,s0N,N$o,N81,V58,k1r,i7x,r5q;n9v=2101996451;D40=-81949088;i$4=2;for(var N9v="1" ^ 0;S4g.d8W(N9v.toString(),N9v.toString().length,66410) !== n9v;N9v++){R9o="Conversion ";R9o+="Li";R9o+="ne Period";j9d=W9Q.chart.scrubbed;c5a={Base:Number(W9Q.inputs[R9o]),Conv:Number(W9Q.inputs["Leading Span B Period"]),LeadB:Number(W9Q.inputs["Leading Span B Period"]),Lag:Number(W9Q.inputs["Leading Span B Period"])};S4g.w7b(6);i$4+=S4g.O80("2",0);}function Z26(v1w,K5N){var p00,d6v;p00=Number.MAX_VALUE;d6v=Number.MAX_VALUE * -("1" ^ 0);S4g.B2i();for(var z9s=K5N - v1w + 1;z9s <= K5N;z9s++){if(z9s < 0)continue;p00=Math.min(p00,j9d[z9s].Low);d6v=Math.max(d6v,j9d[z9s].High);}return [p00,d6v];}if(S4g.d8W(i$4.toString(),i$4.toString().length,81657) !== D40){H0R="Leading Sp";H0R+="a";H0R+="n B Period";j9d=W9Q.chart.scrubbed;c5a={Base:Number(W9Q.inputs["Base Line Period"]),Conv:Number(W9Q.inputs["Conversion Line Period"]),LeadB:Number(W9Q.inputs[H0R]),Lag:Number(W9Q.inputs["Lagging Span Period"])};}for(s0N=W9Q.startFrom;s0N < j9d.length;s0N++){N81="Lagging ";N81+="Span ";if(!j9d[s0N])continue;N$o=Z26(c5a.Conv,s0N);S4g.w7b(32);var O9E=S4g.o4m(15,5,3,3,3);j9d[s0N]["Conversion Line " + W9Q.name]=(N$o[1] + N$o[0]) / O9E;N$o=Z26(c5a.Base,s0N);S4g.w7b(89);var c96=S4g.o4m(3,15,19);S4g.w7b(143);var L_T=S4g.o4m(7,7,7,16,21);j9d[s0N]["Base Line " + W9Q.name]=(N$o[c96] + N$o[0]) / L_T;if(s0N < c5a.Lag)continue;j9d[s0N - c5a.Lag][N81 + W9Q.name]=j9d[s0N].Close;}V58=[];for(s0N=Math.max(+"0",W9Q.startFrom - c5a.Base);s0N < j9d.length;s0N++){N$o=Z26(c5a.LeadB,s0N);S4g.w7b(1);var F8H=S4g.o4m(5,23,5);k1r=(j9d[s0N]["Conversion Line " + W9Q.name] + j9d[s0N]["Base Line " + W9Q.name]) / F8H;S4g.O3H(17);var d0h=S4g.o4m(18,19);S4g.O3H(2);var G0u=S4g.o4m(2,0);i7x=(N$o[d0h] + N$o[0]) / G0u;if(j9d[s0N + c5a.Base]){j9d[s0N + c5a.Base]["Leading Span A " + W9Q.name]=k1r;j9d[s0N + c5a.Base]["Leading Span B " + W9Q.name]=i7x;}else {r5q={};r5q["Leading Span A " + W9Q.name]=k1r;r5q["Leading Span B " + W9Q.name]=i7x;V58.push(r5q);}}W9Q.appendFutureTicks(L$h,V58);};T0X.Studies.displayIchimoku=function(s33,U0f,a6b){var R8p,B0C,U3E,a_w,J1j,S0t,p7F,o1q,J7V;B9olJ.B2i();R8p="Leading Sp";R8p+="an B ";B0C="Leadi";B0C+="ng";B0C+=" Sp";B0C+="an A ";U3E=B0C + U0f.name;a_w=R8p + U0f.name;J1j=T0X.Studies.determineColor(U0f.outputs[U0f.outputMap[U3E]]);S0t=T0X.Studies.determineColor(U0f.outputs[U0f.outputMap[a_w]]);p7F=s33.panels[U0f.panel];o1q=U0f.getYAxis(s33);J7V={topBand:U3E,bottomBand:a_w,topColor:J1j,bottomColor:S0t,skipTransform:p7F.name != U0f.chart.name,topAxis:o1q,bottomAxis:o1q,opacity:0.3};if(!U0f.highlight && s33.highlightedDraggable){J7V.opacity*=0.3;}T0X.fillIntersecting(s33,U0f.panel,J7V);T0X.Studies.displaySeriesAsLine(s33,U0f,a6b);};T0X.Studies.studyLibrary=T0X.extend(T0X.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!!1,calculateFN:T0X.Studies.calculateIchimoku,seriesFN:T0X.Studies.displayIchimoku,inputs:{"Conversion Line Period":"9" - 0,"Base Line Period":+"26","Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":X54,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};W1=H3j=>{var N_n=B9olJ;N_n.y4d();var c$8,w74,X6T;c$8=typeof _CIQ !== "undefined"?_CIQ:H3j.CIQ;if(!c$8.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {w74="a";w74+="uto";X6T="a";X6T+="ut";X6T+="o";c$8.Studies.calculateIntradayMomentum=function(T45,A6D){var O85,i78,Z17,I98,Q_t,S1K,S$V,l_M;O85=A6D.chart.scrubbed;i78=A6D.days;N_n.B2i();if(O85.length < i78 + 1){A6D.error=!!"1";return;}Z17=0;I98=0;if(A6D.startFrom > ("1" | 1)){Q_t="_t";Q_t+="otUp";Q_t+=" ";N_n.w7b(42);var W82=N_n.o4m(4,2,5,17);Z17=O85[A6D.startFrom - W82][Q_t + A6D.name];N_n.O3H(144);var X1U=N_n.o4m(19,4,23,19,19);I98=O85[A6D.startFrom - X1U]["_totDn " + A6D.name];}for(var W58=A6D.startFrom;W58 < O85.length;W58++){S1K="_to";S1K+="tUp ";S$V=O85[W58].Close - O85[W58].Open;if(S$V > "0" << 32){Z17+=S$V;}else {I98-=S$V;}if(W58 >= i78){l_M=O85[W58 - i78].Close - O85[W58 - i78].Open;if(l_M > +"0"){Z17-=l_M;}else {I98+=l_M;}}N_n.O3H(145);O85[W58]["Result " + A6D.name]=N_n.O80(Z17,"100",1,I98,Z17);O85[W58][S1K + A6D.name]=Z17;O85[W58]["_totDn " + A6D.name]=I98;}};c$8.Studies.studyLibrary=c$8.extend(c$8.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:c$8.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:70,studyOverBoughtColor:X6T,studyOverSoldValue:30,studyOverSoldColor:w74}}}});}};Q2=V8s=>{B9olJ.B2i();var z6n,O51;z6n=typeof _CIQ !== "undefined"?_CIQ:V8s.CIQ;if(!z6n.Studies){console.error("keltner feature requires first activating studies feature.");}else {O51="a";O51+="u";O51+="t";O51+="o";z6n.Studies.calculateKeltner=function(P8b,B07){var f_m,N3a,C2V;f_m="AT";f_m+="R";f_m+=" ";N3a="M";N3a+="A";C2V="C";C2V+="lose";z6n.Studies.MA(B07.inputs["Moving Average Type"],B07.days,C2V,0,N3a,P8b,B07);z6n.Studies.calculateStudyATR(P8b,B07);z6n.Studies.calculateGenericEnvelope(P8b,B07,B07.inputs.Shift,"MA " + B07.name,f_m + B07.name);};z6n.Studies.studyLibrary=z6n.extend(z6n.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!!({}),seriesFN:z6n.Studies.displayChannel,calculateFN:z6n.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!""},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":O51},attributes:{Shift:{min:+"0.1",step:0.1}}}});}};x7=f2p=>{var r9J,n6H,b2i,l2E;r9J="u";r9J+="ndefi";r9J+="ned";n6H=typeof _CIQ !== r9J?_CIQ:f2p.CIQ;if(!n6H.Studies){console.error("klinger feature requires first activating studies feature.");}else {b2i="#";b2i+="00DD00";l2E="a";l2E+="u";l2E+="t";l2E+="o";n6H.Studies.calculateKlinger=function(c2O,w7p){var e0u,T1Z,A3i,t5J,V0X,J1q,h$8,W4d,X1a,t9n,A6$,T7D,R5F,B8T,R00;e0u="Signal";B9olJ.y4d();e0u+=" Periods";T1Z="expon";T1Z+="entia";T1Z+="l";A3i=w7p.chart.scrubbed;t5J=Number(w7p.inputs["Short Cycle"]);V0X=Number(w7p.inputs["Long Cycle"]);if(A3i.length < Math.max(t5J,V0X) + 1){w7p.error=!!({});return;}J1q=w7p.name + "_hist";h$8="Klinger " + w7p.name;W4d="KlingerSignal " + w7p.name;X1a="_SV " + w7p.name;t9n="_EMA-S " + w7p.name;A6$="_EMA-L " + w7p.name;for(T7D=Math.max(1,w7p.startFrom);T7D < A3i.length;T7D++){R5F="hl";R5F+="c";R5F+="/3";B8T="h";B8T+="l";B8T+="c/";B8T+="3";R00=A3i[T7D].Volume;if(A3i[T7D][B8T] < A3i[T7D - +"1"][R5F]){B9olJ.O3H(25);R00*=-B9olJ.o4m("1",32);}if(R00){A3i[T7D][X1a]=R00;}}n6H.Studies.MA("exponential",t5J,X1a,0,"_EMA-S",c2O,w7p);n6H.Studies.MA(T1Z,V0X,X1a,0,"_EMA-L",c2O,w7p);for(T7D=Math.max(V0X,w7p.startFrom);T7D < A3i.length;T7D++){if(A3i[T7D].futureTick || A3i[T7D][t9n] === null || A3i[T7D][A6$] === null)break;A3i[T7D][h$8]=A3i[T7D][t9n] - A3i[T7D][A6$];}n6H.Studies.MA("exponential",Number(w7p.inputs[e0u]),h$8,0,"KlingerSignal",c2O,w7p);for(T7D=w7p.startFrom;T7D < A3i.length;T7D++){A3i[T7D][J1q]=A3i[T7D][h$8] - A3i[T7D][W4d];}w7p.outputMap[J1q]="";};n6H.Studies.studyLibrary=n6H.extend(n6H.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:n6H.Studies.displayHistogramWithSeries,calculateFN:n6H.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:l2E,KlingerSignal:"#FF0000","Increasing Bar":b2i,"Decreasing Bar":"#FF0000"}}});}};s5=K1V=>{var K66,q$b,w0M,y8a,t64,A2Q,W4k,Z1_,b27;K66="undefine";K66+="d";q$b=typeof _CIQ !== K66?_CIQ:K1V.CIQ;if(!q$b.Studies){w0M="linearRegression feature requires first activatin";w0M+="g s";w0M+="tudies feature.";console.error(w0M);}else {y8a="f";y8a+="ield";t64="Linea";t64+="r";t64+=" Reg Slope";A2Q="f";A2Q+="ie";A2Q+="ld";W4k="a";W4k+="u";W4k+="t";W4k+="o";Z1_="Tim";Z1_+="eSe";Z1_+="ri";Z1_+="es";b27="t";b27+="ime se";b27+="ries";q$b.Studies.prettify["time series"]="tsma";q$b.Studies.movingAverage.conversions.tsma="time series";q$b.Studies.movingAverage.translations["time series"]="Time Series";q$b.Studies.movingAverage.typeMap.tsma="TimeSeries";q$b.Studies.movingAverage.typeMap[b27]=Z1_;q$b.Studies.calculateMovingAverageTimeSeries=function(B_r,M$H){var M_u=B9olJ;var O_X,u_Z,O0R,J6V,T2C,G1E,P4Q,W1e,x57;M$H.ma=new q$b.Studies.StudyDescriptor(M$H.name,"ma",M$H.panel);M$H.ma.chart=M$H.chart;M$H.ma.days=M$H.days;M$H.ma.startFrom=M$H.startFrom;M$H.ma.inputs=M$H.inputs;q$b.Studies.calculateLinearRegressionIndicator(B_r,M$H.ma);O_X=M$H.name;for(var e$s in M$H.outputs){M_u.w7b(77);O_X=M_u.o4m((4550,3460) != 3640?" ":("8230" | 34) < (3490,897)?"p":(781,7.38e+3),O_X,e$s);}u_Z=parseInt(M$H.inputs.Offset,10);if(isNaN(u_Z)){u_Z=0;}O0R=M$H.chart.scrubbed;J6V=u_Z;for(var Q8J=M$H.startFrom - 1;Q8J >= 0;Q8J--){T2C=O0R[Q8J][O_X];if(!T2C && T2C !== 0)continue;if(J6V > 0){J6V--;continue;}break;}G1E=[];for(Q8J++;Q8J < O0R.length;Q8J++){P4Q=O0R[Q8J];if(Q8J + u_Z >= 0){W1e="Forecast";W1e+=" ";if(Q8J + u_Z < O0R.length){M_u.O3H(2);O0R[M_u.O80(u_Z,Q8J)][O_X]=P4Q[W1e + M$H.name];}else {x57={};x57[O_X]=P4Q["Forecast " + M$H.name];G1E.push(x57);}}}M$H.appendFutureTicks(B_r,G1E);};q$b.Studies.calculateLinearRegressionIndicator=function(X9Q,U4b){var K3n=B9olJ;var n2x,n1B,w4R,T_r,Q6W,o4I,f_I,q5m,u7R,H1X,M_T,I3X,w8a,e4b,C6Q,V$V,Q$G,r3q;n2x="Clo";n2x+="se";n1B=U4b.chart.scrubbed;K3n.y4d();if(n1B.length < U4b.days + 1){U4b.error=!![];return;}w4R=U4b.inputs.Field;if(!w4R || w4R == "field"){w4R=n2x;}K3n.w7b(146);var D4j=K3n.O80(13,5,13,4,16);K3n.w7b(105);var G$H=K3n.o4m(13,1,15);T_r=U4b.days * (U4b.days + D4j) / G$H;Q6W=Math.pow(T_r,+"2");K3n.w7b(17);var i$o=K3n.o4m(2,4);K3n.w7b(147);var a$J=K3n.O80(15,285,15,14,17);K3n.w7b(6);var M8O=K3n.O80(51,48);o4I=T_r * (i$o * U4b.days + a$J) / M8O;f_I=0;q5m=+"0";u7R=0;if(U4b.startFrom){H1X=n1B[U4b.startFrom - ("1" - 0)]["_sums " + U4b.name];if(H1X){q5m=H1X[0];f_I=H1X[1];u7R=H1X[2];}}for(var V1Q=U4b.startFrom;V1Q < n1B.length;V1Q++){M_T="_sum";M_T+="s ";I3X="Inter";I3X+="cept ";w8a=n1B[V1Q][w4R];if(w8a && typeof w8a == "object"){w8a=w8a[U4b.subField];}if(!w8a && w8a !== "0" - 0)continue;q5m+=U4b.days * w8a - f_I;f_I+=w8a;u7R+=Math.pow(w8a,2);if(V1Q < U4b.days - 1)continue;else if(V1Q > U4b.days - 1){e4b="objec";e4b+="t";C6Q=n1B[V1Q - U4b.days][w4R];if(C6Q && typeof C6Q == e4b){C6Q=C6Q[U4b.subField];}if(!C6Q && C6Q !== 0)continue;f_I-=C6Q;u7R-=Math.pow(C6Q,2);}V$V=(U4b.days * q5m - T_r * f_I) / (U4b.days * o4I - Q6W);n1B[V1Q]["Slope " + U4b.name]=V$V;Q$G=(f_I - V$V * T_r) / U4b.days;n1B[V1Q][I3X + U4b.name]=Q$G;n1B[V1Q]["Forecast " + U4b.name]=Q$G + V$V * U4b.days;K3n.w7b(30);var z1V=K3n.O80(10,12,11,8,88);r3q=(U4b.days * o4I - Q6W) / (U4b.days * u7R - Math.pow(f_I,z1V));K3n.w7b(148);n1B[V1Q]["RSquared " + U4b.name]=K3n.O80(V$V,V$V,r3q);n1B[V1Q][M_T + U4b.name]=[q5m,f_I,u7R];}};q$b.Studies.studyLibrary=q$b.extend(q$b.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!!1,calculateFN:q$b.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Forecast:W4k}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!"",calculateFN:q$b.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:A2Q},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:q$b.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" >> 64,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:t64,calculateFN:q$b.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:y8a},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!!({}),calculateFN:q$b.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};K2=P_4=>{var G6Z=B9olJ;G6Z.y4d();var c7X,L7a;c7X="und";c7X+="efine";c7X+="d";L7a=typeof _CIQ !== c7X?_CIQ:P_4.CIQ;if(!L7a.Studies){console.error("macd feature requires first activating studies feature.");}else {L7a.Studies.calculateMACD=function(A7Q,H$G){var W_V,O$J,Y2a,q0A,G6q,f$F,B2p,R4w,R1A,G7o,w6C,f1I,w6J,y2T,J0z,L1k;W_V="fi";W_V+="eld";O$J=H$G.chart.scrubbed;Y2a=H$G.inputs;q0A=H$G.name;if(!H$G.macd1Days){H$G.macd1Days=parseFloat(Y2a["Fast MA Period"]);}if(!H$G.macd2Days){H$G.macd2Days=parseFloat(Y2a["Slow MA Period"]);}if(!H$G.signalDays){H$G.signalDays=parseFloat(Y2a["Signal Period"]);}if(!H$G.days){H$G.days=Math.max(H$G.macd1Days,H$G.macd2Days,H$G.signalDays);}if(O$J.length < H$G.days + 1){H$G.error=!!({});return;}G6q=H$G.inputs.Field;if(!G6q || G6q == W_V){G6q="Close";}f$F=Y2a["Moving Average Type"];if(!f$F){f$F="exponential";}L7a.Studies.MA(f$F,H$G.macd1Days,G6q,0,"_MACD1",A7Q,H$G);L7a.Studies.MA(f$F,H$G.macd2Days,G6q,0,"_MACD2",A7Q,H$G);R1A=Math.max(H$G.startFrom,H$G.days - 1);for(B2p=R1A;B2p < O$J.length;B2p++){G7o="M";G7o+="AC";G7o+="D";G7o+=" ";w6C="_MAC";w6C+="D2";w6C+=" ";f1I="_M";f1I+="ACD1 ";R4w=O$J[B2p];if((R4w[f1I + q0A] || R4w["_MACD1 " + q0A] === 0) && (R4w[w6C + q0A] || R4w["_MACD2 " + q0A] === 0)){G6Z.w7b(2);R4w[G6Z.o4m(q0A,G7o)]=R4w["_MACD1 " + q0A] - R4w["_MACD2 " + q0A];}}w6J=Y2a["Signal MA Type"];if(!w6J){w6J="exponential";}L7a.Studies.MA(w6J,H$G.signalDays,"MACD " + q0A,0,"Signal",A7Q,H$G);G6Z.O3H(2);y2T=G6Z.o4m("_hist",q0A);for(B2p=R1A;B2p < O$J.length;B2p++){J0z="Sign";J0z+="al ";R4w=O$J[B2p];G6Z.w7b(2);L1k=R4w[G6Z.O80(q0A,J0z)];if(!L1k && L1k !== 0)continue;R4w[y2T]=R4w["MACD " + q0A] - R4w["Signal " + q0A];}H$G.outputMap[y2T]="";};L7a.Studies.studyLibrary=L7a.extend(L7a.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:L7a.Studies.calculateMACD,seriesFN:L7a.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};J4=j0a=>{var x1M=B9olJ;var Y3O,Y4K,N5E,e42;x1M.y4d();Y3O=typeof _CIQ !== "undefined"?_CIQ:j0a.CIQ;if(!Y3O.Studies){Y4K=-371152323;N5E=-849134759;x1M.O3H(6);e42=x1M.O80("2",0);for(var M61=1;x1M.d8W(M61.toString(),M61.toString().length,80206) !== Y4K;M61++){console.error("");e42+=2;}if(x1M.U7z(e42.toString(),e42.toString().length,32882) !== N5E){console.error("massIndex feature requires first activating studies feature.");}}else {Y3O.Studies.calculateMassIndex=function(l_k,o$z){var w7L,C_l,N8u,l5P,m$D,p2N;w7L="_Hi";w7L+="gh-";w7L+="Lo";w7L+="w ";C_l=o$z.chart.scrubbed;if(C_l.length < Math.max(9,o$z.days + 1)){o$z.error=!!({});return;}for(var t8C=o$z.startFrom;t8C < C_l.length;t8C++){C_l[t8C]["_High-Low " + o$z.name]=C_l[t8C].High - C_l[t8C].Low;}Y3O.Studies.MA("exponential",9,w7L + o$z.name,0,"_EMA",l_k,o$z);Y3O.Studies.MA("exponential",9,"_EMA " + o$z.name,0,"_EMA2",l_k,o$z);N8u=0;if(C_l[o$z.startFrom - 1] && C_l[o$z.startFrom - 1]["_total " + o$z.name]){N8u=C_l[o$z.startFrom - +"1"]["_total " + o$z.name];}for(var F9i=Math.max(17,o$z.startFrom);F9i < C_l.length;F9i++){l5P="_t";l5P+="ot";l5P+="al";l5P+=" ";m$D="_";m$D+="EM";m$D+="A2 ";N8u+=C_l[F9i]["_EMA " + o$z.name] / C_l[F9i][m$D + o$z.name];if(F9i >= ("17" ^ 0) + o$z.days - 1){p2N="Re";p2N+="sult";p2N+=" ";C_l[F9i][p2N + o$z.name]=N8u;x1M.O3H(53);var F_D=x1M.o4m(11,11,0,121);x1M.w7b(147);var t_V=x1M.O80(19,140,18,12,6);N8u-=C_l[F9i - o$z.days + F_D]["_EMA " + o$z.name] / C_l[F9i - o$z.days + t_V]["_EMA2 " + o$z.name];}C_l[F9i][l5P + o$z.name]=N8u;}};Y3O.Studies.displayMassIndex=function(E8y,f4_,l3H){var g30,k5M,E2l,G15,a57,s96;g30="Result";g30+=" ";Y3O.Studies.displaySeriesAsLine(E8y,f4_,l3H);k5M=f4_.inputs["Bulge Threshold"];E2l=E8y.panels[f4_.panel];G15=f4_.getYAxis(E8y);a57=Y3O.Studies.determineColor(f4_.outputs.Result);s96={skipTransform:E8y.panels[f4_.panel].name != f4_.chart.name,panelName:f4_.panel,band:g30 + f4_.name,threshold:k5M,direction:1,color:a57,yAxis:G15,opacity:+"0.3"};if(!f4_.highlight && E8y.highlightedDraggable){s96.opacity*=+"0.3";}Y3O.preparePeakValleyFill(E8y,s96);Y3O.Studies.drawHorizontal(E8y,f4_,null,k5M,G15,a57);};Y3O.Studies.studyLibrary=Y3O.extend(Y3O.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:Y3O.Studies.displayMassIndex,calculateFN:Y3O.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};c6=J0e=>{var c25=B9olJ;var t81,C$S,w_m,g2E,j3j;t81=1502393025;C$S=1780357366;w_m=2;for(var W8_="1" * 1;c25.U7z(W8_.toString(),W8_.toString().length,30402) !== t81;W8_++){g2E=typeof _CIQ !== "undefined"?_CIQ:J0e.CIQ;w_m+=2;}if(c25.U7z(w_m.toString(),w_m.toString().length,63813) !== C$S){g2E=-_CIQ == ""?_CIQ:J0e.CIQ;}if(!g2E.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {j3j="aut";j3j+="o";g2E.Studies.calculateMoneyFlowIndex=function(q8g,p7X){var R9Q,C_b,r2O,z49,e85,t$i,B80,w2Y,n21,k66,G1T,v1O,e9M;R9Q="_c";R9Q+="um";R9Q+="MF ";C_b=p7X.chart.scrubbed;if(C_b.length < p7X.days + 1){p7X.error=!![];return;}r2O=0;z49=0;c25.w7b(6);var j51=c25.O80(4,3);e85=C_b[p7X.startFrom - j51];t$i="_rawMF " + p7X.name;B80=R9Q + p7X.name;c25.y4d();w2Y="Result " + p7X.name;if(e85 && e85[B80]){c25.w7b(43);r2O=e85[B80][c25.O80("0",0)];z49=e85[B80][1];}for(var R$G=p7X.startFrom;R$G < C_b.length;R$G++){n21=C_b[R$G]["hlc/3"];if(R$G > 0 && !C_b[R$G].futureTick){k66="hlc/";k66+="3";c25.w7b(6);G1T=C_b[c25.o4m(R$G,1)][k66];v1O=n21 * C_b[R$G].Volume;if(n21 > G1T){r2O+=v1O;}else if(n21 < G1T){v1O*=-1;z49-=v1O;}else {v1O=0;}if(R$G > p7X.days){e9M=C_b[R$G - p7X.days][t$i];if(e9M > 0){r2O-=e9M;}else {z49+=e9M;}if(z49 === 0){C_b[R$G][w2Y]=100;}else if(C_b[R$G].Volume){c25.w7b(149);C_b[R$G][w2Y]=c25.O80(1,"100",z49,"100",r2O);}}C_b[R$G][t$i]=v1O;C_b[R$G][B80]=[r2O,z49];}}};g2E.Studies.studyLibrary=g2E.extend(g2E.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:g2E.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:j3j}}}});}};S$=Q3_=>{var i6u,b52,I6Z,k3y,m1e,d4C,X5O,v4a,J0k,L7i,z1L,x_N,L$$,S__;i6u="un";i6u+="defin";i6u+="ed";b52=typeof _CIQ !== i6u?_CIQ:Q3_.CIQ;if(!b52.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {I6Z="a";I6Z+="u";I6Z+="to";k3y="a";k3y+="u";k3y+="to";m1e="#";m1e+="F";m1e+="F0000";d4C="#0";d4C+="0DD00";X5O="m";X5O+="a";v4a="a";v4a+="u";v4a+="t";v4a+="o";J0k="Moving Average";J0k+=" Envelo";J0k+="p";J0k+="e";L7i="Hu";L7i+="ll";z1L="Double Exponent";z1L+="ia";z1L+="l";x_N="2-e";x_N+="xponent";x_N+="i";x_N+="al";L$$="tem";L$$+="a";S__="d";S__+="e";S__+="m";S__+="a";b52.Studies.prettify=b52.extend({"2-exponential":S__,"3-exponential":L$$,hull:"hma"},b52.Studies.prettify);b52.extend(b52.Studies.movingAverage,{conversions:{hma:"hull",dema:x_N,tema:"3-exponential"},translations:{hull:"Hull","2-exponential":z1L,"3-exponential":"Triple Exponential"},typeMap:{hma:L7i,hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});b52.Studies.calculateMovingAverageHull=function(I5K,T7y){var y06=B9olJ;var X1S,s4y,W_I,b43,q$4,s$t,I3h,h1D,N1T,B2u,A7g,X7E,l7T;X1S="_";X1S+="M";X1S+="MA ";s4y="_W";s4y+="MA1";W_I="Clo";W_I+="se";b43=T7y.chart.scrubbed;q$4=T7y.inputs.Field;if(!q$4 || q$4 == "field"){q$4=W_I;}b52.Studies.MA("wma",T7y.days,q$4,0,s4y,I5K,T7y);b52.Studies.MA("wma",Math.ceil(T7y.days / 2),q$4,0,"_WMA2",I5K,T7y);for(s$t=T7y.startFrom - "1" * 1;s$t >= 0;s$t--){I3h=b43[s$t][q$4];if(I3h && typeof I3h == "object"){I3h=I3h[T7y.subField];}if(I3h || I3h === +"0")break;}for(s$t++;s$t < b43.length;s$t++){h1D="_";h1D+="WM";h1D+="A2";h1D+=" ";N1T=b43[s$t];y06.O3H(11);var t37=y06.O80(14,0,16);N1T["_MMA " + T7y.name]=t37 * N1T[h1D + T7y.name] - N1T["_WMA1 " + T7y.name];}B2u=parseInt(T7y.inputs.Offset,10);if(isNaN(B2u)){B2u=0;}A7g=Math.floor(Math.sqrt(T7y.days));b52.Studies.MA("wma",A7g,X1S + T7y.name,B2u,"_HMA",I5K,T7y);X7E=T7y.name;for(var o0S in T7y.outputs){y06.w7b(77);X7E=y06.O80(" ",X7E,o0S);}for(s$t=Math.max(T7y.days + A7g - 1,T7y.startFrom);s$t < b43.length;s$t++){l7T="_HMA";l7T+=" ";b43[s$t][X7E]=b43[s$t][l7T + T7y.name];}};b52.Studies.calculateMovingAverageDoubleExponential=function(a4t,V7g){var Z9b=B9olJ;var f33,l3x,U2T,n1p,G60,O6D,i71,e2J,h9J,a1k,z1_;f33=V7g.chart.scrubbed;l3x=V7g.inputs.Field;if(!l3x || l3x == "field"){l3x="Close";}b52.Studies.MA("ema",V7g.days,l3x,0,"_EMA1",a4t,V7g);b52.Studies.MA("ema",V7g.days,"_EMA1 " + V7g.name,0,"_EMA2",a4t,V7g);U2T=parseInt(V7g.inputs.Offset,10);if(isNaN(U2T)){U2T=0;}O6D=U2T;for(n1p=V7g.startFrom - +"1";n1p >= 0;n1p--){G60=f33[n1p][l3x];if(G60 && typeof G60 == "object"){G60=G60[V7g.subField];}if(!G60 && G60 !== 0)continue;if(O6D > 0){O6D--;continue;}break;}i71=V7g.name;for(var A3N in V7g.outputs){Z9b.w7b(77);i71=Z9b.O80(947 > (528.24,945)?(660.08,6700) === (4560,470.32)?(943.59,!({})):" ":!0,i71,A3N);}e2J=[];for(n1p++;n1p < f33.length;n1p++){if(n1p < 2 * (V7g.days - 1))continue;h9J=f33[n1p];Z9b.O3H(6);var Z8a=Z9b.o4m(15,13);a1k=Z8a * h9J["_EMA1 " + V7g.name] - h9J["_EMA2 " + V7g.name];if(n1p + U2T >= 0){if(n1p + U2T < f33.length){Z9b.O3H(2);f33[Z9b.o4m(U2T,n1p)][i71]=a1k;}else {z1_={};z1_[i71]=a1k;e2J.push(z1_);}}}V7g.appendFutureTicks(a4t,e2J);};b52.Studies.calculateMovingAverageTripleExponential=function(V0Y,Y89){var h5a=B9olJ;var V7c,t34,O7m,c2U,s$w,n59,W$n,c1j,I03,q90,B7$,p0s,s8R;V7c="e";V7c+="m";V7c+="a";t34=Y89.chart.scrubbed;O7m=Y89.inputs.Field;if(!O7m || O7m == "field"){O7m="Close";}b52.Studies.MA(V7c,Y89.days,O7m,0,"_EMA1",V0Y,Y89);b52.Studies.MA("ema",Y89.days,"_EMA1 " + Y89.name,0,"_EMA2",V0Y,Y89);b52.Studies.MA("ema",Y89.days,"_EMA2 " + Y89.name,0,"_EMA3",V0Y,Y89);c2U=parseInt(Y89.inputs.Offset,10);if(isNaN(c2U)){c2U=0;}W$n=c2U;for(s$w=Y89.startFrom - 1;s$w >= 0;s$w--){n59=t34[s$w][O7m];if(n59 && typeof n59 == "object"){n59=n59[Y89.subField];}if(!n59 && n59 !== 0)continue;if(W$n > +"0"){W$n--;continue;}break;}c1j=Y89.name;for(var G8C in Y89.outputs){h5a.O3H(77);c1j=h5a.O80(" ",c1j,G8C);}I03=[];for(s$w++;s$w < t34.length;s$w++){q90="_E";q90+="M";q90+="A2";q90+=" ";if(s$w < 3 * (Y89.days - +"1"))continue;B7$=t34[s$w];h5a.O3H(6);var l82=h5a.o4m(9,6);h5a.O3H(150);var q4G=h5a.o4m(9,13,1,9,16);p0s=l82 * B7$["_EMA1 " + Y89.name] - q4G * B7$[q90 + Y89.name] + B7$["_EMA3 " + Y89.name];if(s$w + c2U >= 0){if(s$w + c2U < t34.length){h5a.O3H(2);t34[h5a.O80(c2U,s$w)][c1j]=p0s;}else {s8R={};s8R[c1j]=p0s;I03.push(s8R);}}}Y89.appendFutureTicks(V0Y,I03);};b52.Studies.calculateMAEnvelope=function(Y5I,K$h){var P50,Y8P,k$V,U2d,q8F,u69;P50="p";P50+="e";P50+="rce";P50+="nt";Y8P="C";Y8P+="l";Y8P+="ose";k$V=K$h.inputs.Field;if(!k$V || k$V == "field"){k$V=Y8P;}b52.Studies.MA(K$h.inputs["Moving Average Type"],K$h.days,k$V,0,"MA",Y5I,K$h);U2d=K$h.inputs["Shift Type"];q8F=K$h.inputs.Shift;if(!U2d){U2d="percent";q8F=K$h.inputs["Shift Percentage"];}if(U2d == P50){u69="M";u69+="A";u69+=" ";B9olJ.O3H(9);b52.Studies.calculateGenericEnvelope(Y5I,K$h,B9olJ.O80(100,q8F),u69 + K$h.name);}else if(U2d == "points"){b52.Studies.calculateGenericEnvelope(Y5I,K$h,null,"MA " + K$h.name,null,Number(q8F));}};b52.Studies.calculateMADev=function(F2G,N0M){var d4L=B9olJ;var i7D,L58,P4w,i_h,m$U,X6d,u3X,K25,A95,z_I,A_7,W9a,Q2g;i7D="_h";i7D+="i";i7D+="s";i7D+="t";L58="P";L58+="o";L58+="in";L58+="ts";P4w="Cl";P4w+="os";P4w+="e";i_h=N0M.chart.scrubbed;if(i_h.length < N0M.days + 1){N0M.error=!!({});return;}m$U=N0M.inputs.Field;if(!m$U || m$U == "field"){m$U=P4w;}X6d=N0M.inputs["Points Or Percent"];if(!X6d){X6d=L58;}u3X=N0M.inputs["Moving Average Type"];if(!u3X){u3X="exponential";}b52.Studies.MA(u3X,N0M.days,m$U,0,"_MA",F2G,N0M);K25=N0M.name + i7D;for(var G79=Math.max(N0M.startFrom,N0M.days - 1);G79 < i_h.length;G79++){A95="_";A95+="MA ";z_I=i_h[G79];A_7=z_I[m$U];if(A_7 && typeof A_7 == "object"){A_7=A_7[N0M.subField];}W9a=z_I[A95 + N0M.name];if(W9a || W9a === 0){Q2g="Poi";Q2g+="nts";if(X6d == Q2g){d4L.O3H(6);z_I[K25]=d4L.o4m(A_7,W9a);}else {d4L.w7b(151);z_I[K25]=d4L.O80("100",A_7,0,1,W9a);}}}N0M.outputMap={};N0M.outputMap[N0M.name + "_hist"]="";};b52.Studies.calculateGMMA=function(d8u,Y4s){var k1s=B9olJ;var b$Y,m1y,p6Y,f_E,h8K,f_i;b$Y=-300368208;m1y=1043228547;p6Y=2;for(var b9X=1;k1s.U7z(b9X.toString(),b9X.toString().length,96783) !== b$Y;b9X++){f_E=Y4s.chart.scrubbed;k1s.w7b(43);h8K=[1,7,k1s.O80("6",2),73,95,98];k1s.w7b(69);f_i=[74,87,k1s.O80("68",0),38,41,+"42"];p6Y+=+"2";}if(k1s.U7z(p6Y.toString(),p6Y.toString().length,17689) !== m1y){f_E=Y4s.chart.scrubbed;k1s.w7b(69);h8K=[k1s.o4m("4",64),4,2,k1s.O80("66",0,k1s.O3H(6)),13,33];f_i=[85,99,+"21",29,57,71];}f_E=Y4s.chart.scrubbed;function I_l(H1R){k1s.y4d();return function(Z5O){k1s.w7b(2);b52.Studies.MA("ema",Z5O,"Close",0,k1s.o4m(Z5O,"MA "),d8u,Y4s);k1s.w7b(1);var p8h=k1s.o4m(405,1212,10);k1s.O3H(77);var N2R=k1s.o4m(14,4078,241);k1s.O3H(152);var w3m=k1s.O80(1,0,2253,3);k1s.O3H(141);var O91=k1s.o4m(1873,1,17);k1s.w7b(1);var Y3F=k1s.o4m(9442,56648,7);k1s.O3H(2);var y$c=k1s.o4m(18,2522);Y4s.outputMap["MA " + Z5O + ((p8h,N2R) >= (w3m,310.89)?("2223" | 0) !== (O91,Y3F)?(+"4790",+"424.92") !== ("3120" | 0)?" ":"s":("827.97" - 0,y$c):"z") + Y4s.name]=H1R;};}k1s.O3H(69);h8K=[3,k1s.O80("5",64),8,10,k1s.O80("12",0,k1s.w7b(6)),15];k1s.O3H(69);f_i=[30,35,40,45,k1s.O80("50",64),60];if(f_E.length < h8K[0]){Y4s.error=!0;return;}Y4s.outputMap={};h8K.forEach(I_l("Short Term"));f_i.forEach(I_l("Long Term"));};b52.Studies.studyLibrary=b52.extend(b52.Studies.studyLibrary,{"MA Env":{name:J0k,overlay:!![],seriesFN:b52.Studies.displayChannel,calculateFN:b52.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!!({})},outputs:{"MA Env Top":v4a,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:b52.Studies.calculateMADev,seriesFN:b52.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":X5O,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":d4C,"Decreasing Bar":m1e}},Guppy:{name:"Guppy Multiple Moving Average",overlay:!!({}),calculateFN:b52.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:"High Low Bands",overlay:!![],seriesFN:b52.Studies.displayChannel,calculateFN:function(t2y,U51){var W0D;B9olJ.B2i();W0D="triangu";W0D+="lar";U51.inputs["Moving Average Type"]=W0D;b52.Studies.calculateMAEnvelope(t2y,U51);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!!"1"},outputs:{"High Low Top":k3y,"High Low Median":"auto","High Low Bottom":I6Z},attributes:{"Shift Percentage":{min:"0.1" * 1,step:0.1}}}});}};b9=J_J=>{var l8I=B9olJ;var B0s;B0s=typeof _CIQ !== "undefined"?_CIQ:J_J.CIQ;l8I.y4d();if(!B0s.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {B0s.Studies.calculatePSAR=function(l0E,X_b){var f$v,Y0l,j0O,p_i,E$L,x68,l70,e74,J$1,h8i,f6R,v6z;f$v=X_b.chart.scrubbed;Y0l=0;j0O=null;p_i=!!0;function w9w(){l8I.O3H(69);Y0l=l8I.o4m("0",96);j0O=null;p_i=!p_i;}E$L=0;x68=parseFloat(X_b.inputs["Minimum AF"]);l70=parseFloat(X_b.inputs["Maximum AF"]);if(X_b.startFrom > 0){l8I.w7b(150);var P9r=l8I.o4m(1,5,1,3,16);E$L=f$v[X_b.startFrom - P9r]["Result " + X_b.name];l8I.w7b(6);var e2P=l8I.o4m(16,15);e74=f$v[X_b.startFrom - e2P]["_state " + X_b.name];if(e74 && e74.length == +"3"){Y0l=e74[0];j0O=e74[1];p_i=e74[2];}}for(var n8l=X_b.startFrom - 1;n8l < f$v.length - 1;n8l++){if(n8l < 0)continue;if(f$v[n8l].futureTick)break;J$1=E$L;if(p_i){if(!j0O || j0O < f$v[n8l].High){j0O=f$v[n8l].High;l8I.w7b(2);Y0l=Math.min(l8I.o4m(x68,Y0l),l70);}l8I.O3H(153);E$L=l8I.o4m(Y0l,J$1,j0O,J$1);h8i=Math.min(f$v[Math.max(1,n8l) - ("1" << 32)].Low,f$v[n8l].Low);if(E$L > f$v[n8l + 1].Low){E$L=j0O;w9w();}else if(E$L > h8i){E$L=h8i;}}else {if(!j0O || j0O > f$v[n8l].Low){j0O=f$v[n8l].Low;l8I.w7b(2);Y0l=Math.min(l8I.O80(x68,Y0l),l70);}l8I.O3H(153);E$L=l8I.o4m(Y0l,J$1,j0O,J$1);f6R=Math.max(f$v[Math.max(1,n8l) - 1].High,f$v[n8l].High);if(E$L < f$v[n8l + 1].High){E$L=j0O;w9w();}else if(E$L < f6R){E$L=f6R;}}l8I.w7b(2);f$v[l8I.o4m(1,n8l)]["_state " + X_b.name]=[Y0l,j0O,p_i];if(!isNaN(f$v[n8l].High) || !isNaN(f$v[n8l].Low)){v6z="R";v6z+="e";v6z+="sult ";l8I.w7b(2);f$v[l8I.O80(1,n8l)][v6z + X_b.name]=E$L;}}};B0s.Studies.studyLibrary=B0s.extend(B0s.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!!1,calculateFN:B0s.Studies.calculatePSAR,seriesFN:B0s.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":+"0.2"}}});}};z7=L54=>{var Y5j=B9olJ;var N5a,u63,d5S,b2y;Y5j.B2i();N5a=typeof _CIQ !== "undefined"?_CIQ:L54.CIQ;if(!N5a.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {u63="#b82";u63+="c0";u63+="b";d5S="au";d5S+="t";d5S+="o";b2y="s";b2y+="ta";b2y+="nda";b2y+="rd";N5a.Studies.calculatePivotPoints=function(M2j,s2d){var H8Q,w9y,n5S,D$X,k4n,m2Z,H4K,X_N,W12,q3b,o8f,o5F,B10,G7s,w9t,I2r,T6Y,O7z,C9w,U2V,f3i;H8Q="m";H8Q+="arket.beginningDayOfWeek";w9y="s";w9y+="ec";w9y+="on";function W_R(){Y5j.B2i();Y5j.O3H(154);var m2K=Y5j.O80(5,8,5,8);Y5j.w7b(141);var m_$=Y5j.O80(1,1,2);o5F.pivotPoint=(o5F.high + o5F.low + D$X[O5S - m2K].Close) / m_$;o5F.prevHigh=o5F.high;o5F.prevLow=o5F.low;o5F.hlSpread=o5F.high - o5F.low;o5F.high=o5F.low=0;}w9y+="d";n5S="da";Y5j.B2i();n5S+="y";D$X=s2d.chart.scrubbed;k4n=n5S;m2Z=M2j.layout.interval;H4K=M2j.layout.timeUnit;if(m2Z == "day"){k4n="month";}else if(N5a.ChartEngine.isDailyInterval(m2Z)){k4n="year";}else if(m2Z == "second" || m2Z == "millisecond" || H4K == w9y || H4K == "millisecond"){k4n="15min";}else {X_N="w";X_N+="e";X_N+="e";X_N+="k";W12=M2j.layout.periodicity;if(m2Z != "minute"){W12*=m2Z;}if(W12 >= 30){k4n=X_N;}}q3b=null;Y5j.O3H(135);var Q5z=Y5j.O80(14,12,1,63,8);o8f=Q5z - N5a.getFromNS(M2j.chart,H8Q,0);o5F={pivotPoint:NaN,high:"0" - 0,low:"0" * 1,prevHigh:0,prevLow:0,hlSpread:+"0"};if(s2d.startFrom > 1 && D$X[s2d.startFrom - ("1" - 0)]["_pointers " + s2d.name]){B10="_p";B10+="oint";B10+="e";B10+="rs ";o5F=N5a.clone(D$X[s2d.startFrom - 1][B10 + s2d.name]);}for(var O5S=Math.max(1,s2d.startFrom);O5S < D$X.length;O5S++){G7s="Pi";G7s+="vo";G7s+="t";G7s+=" ";w9t="1";w9t+="5mi";w9t+="n";if(!D$X[O5S - 1])continue;o5F.high=Math.max(o5F.high,D$X[O5S - ("1" << 0)].High);o5F.low=Math.min(o5F.low > ("0" ^ 0)?o5F.low:D$X[O5S - 1].Low,D$X[O5S - 1].Low);if(s2d.inputs.Continuous){W_R();}else if(k4n == "year" && D$X[O5S].DT.getYear() != D$X[O5S - "1" * 1].DT.getYear()){W_R();}else if(k4n == "month" && D$X[O5S].DT.getMonth() != D$X[O5S - 1].DT.getMonth()){W_R();}else if(k4n == "week" && (D$X[O5S].DT.getDay() + o8f) % 7 < (D$X[O5S - ("1" - 0)].DT.getDay() + o8f) % 7){W_R();}else if(k4n == "day"){if(q3b === null){q3b=N5a.Studies.getMarketOffset({stx:M2j,localQuoteDate:D$X[O5S].DT,shiftToDateBoundary:!![]});}I2r=new Date(new Date(+D$X[O5S].DT).setMilliseconds(D$X[O5S].DT.getMilliseconds() + q3b));T6Y=new Date(new Date(+D$X[O5S - 1].DT).setMilliseconds(D$X[O5S - 1].DT.getMilliseconds() + q3b));if(T6Y.getDate() !== I2r.getDate() && T6Y.getDay() !== 0 && M2j.chart.market.isMarketDate(I2r)){q3b=null;W_R();}}else if(k4n == w9t && (D$X[O5S].DT.getHours() != D$X[O5S - 1].DT.getHours() || Math.floor(D$X[O5S].DT.getMinutes() / 15) != Math.floor(D$X[O5S - 1].DT.getMinutes() / 15))){W_R();}D$X[O5S][G7s + s2d.name]=o5F.pivotPoint;if(s2d.inputs.Type.toLowerCase() == "fibonacci"){O7z="Su";O7z+="ppo";O7z+="rt";O7z+=" 3 ";C9w="Support";C9w+=" 1";C9w+=" ";D$X[O5S]["Resistance 1 " + s2d.name]=o5F.pivotPoint + 0.382 * o5F.hlSpread;D$X[O5S]["Resistance 2 " + s2d.name]=o5F.pivotPoint + 0.618 * o5F.hlSpread;D$X[O5S]["Resistance 3 " + s2d.name]=o5F.pivotPoint + o5F.hlSpread;D$X[O5S][C9w + s2d.name]=o5F.pivotPoint - 0.382 * o5F.hlSpread;D$X[O5S]["Support 2 " + s2d.name]=o5F.pivotPoint - 0.618 * o5F.hlSpread;D$X[O5S][O7z + s2d.name]=o5F.pivotPoint - o5F.hlSpread;}else {U2V="Su";U2V+="ppo";U2V+="rt 1";U2V+=" ";f3i="Resistan";f3i+="c";f3i+="e ";f3i+="1 ";Y5j.w7b(73);var l1D=Y5j.O80(14,12,28);D$X[O5S][f3i + s2d.name]=l1D * o5F.pivotPoint - o5F.prevLow;D$X[O5S]["Resistance 2 " + s2d.name]=o5F.pivotPoint + o5F.hlSpread;Y5j.O3H(2);var q$y=Y5j.O80(2,0);D$X[O5S]["Resistance 3 " + s2d.name]=o5F.prevHigh + q$y * (o5F.pivotPoint - o5F.prevLow);D$X[O5S][U2V + s2d.name]=("2" >> 0) * o5F.pivotPoint - o5F.prevHigh;D$X[O5S]["Support 2 " + s2d.name]=o5F.pivotPoint - o5F.hlSpread;Y5j.w7b(155);var z1N=Y5j.o4m(16,21,2,5,2);D$X[O5S]["Support 3 " + s2d.name]=o5F.prevLow - ("2" >> z1N) * (o5F.prevHigh - o5F.pivotPoint);}D$X[O5S]["_pointers " + s2d.name]=N5a.clone(o5F);}};N5a.Studies.displayPivotPoints=function(j99,w5q,b1x){Y5j.y4d();var x3n,c7c,A9i,B7g,h2M,K3A,X7S,m4Y;w5q.noSlopes=!w5q.inputs.Continuous;N5a.Studies.displaySeriesAsLine(j99,w5q,b1x);if(w5q.inputs.Shading){x3n="Su";x3n+="pport 2";c7c="Supp";c7c+="ort 1";A9i="P";A9i+="ivot ";B7g="Re";B7g+="si";B7g+="stan";B7g+="ce 1";h2M="R";h2M+="es";h2M+="istance ";h2M+="1 ";K3A="Resistance";K3A+=" ";K3A+="2 ";X7S=j99.panels[w5q.panel];m4Y={noSlopes:w5q.noSlopes,opacity:w5q.parameters.opacity?w5q.parameters.opacity:0.2,skipTransform:X7S.name != w5q.chart.name,yAxis:w5q.getYAxis(j99)};if(!w5q.highlight && j99.highlightedDraggable){m4Y.opacity*=0.3;}N5a.prepareChannelFill(j99,N5a.extend({panelName:w5q.panel,topBand:"Resistance 3 " + w5q.name,bottomBand:"Resistance 2 " + w5q.name,color:N5a.Studies.determineColor(w5q.outputs["Resistance 3"])},m4Y));N5a.prepareChannelFill(j99,N5a.extend({panelName:w5q.panel,topBand:K3A + w5q.name,bottomBand:"Resistance 1 " + w5q.name,color:N5a.Studies.determineColor(w5q.outputs["Resistance 2"])},m4Y));N5a.prepareChannelFill(j99,N5a.extend({panelName:w5q.panel,topBand:h2M + w5q.name,bottomBand:"Pivot " + w5q.name,color:N5a.Studies.determineColor(w5q.outputs[B7g])},m4Y));N5a.prepareChannelFill(j99,N5a.extend({panelName:w5q.panel,topBand:"Support 1 " + w5q.name,bottomBand:A9i + w5q.name,color:N5a.Studies.determineColor(w5q.outputs[c7c])},m4Y));N5a.prepareChannelFill(j99,N5a.extend({panelName:w5q.panel,topBand:"Support 2 " + w5q.name,bottomBand:"Support 1 " + w5q.name,color:N5a.Studies.determineColor(w5q.outputs[x3n])},m4Y));N5a.prepareChannelFill(j99,N5a.extend({panelName:w5q.panel,topBand:"Support 3 " + w5q.name,bottomBand:"Support 2 " + w5q.name,color:N5a.Studies.determineColor(w5q.outputs["Support 3"])},m4Y));}};N5a.Studies.studyLibrary=N5a.extend(N5a.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!"",seriesFN:N5a.Studies.displayPivotPoints,calculateFN:N5a.Studies.calculatePivotPoints,inputs:{Type:[b2y,"fibonacci"],Continuous:!"1",Shading:!!0},outputs:{Pivot:d5S,"Resistance 1":u63,"Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};g0=u7h=>{var Y6y=B9olJ;var c$D,M9J,u_1,d$e;c$D="un";c$D+="de";c$D+="fined";Y6y.y4d();M9J=typeof _CIQ !== c$D?_CIQ:u7h.CIQ;if(!M9J.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {u_1="a";u_1+="u";u_1+="t";u_1+="o";d$e="Pr";d$e+="ett";d$e+="y Good O";d$e+="scillator";M9J.Studies.calculatePrettyGoodOscillator=function(C33,i0P){var w3p,r4s,r$0,x3Y,m3s,d6f,s1c,T91;w3p="_";w3p+="S";w3p+="M";Y6y.y4d();w3p+="A";r4s=i0P.chart.scrubbed;if(r4s.length < i0P.days + 1){r$0=1497607048;x3Y=-1803116343;m3s=+"2";for(var D32=1;Y6y.d8W(D32.toString(),D32.toString().length,91285) !== r$0;D32++){i0P.error=!!({});return;}if(Y6y.U7z(m3s.toString(),m3s.toString().length,+"46736") !== x3Y){i0P.error=!1;return;}}M9J.Studies.MA("exponential",i0P.days,"trueRange",0,"_EMA",C33,i0P);M9J.Studies.MA("simple",i0P.days,"Close",0,w3p,C33,i0P);for(var H$L=Math.max(1,i0P.startFrom);H$L < r4s.length;H$L++){d6f="_";d6f+="E";d6f+="MA";d6f+=" ";s1c="R";s1c+="es";s1c+="ult";s1c+=" ";T91="_EM";T91+="A ";if(!r4s[H$L]["_SMA " + i0P.name] || !r4s[H$L][T91 + i0P.name])continue;r4s[H$L][s1c + i0P.name]=(r4s[H$L].Close - r4s[H$L]["_SMA " + i0P.name]) / r4s[H$L][d6f + i0P.name];}};M9J.Studies.studyLibrary=M9J.extend(M9J.Studies.studyLibrary,{"Pretty Good":{name:d$e,calculateFN:M9J.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:"3" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" ^ 0),studyOverSoldColor:u_1}}}});}};A$=R2T=>{var y3u,D9R,h53,V9w,z51,U1t;y3u=typeof _CIQ !== "undefined"?_CIQ:R2T.CIQ;if(!y3u.Studies){D9R="pric";D9R+="eMomentumOsci";D9R+="lla";D9R+="tor feature requires first activating studies feature.";console.error(D9R);}else {h53="0";h53+=".";h53+="05";V9w="a";V9w+="uto";z51="a";z51+="u";z51+="t";z51+="o";U1t="Price Momentum Oscil";U1t+="lat";U1t+="or";y3u.Studies.calculatePMO=function(k0r,b1F){var N1k=B9olJ;var E2M,w03,v6Z,X2S,W9I,f3Q,b25,Y34;E2M="P";E2M+="M";E2M+="O";w03="Double Smooth";w03+="ing P";w03+="eriod";v6Z={Smooth:Number(b1F.inputs["Smoothing Period"]) - +"1",Double:Number(b1F.inputs[w03]) - 1,Signal:Number(b1F.inputs["Signal Period"])};X2S=b1F.chart.scrubbed;if(X2S.length < v6Z.Smooth + v6Z.Double){b1F.error=!![];return;}W9I=b1F.inputs.Field;if(!W9I || W9I == "field"){W9I="Close";}for(f3Q=b1F.startFrom;f3Q < X2S.length;f3Q++){if(!X2S[f3Q])continue;if(!X2S[f3Q - 1])continue;N1k.O3H(6);b25=X2S[N1k.o4m(f3Q,1)][W9I];if(b25){Y34="_";Y34+="ROC";Y34+="x";Y34+="10 ";N1k.w7b(2);var v$G=N1k.o4m(929,71);N1k.w7b(11);var R9i=N1k.O80(19,12,8);X2S[f3Q][Y34 + b1F.name]=v$G * (X2S[f3Q][W9I] / b25 - R9i);}}y3u.Studies.MA("exponential",v6Z.Smooth,"_ROCx10 " + b1F.name,+"0","_EMAx10",k0r,b1F);y3u.Studies.MA("exponential",v6Z.Double,"_EMAx10 " + b1F.name,0,E2M,k0r,b1F);y3u.Studies.MA("exponential",v6Z.Signal,"PMO " + b1F.name,"0" ^ 0,"PMOSignal",k0r,b1F);b1F.zoneOutput="PMO";};y3u.Studies.studyLibrary=y3u.extend(y3u.Studies.studyLibrary,{PMO:{name:U1t,calculateFN:y3u.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":+"35","Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:z51,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:V9w}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:h53}}}});}};z9=g4A=>{var d4d=B9olJ;d4d.B2i();var B9t,z9b,B5d,Z2G,R0n,S6Y;B9t=typeof _CIQ !== "undefined"?_CIQ:g4A.CIQ;if(!B9t.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {z9b="0";z9b+=".";z9b+="1";B5d="au";B5d+="t";B5d+="o";Z2G="v";Z2G+="dm";Z2G+="a";R0n="Volume Oscillat";R0n+="or";S6Y="Perce";S6Y+="nt";B9t.Studies.calculatePriceOscillator=function(C9N,u1p){var W9U,K5Z,S9l,M8p,v7Q,R3O,i6E,V$i,p3x,H85,O1v,Y11;W9U="Moving";W9U+=" Avera";W9U+="ge Type";K5Z="Long";K5Z+=" Cycle";S9l="Sh";S9l+="o";S9l+="rt Cycle";M8p=u1p.chart.scrubbed;v7Q=Number(u1p.inputs[S9l]);R3O=Number(u1p.inputs[K5Z]);if(M8p.length < Math.max(v7Q,R3O) + 1){u1p.error=!![];return;}i6E=u1p.inputs.Field;V$i=u1p.inputs[W9U];if(!V$i){V$i="simple";}if(!i6E || i6E == "field"){i6E="Close";}if(u1p.parameters.isVolume){i6E="Volume";V$i="exponential";}p3x=u1p.inputs["Points Or Percent"];if(!p3x){p3x="Percent";}B9t.Studies.MA(V$i,v7Q,i6E,0,"_Short MA",C9N,u1p);B9t.Studies.MA(V$i,R3O,i6E,0,"_Long MA",C9N,u1p);for(var L0z=Math.max(R3O,u1p.startFrom);L0z < M8p.length;L0z++){H85=M8p[L0z];if(!H85)continue;O1v=H85["_Short MA " + u1p.name];Y11=H85["_Long MA " + u1p.name];if((O1v || O1v === 0) && (Y11 || Y11 === 0)){if(p3x == "Points"){d4d.O3H(6);H85["Result " + u1p.name]=d4d.O80(O1v,Y11);}else {d4d.w7b(156);H85["Result " + u1p.name]=d4d.o4m(O1v,"100",Y11,1);}if(u1p.outputs["Increasing Bar"]){H85[u1p.name + "_hist"]=H85["Result " + u1p.name];u1p.outputMap={};u1p.outputMap[u1p.name + "_hist"]="";}}}};B9t.Studies.displayRAVI=function(I0z,J3k,z$U){var j_a,N55,g4f,u8D,A0X,F$k,i_Z,N_v,F9H,D_Y,G84,p7Q,i0p;j_a="Increasing";j_a+=" Bar";N55=I0z.panels[J3k.panel];g4f=J3k.getContext(I0z);u8D=J3k.getYAxis(I0z);A0X=I0z.pixelFromPrice(0,N55,u8D);d4d.O3H(87);var a3H=d4d.O80(3,6,20);F$k=I0z.layout.candleWidth - a3H;if(F$k < 2){F$k=1;}i_Z=B9t.Studies.determineColor(J3k.outputs[j_a]);N_v=B9t.Studies.determineColor(J3k.outputs["Decreasing Bar"]);I0z.startClip(J3k.panel);I0z.canvasColor("stx_histogram");if(!J3k.underlay){g4f.globalAlpha=1;}if(!J3k.highlight && I0z.highlightedDraggable){g4f.globalAlpha*=0.3;}for(var l48=0;l48 < z$U.length;l48++){F9H="#CC";F9H+="CCCC";D_Y=z$U[l48];d4d.O3H(157);G84=z$U[d4d.o4m("1",l48,64)];if(!G84){G84=I0z.getPreviousBar(I0z.chart,J3k.name + "_hist",l48);}if(!D_Y)continue;p7Q=+"0";i0p=0;if(J3k.parameters && J3k.parameters.studyOverZonesEnabled){p7Q=parseFloat(J3k.parameters.studyOverBoughtValue);i0p=parseFloat(J3k.parameters.studyOverSoldValue);}if(!G84){g4f.fillStyle=F9H;}else if(D_Y[J3k.name + "_hist"] > p7Q && G84[J3k.name + "_hist"] < D_Y[J3k.name + "_hist"]){g4f.fillStyle=i_Z;}else if(D_Y[J3k.name + "_hist"] < i0p && G84[J3k.name + "_hist"] > D_Y[J3k.name + "_hist"]){g4f.fillStyle=N_v;}else {g4f.fillStyle="#CCCCCC";}if(D_Y.candleWidth){F$k=Math.floor(Math.max(1,D_Y.candleWidth - 2));}g4f.fillRect(Math.floor(I0z.pixelFromBar(l48,N55.chart) - F$k / +"2"),Math.floor(A0X),Math.floor(F$k),Math.floor(I0z.pixelFromPrice(D_Y[J3k.name + "_hist"],N55,u8D) - A0X));}I0z.endClip();};B9t.Studies.studyLibrary=B9t.extend(B9t.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:B9t.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points",S6Y]}},"Vol Osc":{name:R0n,calculateFN:B9t.Studies.calculatePriceOscillator,inputs:{"Short Cycle":"12" | 4,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!!({})}}},RAVI:{name:"RAVI",seriesFN:B9t.Studies.displayRAVI,calculateFN:B9t.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":Z2G,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"3",studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:B5d}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:z9b}}}});}};N0=n4D=>{var U0Y=B9olJ;var Z7f,z4z,r0n,z_g;Z7f="u";Z7f+="n";U0Y.B2i();Z7f+="define";Z7f+="d";z4z=typeof _CIQ !== Z7f?_CIQ:n4D.CIQ;if(!z4z.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {r0n="au";r0n+="to";z_g="-1 t";z_g+="o";z_g+=" 1";z4z.Studies.calculatePrimeNumber=function(o0e,G5r){var T4g,u4K,z9D,K3V,R$h,k$5,V8K,W97,a9M;T4g=[];u4K=G5r.chart.scrubbed;U0Y.y4d();for(var M1c=G5r.startFrom;M1c < u4K.length;M1c++){z9D="P";z9D+="rime Number Bands";K3V=u4K[M1c];if(!K3V)continue;R$h=K3V.High;if(!isNaN(R$h)){for(var l8r="0" | 0;R$h > 0 && R$h <= 10;l8r++){R$h*=+"10";}if(m0O(R$h)){U0Y.w7b(41);R$h+=U0Y.o4m("2",0);}R$h=Math.ceil(R$h);if(R$h % ("2" | 0) === 0){R$h++;}while(!m0O(R$h)){U0Y.O3H(41);R$h+=U0Y.o4m("2",0);}R$h/=Math.pow(10,l8r);}k$5=K3V.Low;if(!isNaN(k$5)){for(var t_t=0;k$5 > 0 && k$5 <= 10;t_t++){k$5*=10;}if(m0O(k$5)){k$5-=2;}k$5=Math.floor(k$5);if(k$5 % 2 === 0){k$5--;}if(k$5 > 0){while(!m0O(k$5)){k$5-=2;}k$5/=Math.pow(10,t_t);}}if(G5r.type == z9D){if(!isNaN(R$h)){K3V["Prime Bands Top " + G5r.name]=R$h;}if(!isNaN(k$5)){K3V["Prime Bands Bottom " + G5r.name]=Math.max(0,k$5);}}else {V8K=0;U0Y.O3H(38);var S73=U0Y.o4m(17,300,101900,20);W97=G5r.inputs["Tolerance Percentage"] * (R$h - k$5) / S73;U0Y.w7b(2);var V5e=U0Y.o4m(2,0);a9M=R$h + k$5 - V5e * K3V.Close;if(a9M < W97){V8K=1;}else if(a9M > W97){V8K=-1;}if(V8K){K3V["Result " + G5r.name]=V8K;}}}function m0O(B$Y){var c$d;if(B$Y <= 0){return !({});}else if(B$Y != Math.floor(B$Y)){return ![];}else if(T4g[B$Y] === !![] || T4g[B$Y] === ![]){return T4g[B$Y];}c$d=parseInt(Math.sqrt(B$Y),10);U0Y.y4d();for(var j2q=2;j2q <= c$d;j2q++){if(B$Y % j2q === 0){T4g[B$Y]=![];return ![];}}T4g[B$Y]=!![];return !0;}};z4z.Studies.studyLibrary=z4z.extend(z4z.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:z_g,calculateFN:z4z.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":"5" << 0},attributes:{"Tolerance Percentage":{min:0.1,step:"0.1" - 0}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:z4z.Studies.calculatePrimeNumber,seriesFN:z4z.Studies.displayChannel,inputs:{"Channel Fill":!!1},outputs:{"Prime Bands Top":r0n,"Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};C5=s1y=>{var c7L=B9olJ;var i1j,a5R,u5P,F87,E8M;i1j="u";i1j+="nde";i1j+="fined";c7L.B2i();a5R=typeof _CIQ !== i1j?_CIQ:s1y.CIQ;if(!a5R.Studies){u5P="pring feature requires first activat";u5P+="ing studies feature.";console.error(u5P);}else {F87="f";F87+="i";F87+="eld";E8M="Pring's Special";E8M+=" K";a5R.Studies.calculateKST=function(e30,n2Z){var Q4L,w0X,s$B,w$0,E17,G5n,o1V,d0W,c$z,p5w,b_A,r15,V0b,k2o,U_a,y8M,N1$;Q4L="s";Q4L+="im";Q4L+="p";Q4L+="le";w0X="Heaviest ";w0X+="SMA ";w0X+="Period";s$B="Light";s$B+="e";s$B+="st SMA";s$B+=" Period";w$0="Light Rate of Change ";w$0+="Period";E17="Lightest Rate of ";E17+="Change Period";G5n="C";G5n+="l";c7L.y4d();G5n+="ose";o1V=n2Z.chart.scrubbed;d0W=n2Z.inputs.Field;if(!d0W || d0W == "field"){d0W=G5n;}c$z={};p5w={};c$z[1]=Number(n2Z.inputs[E17]);c$z[2]=Number(n2Z.inputs[w$0]);c$z[3]=Number(n2Z.inputs["Heavy Rate of Change Period"]);c$z[+"4"]=Number(n2Z.inputs["Heaviest Rate of Change Period"]);p5w[1]=Number(n2Z.inputs[s$B]);p5w[2]=Number(n2Z.inputs["Light SMA Period"]);p5w[3]=Number(n2Z.inputs["Heavy SMA Period"]);p5w[4]=Number(n2Z.inputs[w0X]);b_A=Number(n2Z.inputs["Signal Period"]);for(r15=n2Z.startFrom;r15 < o1V.length;r15++){if(!o1V[r15])continue;for(V0b=1;V0b <= 4;V0b++){k2o="_R";k2o+="OC";if(r15 >= c$z[V0b] && o1V[r15 - c$z[V0b]] && o1V[r15 - c$z[V0b]][d0W]){c7L.O3H(158);var B6J=c7L.O80(6,8,8,14,9);o1V[r15][k2o + V0b + " " + n2Z.name]=+"100" * (o1V[r15][d0W] / o1V[r15 - c$z[V0b]][d0W] - B6J);}}}for(V0b=1;V0b <= 4;V0b++){U_a="_R";U_a+="OC";a5R.Studies.MA("simple",p5w[V0b],U_a + V0b + (8900 > +"2290"?" ":("t","2.17e+2" - 0)) + n2Z.name,0,"_SMA" + V0b,e30,n2Z);}for(r15=n2Z.startFrom;r15 < o1V.length;r15++){o1V[r15]["KST " + n2Z.name]=null;for(V0b=+"1";V0b <= 4;V0b++){y8M="K";y8M+="S";y8M+="T";y8M+=" ";c7L.w7b(116);var N8V=c7L.O80(20,7871,125972,125952);c7L.w7b(42);var p2y=c7L.o4m(5524,6,10,27675);c7L.w7b(4);var K1X=c7L.o4m(9,6295,14);c7L.O3H(116);var T3C=c7L.O80(2,7023,1006,7040);N1$=o1V[r15]["_SMA" + V0b + (N8V <= (708.05,p2y)?885.67 > K1X?"N":T3C:" ") + n2Z.name];if(N1$ || N1$ === 0){c7L.w7b(7);o1V[r15][y8M + n2Z.name]+=c7L.O80(N1$,V0b);}}}a5R.Studies.MA(Q4L,b_A,"KST " + n2Z.name,0,"KSTSignal",e30,n2Z);};a5R.Studies.calculateSpecialK=function(I8Q,G1X){var u30,V4R,B8e,g9u,H4y,o8D,g_6,O4b,d6z,N34,z36;u30=G1X.chart.scrubbed;V4R=G1X.inputs.Field;if(!V4R || V4R == "field"){V4R="Close";}B8e=G1X.inputs.Interval;if(!B8e){B8e="daily";}g9u={daily:["10" * 1,15,20,30,50,65,75,+"100",195,+"265",+"390",+"530"],weekly:[4,"5" - 0,6,8,"10" >> 64,13,15,20,39,52,78,104]};H4y={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,+"15",20,26,26,+"26",39]};for(o8D=G1X.startFrom;o8D < u30.length;o8D++){if(!u30[o8D])continue;for(g_6=0;g_6 < g9u[B8e].length;g_6++){O4b="_R";O4b+="O";O4b+="C";if(o8D >= g9u[B8e][g_6] && u30[o8D - g9u[B8e][g_6]] && u30[o8D - g9u[B8e][g_6]][V4R]){c7L.O3H(159);var y7J=c7L.o4m(3,13,6,15,7);u30[o8D][O4b + g_6 + " " + G1X.name]=+"100" * (u30[o8D][V4R] / u30[o8D - g9u[B8e][g_6]][V4R] - y7J);}}}c7L.y4d();for(g_6=0;g_6 < H4y[B8e].length;g_6++){a5R.Studies.MA(B8e == "daily"?"simple":"exponential",H4y[B8e][g_6],"_ROC" + g_6 + (368.9 < 8672?722 >= (279,196.12)?" ":5440 <= (5902,279.28)?(85.25,!1):180.23:("O",0x678)) + G1X.name,"0" ^ 0,"_MA" + g_6,I8Q,G1X);}for(o8D=G1X.startFrom;o8D < u30.length;o8D++){u30[o8D]["Result " + G1X.name]=null;for(g_6=0;g_6 < H4y[B8e].length;g_6++){d6z="Result";d6z+=" ";N34="_";N34+="MA";c7L.O3H(2);var x1p=c7L.O80(12,725);c7L.w7b(2);var W1g=c7L.o4m(590,35);z36=u30[o8D][N34 + g_6 + ((317.31,x1p) != W1g?" ":"F") + G1X.name];if(z36 || z36 === 0){c7L.O3H(160);u30[o8D][d6z + G1X.name]+=c7L.O80(g_6,z36,4,1);}}}};a5R.Studies.studyLibrary=a5R.extend(a5R.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:a5R.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":"10" * 1,"Lightest SMA Period":"10" << 64,"Light Rate of Change Period":+"15","Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:E8M,calculateFN:a5R.Studies.calculateSpecialK,inputs:{Field:F87,Interval:["daily","weekly"]}}});}};o_=g__=>{var K00=B9olJ;var T2K,w7I,a9t,h91,m60,R2v,l9b,z9R,l_X,E1T,L_k,E_8,M$7;T2K="undefin";T2K+="ed";w7I=typeof _CIQ !== T2K?_CIQ:g__.CIQ;a9t=typeof _timezoneJS !== "undefined"?_timezoneJS:g__.timezoneJS;K00.B2i();if(!w7I.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!w7I.Studies.studyLibrary.PVAT){h91="#8cc";h91+="176";m60="#f";m60+="e";m60+="6";m60+="41c";R2v="P";R2v+="rojecte";R2v+="d A";R2v+="ggregate Volume";l9b="hh:";l9b+="mm:s";l9b+="s";z9R="#";z9R+="cfbd0";z9R+="e";l_X="-15";l_X+="0";l_X+="%";E1T="-";E1T+="50";E1T+="%";L_k="+";L_k+="7";L_k+="5";L_k+="%";E_8="+";E_8+="10";E_8+="0%";M$7="+";M$7+="150";M$7+="%";w7I.Studies.initProjectedVolume=function(L7V,b7w,Q5J,v3e,G8t,R86){var m_l,O3s,x1X,r$W;m_l="Anc";m_l+="h";m_l+="or Tim";m_l+="e";O3s=":";O3s+="0";O3s+="0";var {market:b3l}=L7V.chart;x1X="00:00";if(b3l){x1X=b3l.getNormalOpen();}if(x1X.match(/^[\d]{2}:[\d]{2}$/)){x1X+=O3s;}if(!Q5J[m_l] || !Q5J["Anchor Time"].length){Q5J["Anchor Time"]=x1X;}r$W=w7I.Studies.initializeFN(L7V,b7w,Q5J,v3e,G8t,R86);if(!L7V.currentlyImporting){r$W.defaultAnchorTime=x1X;}return r$W;};w7I.Studies.validateProjectedVolumeLookback=function(R0x,e2t){var {interval:b_l, periodicity:Y37}=R0x.layout;var {"Lookback Days":L2A}=e2t.inputs;K00.O3H(161);K00.B2i();return K00.O80(Y37,L2A,b_l,10);};w7I.Studies.calculateProjectedVolume=function(B_z,i8$){var T7k,x5V,l14,c50,n2X,z3b,A6m,D_9,e4f,e5e,v_R,Y8I,g3O,b5j,h9u,n6J,M9P,a$x,B5t,g2p,Y_A,s2R,W$2,c8N,d2j,H$l,E2C,O5s,i$t,Q_w,K3$,T6E,c0M,P4c,k$F,E$e,j0N,R4r,a6c,p$s,h6N,P2F,m9G,J$f,U1J,O0O,L9F,Q_x,Q6$,N3J,D1o,a_F,i$a;T7k="P";function p2b(n9L){var i4a;i4a="s";i4a+="crubb";i4a+="ed";return B_z.dateFromTick(n9L,null,!!"1",i4a);}T7k+="V";T7k+=" ";function k4g(T0U){K00.B2i();console.error(`${"Ex" + "pected data for "}${p2b(T0U).toDateString()}${" but found none. This may be cause" + "d by gaps in your data or an improperly configured market definition."}`);}x5V="HH";x5V+=":";x5V+="mm";l14="M";l14+="arket.Symbology.isForexS";l14+="ymbol";c50=":0";function D9Q(E3_,N2D,Q$p){while(N2D){E3_=new Date(new Date(E3_).setDate(E3_.getDate() + (Q$p?1:-1)));if(K2x.isMarketDate(E3_)){N2D--;}}return E3_;}c50+="0";n2X="he";function y6Z(l6W,Z4H){var e2m,o9X,u11;e2m=p2b(l6W);o9X=K2x.getOpen(e2m) || h18(e2m);u11=Z7Z(o9X);if(!Z4H){return u11;}if(u11 < 0){u11=Z7Z(D9Q(o9X,+"1",!!({})));}if(u11 >= E3Y.length){return !1;}return u11;}n2X+="i";n2X+="kinashi";z3b="PA";z3b+="V";var {interval:u0$, timeUnit:q6N, aggregationType:a4P}=B_z.layout;var {symbol:c_l, scroll:Z6p, scrubbed:E3Y, market:K2x}=B_z.chart;A6m=i8$.type === z3b;D_9=i8$.study?i8$.study.name:i8$.type;if(w7I.ChartEngine.isDailyInterval(u0$)){i8$.error=`${D_9} is Intraday Only`;}else if(q6N === "tick"){K00.w7b(77);i8$.error=`${K00.O80("e not s","upported for ","Tick mod")}${D_9}`;}else if(q6N !== "minute"){K00.w7b(77);i8$.error=`${K00.O80("-minute periodiciti","es not supported for ","Sub")}${D_9}`;}else if(!a4P || !["ohlc",n2X].includes(a4P)){i8$.error=`Aggregation type not supported for ${D_9}`;}else if(!w7I.Studies.validateProjectedVolumeLookback(B_z,i8$)){i8$.error=`Selected lookback/periodicity combo not supported for ${D_9}`;}if(i8$.error){return;}if(i8$.inputs["Anchor Selector"]){w7I.Studies.initAnchorHandle(B_z,i8$);}else {w7I.Studies.removeAnchorHandle(B_z,i8$);}e4f=K2x?K2x.getNormalOpen():"00:00";if(e4f.match(/^[\d]{2}:[\d]{2}$/)){e4f+=c50;}if(!B_z.currentlyImporting){if(!i8$.defaultAnchorTime){i8$.defaultAnchorTime=e4f;}else if(e4f !== i8$.defaultAnchorTime){e5e="Anch";e5e+="or";e5e+=" Time";i8$.defaultAnchorTime=e4f;i8$.inputs[e5e]=e4f;w7I.Studies.repositionAnchor(B_z,i8$);return;}}var {"Lookback Days":v8U, "Anchor Time":i08}=i8$.inputs;var [f_T,J9R,f7y = 0]=i08.split(":");function I2h(v4S){K00.B2i();return {hours:v4S.getHours(),minutes:v4S.getMinutes()};}function Z7Z(l8U){K00.y4d();return B_z.tickFromDate(l8U,null,null,!!1,"scrubbed");}v_R=w7I.getFn(l14)(c_l);Y8I=i8$.getDependents(B_z);g3O=0;b5j=[];Y8I.forEach(({inputs:N5B, outputMap:w_a})=>{K00.B2i();if(N5B.Period){g3O=Math.max(parseInt(N5B.Period),g3O);b5j.push(...Object.keys(w_a));}});i8$.dependentsOutputMap=b5j;n6J=y6Z(E3Y.length - 1,!!({}));M9P=Math.ceil(E3Y.length - +"1" - Z6p);K00.O3H(6);a$x=y6Z(K00.o4m(M9P,g3O));if(v_R && E3Y[a$x] && w7I.dateToStr(E3Y[a$x].DT,x5V) !== e4f){K00.O3H(101);a$x=y6Z(K00.o4m("1",a$x));}if(!v_R && i8$.startFrom > a$x && E3Y[a$x] && E3Y[a$x]["V " + i8$.name] !== undefined && b5j.every(G6k=>{return ![undefined,null].includes(E3Y[a$x][G6k]);}) && n6J !== ![]){h9u=n6J;}else {h9u=a$x;}B5t=D9Q(p2b(a$x),v8U);B5t.setHours(0,0,0);g2p=y6Z(0,!!1);Y_A=(g2p || g2p === 0) && Z7Z(D9Q(E3Y[g2p].DT,v8U,!!({})));function h18(q2X){var Z8r;q2X.setHours(0);q2X.setMinutes(0);Z8r=w7I.Studies.getMarketOffset({stx:B_z,localQuoteDate:q2X});return new Date(q2X.getTime() + Z8r);}if(E3Y[0].DT > B5t){if(B_z.quoteDriver){if(i8$.chart.endPoints.begin > B5t){B_z.quoteDriver.extendHistoricalData({from:B5t});}if(Y_A > 0){h9u=Y_A;}else {return;}}else {return i8$.error=`Not enough data to calculate ${D_9}`;}}if(h9u < 0 || h9u > E3Y.length - 1){return;}s2R=E3Y.length - i8$.startFrom === 1 && i8$.cachedFutureTicks && i8$.cachedLastProjection && +i8$.cachedLastProjection.DT === +E3Y[E3Y.length - 1].DT && E3Y[h9u]["PV " + i8$.name];if(s2R){K00.w7b(12);var f2g=K00.o4m(8,18,5,6);E3Y[E3Y.length - f2g]["PV " + i8$.name]=i8$.cachedLastProjection.projectedValue;i8$.appendFutureTicks(B_z,i8$.cachedFutureTicks);h9u=i8$.startFrom;}else {i8$.cachedFutureTicks=null;i8$.cachedLastProjection=null;W$2=[n6J];c8N=[];for(var b9D=0;b9D < v8U;b9D++){d2j=y6Z(W$2[0] - 1);W$2.unshift(d2j);}while(W$2[v8U] >= h9u){H$l=W$2.pop();if(!E3Y[H$l]){return k4g(H$l);}E2C=I2h(E3Y[H$l].DT);var {hours:o_K, minutes:Z_T}=E2C;O5s=K2x.getClose(E3Y[H$l].DT);i$t=void +"0";if(!O5s){i$t={hours:24,minutes:0};}else {Q_w=K2x.getNextClose(E3Y[H$l].DT);i$t=I2h(O5s);while(!(i$t.hours === 0 && i$t.minutes === 0) && O5s.getDate() === Q_w.getDate()){O5s=Q_w;Q_w=K2x.getNextClose(Q_w);}i$t=I2h(O5s);if(i$t.hours === 0){i$t.hours=24;}}K3$=W$2.slice();for(var d1$="0" * 1;d1$ < K3$.length;d1$++){T6E=K3$[d1$];if(!E3Y[T6E]){return k4g(T6E);}var {hours:e7m, minutes:b5X}=I2h(E3Y[T6E].DT);if(e7m < o_K || e7m === o_K && b5X < Z_T){do {T6E++;({hours:e7m, minutes:b5X}=I2h(E3Y[T6E].DT));}while(!(e7m === o_K && b5X === Z_T));}K3$[d1$]=T6E;}while(o_K < i$t.hours || o_K === i$t.hours && Z_T < i$t.minutes){c0M=![];P4c=void +"0";k$F=void 0;E$e=0;j0N=+"0";for(var B1G=0;B1G < K3$.length;B1G++){R4r=K3$[B1G];if(R4r === null)continue;a6c=E3Y[R4r];if(!a6c){return k4g(R4r);}var {hours:N7u, minutes:w8n}=I2h(a6c.DT);p$s=a6c.DT.getDate();if(N7u === o_K && w8n === Z_T){E$e+=a6c.Volume;j0N++;K3$[B1G]++;if(E3Y[K3$[B1G]].DT.getDate() !== p$s){K3$[B1G]=null;}else if(!c0M){({hours:P4c, minutes:k$F}=I2h(E3Y[K3$[B1G]].DT));c0M=!0;}}}o_K=P4c;Z_T=k$F;if(j0N === ("0" | 0))break;K00.w7b(9);h6N=K00.O80(j0N,E$e);if(E3Y[H$l]){E3Y[H$l]["PV " + i8$.name]=h6N;}else {c8N.push({["PV " + i8$.name]:h6N});}H$l++;}W$2.unshift(y6Z(W$2[0] - 1));}i8$.cachedLastProjection={DT:E3Y[E3Y.length - 1].DT,projectedValue:E3Y[E3Y.length - 1]["PV " + i8$.name]};i8$.cachedFutureTicks=c8N;i8$.appendFutureTicks(B_z,c8N);}P2F=null;m9G=0;J$f=0;if(s2R && A6m){while(h9u > 0){K00.O3H(162);O0O=E3Y[K00.O80(h9u,"1",1)]["V " + i8$.name];if(O0O || O0O === 0){m9G=O0O;break;}h9u--;}}for(var y0Y=h9u;y0Y < E3Y.length;y0Y++){L9F="V";L9F+=" ";Q_x=E3Y[y0Y];Q6$=Q_x.Volume;N3J=Q_x["PV " + i8$.name];if(!Q_x.futureTick){U1J=y0Y;}if(P2F === null){P2F=w7I.Studies.getMarketOffset({stx:B_z,localQuoteDate:E3Y[y0Y].DT,shiftToDateBoundary:!![]});}D1o=new Date(new Date(Q_x.DT).getTime() + P2F);a_F=E3Y[y0Y - 1] && new Date(new Date(E3Y[y0Y - 1].DT).getTime() + P2F);i$a=new a9t.Date(Q_x.DT,K2x.market_def.market_tz || "America/New_York");i$a.setHours(f_T,J9R,f7y);K00.O3H(2);i$a=new Date(K00.O80(P2F,i$a));i$a.setDate(D1o.getDate());if(a_F && D1o.getDate() !== a_F.getDate()){P2F=null;m9G=0;J$f=0;}if(D1o < i$a){Q_x["V " + i8$.name]=0;K00.O3H(41);Q_x["PV " + i8$.name]=K00.O80("0",0);continue;}if(A6m){m9G+=Q6$;J$f+=N3J;}else {m9G=Q6$;J$f=N3J;}Q_x[L9F + i8$.name]=m9G;if(!s2R){Q_x["PV " + i8$.name]=J$f;}if([NaN,null,undefined].includes(m9G) && !Q_x.futureTick){i8$.error=`${D_9} requires volume`;return;}}i8$.cachedLastProjection.projectedValue=E3Y[U1J]["PV " + i8$.name];i8$.outputMap={};i8$.outputMap["V " + i8$.name]="";K00.y4d();i8$.outputMap[T7k + i8$.name]="Average Line";Y8I.forEach(i6Q=>{i6Q.startFrom=h9u;i6Q.study.calculateFN(B_z,i6Q);});};w7I.Studies.displayProjectedVolume=function(C_X,v8V,q8j){var l88,r45,n1F,P3V,C0I,O60,I7d;if(v8V.error){return w7I.Studies.removeAnchorHandle(C_X,v8V);}var {"Alert Threshold":r5F = ""}=v8V.inputs;K00.w7b(6);var s_$=K00.o4m(19,20);K00.O3H(14);var b44=K00.O80(2,2,11,4);K00.w7b(6);var N6f=K00.o4m(110,10);l88=parseInt(r5F.slice(0,s_$),b44) / N6f;r45=v8V.outputs["Alert Bar"];if(typeof r45 === "object"){r45=r45.color;}v8V.volumeField="V " + v8V.name;v8V.alignStepToSide=!![];v8V.extendToEndOfLastBar=!!1;v8V.lineWidth=2;n1F=C_X.canvasStyle("stx_volume_underlay_up").opacity;P3V=C_X.canvasStyle("stx_volume_underlay_down").opacity;v8V.colorFunction=function(X4r){var h7L,p4c,U3P,i6c,m0s,W3$,K$6,v_6,a9W;var {Open:J0_, Close:C46, iqPrevClose:N2x}=X4r;h7L=3999021;p4c=1487726914;K00.B2i();U3P=2;for(var n46="1" * 1;K00.d8W(n46.toString(),n46.toString().length,8631) !== h7L;n46++){i6c=C_X.colorByCandleDirection?J0_:N2x;K00.w7b(163);m0s=K00.o4m(C46,i6c);U3P+=+"2";}if(K00.U7z(U3P.toString(),U3P.toString().length,55165) !== p4c){i6c=C_X.colorByCandleDirection?J0_:N2x;K00.w7b(58);m0s=K00.o4m(i6c,C46);}W3$=X4r["PV " + v8V.name];K$6=X4r["V " + v8V.name];K00.O3H(164);v_6=K00.O80(l88,W3$,1);a9W=l88 < 0?K$6 < v_6:K$6 > v_6;return {fill_color:a9W && r45 || (m0s?this.fill_color_down:this.fill_color_up),border_color:m0s?this.border_color_down:this.border_color_up,opacity:a9W?"1" ^ 0:m0s?P3V:n1F,border_opacity:m0s?P3V:n1F};};C0I=v8V.study?v8V.study.name:v8V.type;var {loadingMore:Q4y}=C_X.chart;O60=q8j.some(I6R=>{K00.y4d();return I6R && I6R[v8V.volumeField] && I6R["PV " + v8V.name];});I7d=q8j[0] && !q8j[+"0"].futureTick && (q8j[0]["PV " + v8V.name] === undefined || (v8V.dependentsOutputMap || []).some(g$X=>{return [undefined,null].includes(q8j[0][g$X]);}));if(!O60 && Q4y){return v8V.error=`Fetching data for ${C0I}`;}w7I.Studies.createVolumeChart(C_X,v8V,q8j);w7I.Studies.displaySeriesAsLine(C_X,v8V,q8j);if(v8V.anchorHandle){w7I.Studies.displayAnchorHandleAndLine(C_X,v8V,q8j);}if(I7d){w7I.Studies.calculateProjectedVolume(C_X,v8V);}};w7I.Studies.studyLibrary=w7I.extend(w7I.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!![]},calculateFN:w7I.Studies.calculateProjectedVolume,seriesFN:w7I.Studies.displayProjectedVolume,initializeFN:w7I.Studies.initProjectedVolume,removeFN:w7I.Studies.removeAnchorHandle,inputs:{"Lookback Days":+"10","Anchor Time":"","Alert Threshold":[M$7,"+125%",E_8,L_k,"+50%","+25%","None","-25%",E1T,"-75%","-100%","-125%",l_X],"Anchor Selector":!![]},outputs:{"Average Line":"#fe641c","Alert Bar":z9R,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:l9b,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:R2v,range:"0 to max",yAxis:{ground:!!1},calculateFN:w7I.Studies.calculateProjectedVolume,seriesFN:w7I.Studies.displayProjectedVolume,initializeFN:w7I.Studies.initProjectedVolume,removeFN:w7I.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!!({})},outputs:{"Average Line":m60,"Up Volume":h91,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};n1=h8h=>{var a4J,C2I;a4J=typeof _CIQ !== "undefined"?_CIQ:h8h.CIQ;if(!a4J.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {C2I="Psyc";C2I+="hological ";C2I+="L";C2I+="ine";a4J.Studies.calculatePsychologicalLine=function(B2$,Q3H){B9olJ.B2i();var e0c,c_k,K7u,R64,t8S;e0c=Q3H.chart.scrubbed;if(e0c.length < Q3H.days + 1){Q3H.error=!!"1";return;}c_k=[];K7u=("100" - 0) / Q3H.days;R64=0;for(var x7P=Math.max(Q3H.startFrom - Q3H.days,1);x7P < e0c.length;x7P++){if(e0c[x7P].futureTick)break;t8S=Number(e0c[x7P].Close > e0c[x7P - 1].Close);if(t8S){R64+=K7u;}c_k.push(t8S);if(c_k.length > Q3H.days){R64-=c_k.shift() * K7u;}if(x7P < Q3H.startFrom)continue;if(!isNaN(e0c[x7P].Close)){e0c[x7P]["Result " + Q3H.name]=R64;}}};a4J.Studies.studyLibrary=a4J.extend(a4J.Studies.studyLibrary,{PSY:{name:C2I,range:"0 to 100",calculateFN:a4J.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};p9=t72=>{var d7j;d7j=typeof _CIQ !== "undefined"?_CIQ:t72.CIQ;B9olJ.B2i();if(!d7j.Studies){console.error("qstick feature requires first activating studies feature.");}else {d7j.Studies.calculateQStick=function(p$X,q1M){var r9m,L3z,B7u;r9m="Resu";r9m+="lt";L3z=q1M.chart.scrubbed;if(L3z.length < q1M.days + 1){q1M.error=!!({});return;}for(var B8E=q1M.startFrom;B8E < L3z.length;B8E++){B7u="_";B7u+="Close-O";B7u+="pen ";L3z[B8E][B7u + q1M.name]=L3z[B8E].Close - L3z[B8E].Open;}d7j.Studies.MA(q1M.inputs["Moving Average Type"],q1M.days,"_Close-Open " + q1M.name,0,r9m,p$X,q1M);};d7j.Studies.studyLibrary=d7j.extend(d7j.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:d7j.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};Q8=a3v=>{var Q3M,F4B,v$N,Q_I,X0v,g0c;Q3M=typeof _CIQ !== "undefined"?_CIQ:a3v.CIQ;if(!Q3M.Studies){console.error("rainbow feature requires first activating studies feature.");}else {F4B="R";F4B+="ainbow Os";F4B+="cillator";v$N="#";v$N+="FF";v$N+="0";v$N+="0FF";Q_I="#";Q_I+="0";Q_I+="0FFFF";X0v="#";X0v+="FF";X0v+="FF";X0v+="00";g0c="#";g0c+="FF00";g0c+="00";Q3M.Studies.calculateRainbow=function(D5o,B73){var D2s=B9olJ;var a7S,b47,H8u,g3D,N0g,w7H,y6F,O3m,z2y,q7t,M7l,w6A,W9O,f8_,S4I,T8a,C4b,k8g,k3I,c0O;a7S=B73.chart.scrubbed;if(a7S.length < B73.days + 1){B73.error=!!({});return;}b47=B73.inputs.Field;if(!b47 || b47 == "field"){b47="Close";}H8u=-178184774;g3D=-89505499;N0g=2;for(var K7E=+"1";D2s.d8W(K7E.toString(),K7E.toString().length,67486) !== H8u;K7E++){w7H=b47;N0g+=2;}if(D2s.U7z(N0g.toString(),N0g.toString().length,+"83363") !== g3D){w7H=b47;}w7H=b47;for(var Z6V=1;Z6V <= ("10" | 2);Z6V++){y6F="S";y6F+="M";y6F+="A";O3m="sim";O3m+="ple";Q3M.Studies.MA(O3m,B73.days,w7H,+"0",y6F + Z6V,D5o,B73);w7H="SMA" + Z6V + " " + B73.name;}function v0z(h3$,c3H){var e4S,i9Y;D2s.O3H(6);var Q4f=D2s.o4m(19,20);D2s.B2i();e4S=Number.MAX_VALUE * Q4f;i9Y=Number.MAX_VALUE;for(var I0W=c3H - h3$ + 1;I0W <= c3H;I0W++){if(I0W < +"0")continue;e4S=Math.max(e4S,a7S[I0W].Close);i9Y=Math.min(i9Y,a7S[I0W].Close);}return [i9Y,e4S];}for(var B7X=Math.max(B73.startFrom,10);B7X < a7S.length;B7X++){z2y="O";z2y+="s";z2y+="c";if(!a7S[B7X])continue;if(a7S[B7X].futureTick)break;q7t=0;M7l=0;D2s.O3H(71);var M4A=D2s.o4m(5,20,16);w6A=Number.MAX_VALUE * M4A;W9O=Number.MAX_VALUE;for(Z6V=1;Z6V <= 10;Z6V++){D2s.O3H(165);var p$M=D2s.O80(1,15,3,494,1);D2s.w7b(77);var p0i=D2s.o4m(7,7,7446);D2s.w7b(166);var x0P=D2s.O80(1,441,1,441,436);f8_=a7S[B7X]["SMA" + Z6V + (p$M < (472.44,p0i)?" ":(x0P,506.44)) + B73.name];if(f8_ || f8_ === 0){q7t+=f8_;M7l++;w6A=Math.max(w6A,f8_);W9O=Math.min(W9O,f8_);}}if(B73.name.indexOf(z2y) > -1){S4I=v0z(B73.inputs["HHV/LLV Lookback"],B7X);if(M7l){T8a="Ove";T8a+="r";T8a+=" ";C4b="U";C4b+="nder";C4b+=" ";k8g="_his";k8g+="t";D2s.w7b(158);var R5l=D2s.o4m(18,17,1,20,6);D2s.w7b(167);var G$$=D2s.o4m(1,8,18,8);a7S[B7X][B73.name + k8g]=R5l * (a7S[B7X][b47] - q7t / M7l) / Math.max(0.000001,S4I[G$$] - S4I[0]);D2s.w7b(29);var C5i=D2s.O80(203,6,14,15);a7S[B7X]["Over " + B73.name]=+"100" * (w6A - W9O) / Math.max(0.000001,S4I[C5i] - S4I[0]);a7S[B7X][C4b + B73.name]=-a7S[B7X][T8a + B73.name];a7S[B7X]["Zero " + B73.name]=0;}}}if(B73.name.indexOf("Osc") > -1){k3I="_hi";k3I+="st";c0O="Zero";c0O+=" ";B73.outputMap={};B73.outputMap["Over " + B73.name]="Positive Bar";B73.outputMap["Under " + B73.name]="Negative Bar";B73.outputMap[c0O + B73.name]="";B73.outputMap[B73.name + k3I]="";}};Q3M.Studies.displayRainbowMA=function(E3H,E1P,j7C){B9olJ.B2i();var y3V;y3V=E3H.panels[E1P.panel];for(var r49=10;r49 > 0;r49--){Q3M.Studies.displayIndividualSeriesAsLine(E3H,E1P,y3V,"SMA" + r49 + (119.06 > ("321" >> 64,9822)?2.03e+3:101.27 <= 3920?" ":"d") + E1P.name,j7C);}};Q3M.Studies.displayRainbowOsc=function(f4l,d90,Q4v){var m28=B9olJ;var H7s,u37,Z0E,l6p,t_K,o4A,a6W,b67,M7B,i1r,a9x,j1L,y$H;H7s="st";H7s+="x_histo";H7s+="gram";u37="Und";u37+="er ";Q3M.Studies.displaySeriesAsLine(f4l,d90,Q4v);Z0E=f4l.panels[d90.panel];l6p=d90.getContext(f4l);t_K=d90.getYAxis(f4l);f4l.startClip(d90.panel);if(!d90.highlight && f4l.highlightedDraggable){l6p.globalAlpha*=0.3;}o4A=f4l.pixelFromPrice(0,Z0E,t_K);a6W=Z0E.name != d90.chart.name;b67=Q3M.Studies.determineColor(d90.outputs["Positive Bar"]);l6p.strokeStyle=b67;f4l.plotDataSegmentAsLine("Over " + d90.name,Z0E,{skipTransform:a6W,label:!({}),yAxis:t_K});M7B=l6p.createLinearGradient(0,o4A,0,t_K.flipped?t_K.bottom:t_K.top);M7B.addColorStop(+"0",f4l.containerColor);M7B.addColorStop(1,b67);Q3M.prepareChannelFill(f4l,{skipTransform:a6W,color:M7B,opacity:!d90.highlight && f4l.highlightedDraggable?+"0.3":1,panelName:d90.panel,topBand:"Over " + d90.name,bottomBand:"Zero " + d90.name,yAxis:t_K});i1r=Q3M.Studies.determineColor(d90.outputs["Negative Bar"]);l6p.strokeStyle=i1r;f4l.plotDataSegmentAsLine(u37 + d90.name,Z0E,{skipTransform:a6W,label:!({}),yAxis:t_K});m28.O3H(69);a9x=l6p.createLinearGradient(m28.o4m("0",64),o4A,0,t_K.flipped?t_K.top:t_K.bottom);m28.O3H(6);a9x.addColorStop(m28.o4m("0",0),f4l.containerColor);a9x.addColorStop(1,i1r);Q3M.prepareChannelFill(f4l,{skipTransform:a6W,color:a9x,opacity:!d90.highlight && f4l.highlightedDraggable?0.3:1,panelName:d90.panel,topBand:"Zero " + d90.name,bottomBand:"Under " + d90.name,yAxis:t_K});m28.w7b(38);var u1Q=m28.o4m(10,4,118,3);j1L=f4l.layout.candleWidth - u1Q;if(j1L < 2){j1L=1;}f4l.canvasColor(H7s);if(!d90.underlay){l6p.globalAlpha=1;}if(!d90.highlight && f4l.highlightedDraggable){l6p.globalAlpha*=0.3;}l6p.fillStyle="#CCCCCC";for(var i9L=0;i9L < Q4v.length;i9L++){y$H=Q4v[i9L];if(!y$H)continue;if(y$H[d90.name + "_hist"] > 0){l6p.fillStyle=b67;}else if(y$H[d90.name + "_hist"] < "0" * 1){l6p.fillStyle=i1r;}if(y$H.candleWidth){j1L=Math.floor(Math.max(1,y$H.candleWidth - 2));}l6p.fillRect(Math.floor(f4l.pixelFromBar(i9L,Z0E.chart) - j1L / ("2" >> 0)),Math.floor(o4A),Math.floor(j1L),Math.floor(f4l.pixelFromPrice(y$H[d90.name + "_hist"],Z0E,t_K) - o4A));}f4l.endClip();};Q3M.Studies.studyLibrary=Q3M.extend(Q3M.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!!"1",calculateFN:Q3M.Studies.calculateRainbow,seriesFN:Q3M.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:g0c,SMA2:"#FF7F00",SMA3:X0v,SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:Q_I,SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:v$N}},"Rainbow Osc":{name:F4B,calculateFN:Q3M.Studies.calculateRainbow,seriesFN:Q3M.Studies.displayRainbowOsc,centerline:+"0",inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};N1=S6X=>{var U0c;U0c=typeof _CIQ !== "undefined"?_CIQ:S6X.CIQ;if(!U0c.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {U0c.Studies.calculateRandomWalk=function(M2W,q8w){var I2Y,B4k,D3m,q5R,o2W,g$H,H0z,M3P,r1W;I2Y=q8w.chart.scrubbed;if(I2Y.length < q8w.days + 1){q8w.error=!!({});return;}for(var K2B=Math.max(2,q8w.startFrom);K2B < I2Y.length;K2B++){B4k=+"0";D3m=I2Y[K2B].High;q5R=I2Y[K2B].Low;o2W=0;g$H=0;for(var b4z="1" - 0;b4z <= q8w.days;b4z++){if(I2Y[K2B].futureTick)break;if(K2B <= b4z){o2W=g$H=0;break;}B4k+=I2Y[K2B - b4z].trueRange;H0z=B4k / b4z * Math.sqrt(b4z);if(H0z){M3P=(D3m - I2Y[K2B - b4z].Low) / H0z;r1W=(I2Y[K2B - b4z].High - q5R) / H0z;o2W=Math.max(o2W,M3P);g$H=Math.max(g$H,r1W);}}if(!I2Y[K2B].futureTick && (!isNaN(D3m) || !isNaN(q5R))){I2Y[K2B]["Random Walk High " + q8w.name]=o2W;I2Y[K2B]["Random Walk Low " + q8w.name]=g$H;}}};U0c.Studies.studyLibrary=U0c.extend(U0c.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:U0c.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};G2=n7c=>{var A0L,l_v,T_P,v46,d$a;A0L="u";A0L+="ndef";A0L+="i";A0L+="ned";l_v=typeof _CIQ !== A0L?_CIQ:n7c.CIQ;if(!l_v.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {T_P="#00DD";T_P+="00";v46="#";v46+="F";v46+="F000";v46+="0";d$a="a";d$a+="u";d$a+="to";l_v.Studies.calculateRelativeVigor=function(X7Y,c6s){var T2j,k9o,k7F,J6R,y2b,V1C,h94,Z1W,K8N,L3O,x5q,y$x,Y4t,O0F,Z5W;T2j="_hi";T2j+="st";k9o="R";k9o+="elVi";k9o+="gSign";k9o+="al";k7F="trian";k7F+="gula";k7F+="r";J6R="triangula";J6R+="r";y2b="_";y2b+="Num";y2b+="e";y2b+="r";V1C="triangula";V1C+="r";h94=c6s.chart.scrubbed;if(h94.length < c6s.days + 1){c6s.error=!!({});return;}for(Z1W=c6s.startFrom;Z1W < h94.length;Z1W++){K8N="_C";K8N+="h";K8N+="ange";K8N+=" ";L3O=h94[Z1W];if(!isNaN(L3O.Close) && !isNaN(L3O.Open)){L3O[K8N + c6s.name]=L3O.Close - L3O.Open;}if(!isNaN(L3O.High) && !isNaN(L3O.Low)){L3O["_Range " + c6s.name]=L3O.High - L3O.Low;}}l_v.Studies.MA(V1C,4,"_Change " + c6s.name,0,y2b,X7Y,c6s);l_v.Studies.MA(J6R,+"4","_Range " + c6s.name,0,"_Denom",X7Y,c6s);x5q=[];y$x=[];for(Z1W=Math.max(c6s.startFrom - c6s.days,0);Z1W < h94.length;Z1W++){if(h94[Z1W].futureTick)break;if(h94[Z1W]["_Numer " + c6s.name] === null && h94[Z1W]["_Denom " + c6s.name] === null)continue;x5q.push(h94[Z1W]["_Numer " + c6s.name]);y$x.push(h94[Z1W]["_Denom " + c6s.name]);if(x5q.length > c6s.days){x5q.shift();y$x.shift();}Y4t=0;O0F=0;for(Z5W=+"0";Z5W < x5q.length;Z5W++){Y4t+=x5q[Z5W];}for(Z5W=0;Z5W < y$x.length;Z5W++){O0F+=y$x[Z5W];}if(O0F === ("0" ^ 0)){O0F=0.00000001;}if(Z1W < c6s.startFrom)continue;B9olJ.w7b(9);h94[Z1W]["Rel Vig " + c6s.name]=B9olJ.O80(O0F,Y4t);}l_v.Studies.MA(k7F,4,"Rel Vig " + c6s.name,+"0",k9o,X7Y,c6s);for(Z1W=c6s.startFrom;Z1W < h94.length;Z1W++){h94[Z1W][c6s.name + "_hist"]=h94[Z1W]["Rel Vig " + c6s.name] - h94[Z1W]["RelVigSignal " + c6s.name];}c6s.outputMap[c6s.name + T2j]="";};l_v.Studies.studyLibrary=l_v.extend(l_v.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:l_v.Studies.displayHistogramWithSeries,calculateFN:l_v.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":d$a,RelVigSignal:v46,"Increasing Bar":T_P,"Decreasing Bar":"#FF0000"}}});}};k2=y2I=>{var J2Q=B9olJ;J2Q.y4d();var h9C,t_l,V2f;h9C=typeof _CIQ !== "undefined"?_CIQ:y2I.CIQ;if(!h9C.Studies){console.error("rsi feature requires first activating studies feature.");}else {t_l="a";t_l+="ut";t_l+="o";V2f="0";V2f+=" t";V2f+="o 1";V2f+="00";h9C.Studies.calculateRSI=function(y0R,b9Y){var y0S,C6a,u$4,E9J,k_K,G1z,E_d,D26,O5a,T7f;y0S=b9Y.chart.scrubbed;C6a=b9Y.inputs.Field;if(!C6a || C6a == "field"){C6a="Close";}if(y0S.length < b9Y.days + 1){b9Y.error=!0;return;}for(var n0Y=b9Y.startFrom;n0Y < y0S.length;n0Y++){u$4="_a";u$4+="v";u$4+="gG";u$4+=" ";E9J="_";E9J+="av";E9J+="gG ";if(!n0Y)continue;k_K=y0S[n0Y];J2Q.w7b(6);G1z=y0S[J2Q.O80(n0Y,1)];if(!k_K[C6a] && k_K[C6a] !== 0)continue;if(!G1z[C6a] && G1z[C6a] !== 0)continue;E_d=k_K[C6a] - G1z[C6a];D26=Math.min(n0Y,b9Y.days);O5a=G1z[E9J + b9Y.name];if(!O5a){J2Q.w7b(69);O5a=J2Q.O80("0",64);}J2Q.O3H(9);O5a-=J2Q.o4m(D26,O5a);T7f=G1z["_avgL " + b9Y.name];if(!T7f){T7f=0;}J2Q.w7b(9);T7f-=J2Q.o4m(D26,T7f);if(E_d > 0){J2Q.w7b(9);O5a+=J2Q.o4m(D26,E_d);}else if(E_d <= +"0"){J2Q.w7b(9);T7f-=J2Q.o4m(D26,E_d);}else continue;if(n0Y >= b9Y.days){if((O5a || O5a !== 0) && (T7f || T7f !== 0)){k_K["RSI " + b9Y.name]=O9f(O5a,T7f);}}k_K[u$4 + b9Y.name]=O5a;k_K["_avgL " + b9Y.name]=T7f;}b9Y.zoneOutput="RSI";function O9f(D3e,c9$){var S_g;if(c9$ === 0){return 100;}J2Q.O3H(9);S_g=J2Q.O80(c9$,D3e);J2Q.w7b(168);J2Q.B2i();return J2Q.O80(100,100,1,S_g);}};h9C.Studies.studyLibrary=h9C.extend(h9C.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:h9C.Studies.calculateRSI,range:V2f,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:t_l}}}});}};r9=v74=>{var k39=B9olJ;var r8d,m4Q,F4E,Z6q,G6R;r8d="undefi";r8d+="ned";k39.y4d();m4Q=typeof _CIQ !== r8d?_CIQ:v74.CIQ;if(!m4Q.Studies){F4E="schaffTrendCycle feature requires first activatin";F4E+="g studies featur";F4E+="e.";console.error(F4E);}else {Z6q="f";Z6q+="iel";Z6q+="d";G6R="S";G6R+="chaff T";G6R+="rend Cycle";m4Q.Studies.calculateSchaff=function(x0T,p3g){var m2H,u7z,T2p,m5M,R3Z,e9U,O6f,z_R,j8h,n6n,W0H,n2d,p$q,f2y,A3A,d1t,m5B,g0k,Z8o,S2t,I3U,x_1;m2H="_M";k39.B2i();m2H+="A";m2H+="CD1";u7z="Long Cyc";u7z+="le";T2p=p3g.chart.scrubbed;function K3L(N6$,O0Y,c_i){var v73,Z$k,V1P;v73=null;Z$k=null;for(var g5k=O0Y - N6$ + 1;g5k <= O0Y;g5k++){k39.w7b(12);var o_V=k39.o4m(3281,4,19,194);k39.O3H(19);var X8Q=k39.O80(3,29,8,8702);k39.w7b(169);var D2B=k39.O80(1466286,13,16,12,113240);k39.w7b(17);var U4R=k39.O80(16,17);V1P=T2p[g5k][c_i + ((o_V,X8Q) < (5600,284.7)?D2B == "9343" * U4R?(+"783.06",!({})):("x",!![]):" ") + p3g.name];if(!V1P)continue;v73=v73 === null?V1P:Math.min(v73,V1P);Z$k=Z$k === null?V1P:Math.max(Z$k,V1P);}return [v73,Z$k];}m5M=p3g.days;R3Z=Number(p3g.inputs["Short Cycle"]);e9U=Number(p3g.inputs[u7z]);if(T2p.length < Math.max(m5M,R3Z,e9U) + +"1"){p3g.error=!![];return;}O6f=p3g.inputs.Field;if(!O6f || O6f == "field"){O6f="Close";}z_R=0.5;m4Q.Studies.MA(p3g.inputs["Moving Average Type"],R3Z,O6f,0,m2H,x0T,p3g);m4Q.Studies.MA(p3g.inputs["Moving Average Type"],e9U,O6f,0,"_MACD2",x0T,p3g);j8h=+"0";k39.w7b(25);n6n=k39.o4m("0",64);for(var o8Y=p3g.startFrom;o8Y < T2p.length;o8Y++){W0H="_";W0H+="P";W0H+="F";n2d="_PF";n2d+=" ";p$q=T2p[o8Y];if(o8Y < e9U - 1)continue;f2y=p$q["_MACD1 " + p3g.name];A3A=p$q["_MACD2 " + p3g.name];if(f2y || f2y === 0 || A3A || A3A === 0){d1t="_";d1t+="MAC";d1t+="D ";k39.O3H(6);p$q[d1t + p3g.name]=k39.O80(f2y,A3A);}m5B=p$q["_MACD " + p3g.name];if(o8Y < e9U + (m5M - 1))continue;g0k=K3L(m5M,o8Y,"_MACD");j8h=g0k[1] > g0k[0]?100 * (m5B - g0k[0]) / (g0k[1] - g0k[0]):j8h;if(m5B || m5B === "0" * 1){Z8o="_";Z8o+="PF";Z8o+=" ";p$q["_PF " + p3g.name]=T2p[o8Y - 1][Z8o + p3g.name]?T2p[o8Y - 1]["_PF " + p3g.name] + z_R * (j8h - T2p[o8Y - 1]["_PF " + p3g.name]):j8h;}S2t=p$q[n2d + p3g.name];if(o8Y < e9U + 2 * (m5M - +"1"))continue;g0k=K3L(m5M,o8Y,W0H);n6n=g0k["1" - 0] > g0k["0" << 0]?("100" ^ 0) * (S2t - g0k[0]) / (g0k["1" >> 64] - g0k[0]):n6n;if(S2t || S2t === 0){I3U="R";I3U+="esu";I3U+="lt ";x_1="Re";x_1+="sult ";p$q["Result " + p3g.name]=T2p[o8Y - ("1" ^ 0)]["Result " + p3g.name]?T2p[o8Y - ("1" >> 64)][x_1 + p3g.name] + z_R * (n6n - T2p[o8Y - 1][I3U + p3g.name]):n6n;}}};m4Q.Studies.studyLibrary=m4Q.extend(m4Q.Studies.studyLibrary,{Schaff:{name:G6R,range:"0 to 100",calculateFN:m4Q.Studies.calculateSchaff,inputs:{Period:10,Field:Z6q,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};P6=k1v=>{var e1A=B9olJ;var F2o,l6u;e1A.y4d();F2o=typeof _CIQ !== "undefined"?_CIQ:k1v.CIQ;if(!F2o.Studies){console.error("shinohara feature requires first activating studies feature.");}else {l6u="#";l6u+="5";l6u+="F7CB8";F2o.Studies.calculateShinohara=function(b_D,j7E){var w72,z9_,l2P;w72=j7E.chart.scrubbed;if(w72.length < j7E.days + 1){j7E.error=!![];return;}z9_={weakNum:0,weakDen:"0" - 0,strongNum:0,strongDen:0};if(j7E.startFrom > 1){z9_=F2o.clone(w72[j7E.startFrom - 1]["_accums " + j7E.name]);}for(var E1S=j7E.startFrom;E1S < w72.length;E1S++){z9_.weakNum+=w72[E1S].High - w72[E1S].Close;z9_.weakDen+=w72[E1S].Close - w72[E1S].Low;if(E1S > 0){e1A.O3H(170);var I2z=e1A.O80(211,14,1,15);z9_.strongNum+=w72[E1S].High - w72[E1S - I2z].Close;z9_.strongDen+=w72[E1S - ("1" - 0)].Close - w72[E1S].Low;}if(E1S >= j7E.days){l2P="W";l2P+="eak ";l2P+="Ra";l2P+="tio ";z9_.weakNum-=w72[E1S - j7E.days].High - w72[E1S - j7E.days].Close;z9_.weakDen-=w72[E1S - j7E.days].Close - w72[E1S - j7E.days].Low;e1A.O3H(159);var P14=e1A.O80(107,2,3,104,101);w72[E1S][l2P + j7E.name]=P14 * z9_.weakNum / z9_.weakDen;if(E1S > j7E.days){e1A.O3H(2);var q5p=e1A.o4m(1,0);z9_.strongNum-=w72[E1S - j7E.days].High - w72[E1S - j7E.days - q5p].Close;e1A.w7b(170);var D1z=e1A.O80(3,10,20,4);z9_.strongDen-=w72[E1S - j7E.days - D1z].Close - w72[E1S - j7E.days].Low;e1A.w7b(171);var G9A=e1A.o4m(80,19,10,2,5);w72[E1S]["Strong Ratio " + j7E.name]=G9A * z9_.strongNum / z9_.strongDen;}}w72[E1S]["_accums " + j7E.name]=F2o.clone(z9_);}};F2o.Studies.studyLibrary=F2o.extend(F2o.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:F2o.Studies.calculateShinohara,inputs:{Period:+"26"},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":l6u}}});}};E0=a8T=>{var u5g=B9olJ;var H3J,A8g,C0C,S9f,r8u,v8$,N6j;u5g.y4d();H3J=typeof _CIQ !== "undefined"?_CIQ:a8T.CIQ;if(!H3J.Studies){A8g="stochastics feature requires first activat";A8g+="ing studies feat";A8g+="ure.";console.error(A8g);}else {C0C="a";C0C+="u";C0C+="to";S9f="a";S9f+="ut";S9f+="o";r8u="a";r8u+="ut";r8u+="o";v8$="#F";v8$+="F0000";N6j="0 to ";N6j+="1";N6j+="00";H3J.Studies.calculateStochastics=function(a_b,f1u){var s16,i$O,g1y,A1l,G68,O3r,G6a,S4G,e8x;s16="%";s16+="D";function g$t(p1e,v_g,R62){var l4X,k2L,P9N,j76,R0u,H5L;u5g.O3H(11);l4X=u5g.O80(R62,p1e,1);u5g.w7b(17);var E6H=u5g.o4m(15,14);k2L=Number.MAX_VALUE * E6H;P9N=Number.MAX_VALUE;for(var i_F=l4X;i_F <= p1e;i_F++){j76=O3r[i_F][v_g == "Close"?"Low":v_g];R0u=O3r[i_F][v_g == "Close"?"High":v_g];if(!j76 && j76 !== 0)continue;if(!R0u && R0u !== 0)continue;P9N=Math.min(P9N,j76);k2L=Math.max(k2L,R0u);}if(k2L == Number.MAX_VALUE * -1 || P9N == Number.MAX_VALUE){return null;}H5L=k2L == P9N?0:(O3r[p1e][v_g] - P9N) / (k2L - P9N) * 100;return H5L;}i$O="%K Pe";i$O+="riods";g1y="C";g1y+="lo";g1y+="s";g1y+="e";if(!f1u.smooth){f1u.smooth=f1u.inputs.Smooth;}A1l=f1u.inputs.Field;if(!A1l || A1l == "field"){A1l=g1y;}G68=f1u.inputs[i$O];if(!G68){G68=f1u.days;}O3r=f1u.chart.scrubbed;if(O3r.length < Math.max(G68,f1u.days) + 1){f1u.error=!!({});return;}G6a=f1u.inputs["%K Smoothing Periods"];if(G6a && !f1u.inputs.Fast){f1u.smooth=!"";}else if(f1u.smooth){G6a=3;}S4G=f1u.inputs["%D Periods"];if(!S4G){S4G=3;}if(f1u.outputs.Fast){f1u.outputMap={};f1u.outputMap["%K " + f1u.name]="Fast";f1u.outputMap["%D " + f1u.name]="Slow";}for(var d8s=Math.max(G68,f1u.startFrom);d8s < O3r.length;d8s++){e8x=g$t(d8s,A1l,G68);if(e8x !== null){O3r[d8s]["_Fast%K " + f1u.name]=g$t(d8s,A1l,G68);}}H3J.Studies.MA("simple",f1u.smooth?G6a:"1" ^ 0,"_Fast%K " + f1u.name,0,"%K",a_b,f1u);H3J.Studies.MA("simple",S4G,"%K " + f1u.name,0,s16,a_b,f1u);};H3J.Studies.calculateStochMomentum=function(Q2w,H5G){var o84,B2r,Z6u,o3M,y8d,M1y,B61,Y49,Q0N,c3k,v4j,r$1,c2B,E8T,T0h;o84="%";o84+="K";B2r="%";u5g.y4d();B2r+="D";Z6u="%";Z6u+="K ";o3M="_";o3M+="DH";o3M+="L1";o3M+=" ";y8d="%K ";y8d+="Peri";y8d+="ods";M1y=Number(H5G.inputs[y8d]);B61=Number(H5G.inputs["%K Smoothing Periods"]);Y49=Number(H5G.inputs["%K Double Smoothing Periods"]);Q0N=Number(H5G.inputs["%D Periods"]);c3k=H5G.chart.scrubbed;if(c3k.length < M1y + B61 + Y49 - 1 || c3k.length < Q0N){H5G.error=!![];return;}for(v4j=Math.max(M1y,H5G.startFrom) - 1;v4j < c3k.length;v4j++){r$1=c3k[v4j];c2B=R$C(M1y,v4j);u5g.O3H(73);var t2a=u5g.o4m(2,14,17);r$1["_H " + H5G.name]=r$1.Close - (c2B[0] + c2B[t2a]) / +"2";u5g.O3H(4);var D52=u5g.O80(17,0,16);r$1["_DHL " + H5G.name]=c2B[D52] - c2B[0];}H3J.Studies.MA("exponential",B61,"_H " + H5G.name,+"0","_HS1",Q2w,H5G);function R$C(J1t,D3Z){var a2l,N_W;a2l=null;N_W=null;for(var s6p=D3Z - J1t + ("1" ^ 0);s6p <= D3Z;s6p++){a2l=a2l === null?c3k[s6p].Low:Math.min(a2l,c3k[s6p].Low);N_W=N_W === null?c3k[s6p].High:Math.max(N_W,c3k[s6p].High);}u5g.y4d();return [a2l,N_W];}H3J.Studies.MA("exponential",Y49,"_HS1 " + H5G.name,0,"_HS2",Q2w,H5G);H3J.Studies.MA("exponential",B61,"_DHL " + H5G.name,0,"_DHL1",Q2w,H5G);H3J.Studies.MA("exponential",Y49,o3M + H5G.name,0,"_DHL2",Q2w,H5G);for(v4j=M1y - +"1";v4j < c3k.length;v4j++){E8T="_";E8T+="DHL2 ";T0h="_";T0h+="H";T0h+="S2";T0h+=" ";u5g.w7b(28);var k4o=u5g.O80(4,12,12,400);c3k[v4j]["%K " + H5G.name]=c3k[v4j][T0h + H5G.name] / (0.5 * c3k[v4j][E8T + H5G.name]) * k4o;}H3J.Studies.MA(H5G.inputs["%D Moving Average Type"],Q0N,Z6u + H5G.name,0,B2r,Q2w,H5G);H5G.zoneOutput=o84;};H3J.Studies.studyLibrary=H3J.extend(H3J.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:H3J.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":+"3","%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-("40" - 0),studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:N6j,calculateFN:H3J.Studies.calculateStochastics,inputs:{Period:+"14",Field:"field",Smooth:!""},outputs:{Fast:"auto",Slow:v8$},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:"80" << 32,studyOverBoughtColor:r8u,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:H3J.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":+"3","%D Periods":+"3"},outputs:{"%K":S9f,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" * 1,studyOverSoldColor:C0C}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};i6=U6S=>{var Y5Q,U0L;Y5Q=typeof _CIQ !== "undefined"?_CIQ:U6S.CIQ;if(!Y5Q.Studies){console.error("supertrend feature requires first activating studies feature.");}else {U0L="#";U0L+="8cc176";Y5Q.Studies.calculateSupertrend=function(F7y,G7K){var c_9=B9olJ;c_9.y4d();var o5T,M4n,w4D,q6T,F6v,k6N,X9z,d9f,Z_G,F5E,O4S,v19,v9C,Y5U;o5T=G7K.chart.scrubbed;if(o5T.length < G7K.days + +"1"){G7K.error=!!"1";return;}Y5Q.Studies.calculateStudyATR(F7y,G7K);for(var j16=G7K.startFrom;j16 < o5T.length;j16++){M4n="_Downtr";M4n+="e";M4n+="nd ";w4D="_Upt";w4D+="rend ";q6T="_Di";q6T+="rection";q6T+=" ";F6v=o5T[j16];if(!F6v)continue;c_9.w7b(6);var v4r=c_9.O80(14,12);k6N=(F6v.High + F6v.Low) / v4r;X9z=G7K.inputs.Multiplier * F6v["ATR " + G7K.name];c_9.O3H(6);d9f=c_9.o4m(k6N,X9z);c_9.w7b(2);Z_G=c_9.O80(X9z,k6N);if(j16){F5E="_U";F5E+="ptrend ";O4S="_Up";O4S+="trend";O4S+=" ";if(o5T[j16 - ("1" << 32)] && o5T[j16 - 1].Close && o5T[j16 - +"1"].Close > o5T[j16 - 1][O4S + G7K.name] && o5T[j16 - 1][F5E + G7K.name] > d9f){c_9.O3H(6);d9f=o5T[c_9.O80(j16,1)]["_Uptrend " + G7K.name];}if(o5T[j16 - "1" * 1] && o5T[j16 - 1].Close && o5T[j16 - 1].Close < o5T[j16 - 1]["_Downtrend " + G7K.name] && o5T[j16 - 1]["_Downtrend " + G7K.name] < Z_G){c_9.w7b(101);Z_G=o5T[c_9.O80("1",j16)]["_Downtrend " + G7K.name];}}F6v[q6T + G7K.name]=1;if(j16){v19="_";v19+="Dir";v19+="ect";v19+="ion ";v9C="_Dir";v9C+="ection";v9C+=" ";Y5U="_Di";Y5U+="rection ";c_9.w7b(6);F6v[Y5U + G7K.name]=o5T[c_9.o4m(j16,1)][v9C + G7K.name];if(F6v.Close > o5T[j16 - 1]["_Downtrend " + G7K.name]){F6v[v19 + G7K.name]=1;}else if(F6v.Close < o5T[j16 - 1]["_Uptrend " + G7K.name]){F6v["_Direction " + G7K.name]=-1;}}F6v[w4D + G7K.name]=d9f;F6v[M4n + G7K.name]=Z_G;F6v["Trend " + G7K.name]=F6v["_Direction " + G7K.name] > 0?d9f:Z_G;if(!j16)continue;}G7K.outputMap={};G7K.outputMap["Trend " + G7K.name]="";};Y5Q.Studies.displaySupertrend=function(s8l,F1N,N8G){var H_g=B9olJ;var j1D,v5Q,N4R,d0w,A2Y,A1o,b2m,c31,f6c,j0Y,O1M,y1w,E4Y,A02;j1D="T";j1D+="r";j1D+="end";j1D+=" ";v5Q=s8l.panels[F1N.panel];N4R=F1N.getContext(s8l);d0w=F1N.getYAxis(s8l);A2Y={skipTransform:v5Q.name != F1N.chart.name,skipProjections:!!({}),label:s8l.preferences.labels,yAxis:d0w,highlight:F1N.highlight};A1o=j1D + F1N.name;for(var D_w=0;v5Q.chart.transformFunc && d0w != v5Q.chart.yAxis && D_w < N8G.length;D_w++){b2m=N8G[D_w];if(b2m && b2m.transform){b2m.transform[A1o]=v5Q.chart.transformFunc(s8l,v5Q.chart,b2m[A1o]);}}H_g.B2i();s8l.plotDataSegmentAsLine(A1o,v5Q,A2Y,i5H);N4R.lineWidth=+"1";N4R.globalAlpha=+"1";s8l.startClip(F1N.panel);if(!F1N.highlight && s8l.highlightedDraggable){N4R.globalAlpha*=+"0.3";}H_g.w7b(38);var u_p=H_g.O80(12,1156,179188,13);H_g.w7b(82);var L7J=H_g.O80(4,3263,544);H_g.w7b(131);var K9r=H_g.o4m(14,16,8,20);c31=N4R.measureText("9520" >> 0 == (u_p,L7J)?!!0:"\u25B2").width / K9r;for(f6c="0" >> 32;f6c < N8G.length;f6c++){if(!N8G[f6c] || !N8G[f6c - 1])continue;if(N8G[f6c - 1]["_Direction " + F1N.name] > N8G[f6c]["_Direction " + F1N.name]){j0Y=Y5Q.Studies.determineColor(F1N.outputs.Downtrend);if(!j0Y || j0Y == "auto" || Y5Q.isTransparent(j0Y)){j0Y=s8l.defaultColor;}N4R.fillStyle=j0Y;N4R.textBaseline="bottom";O1M=s8l.pixelFromPrice(N8G[f6c].High,v5Q,d0w);for(var p2q=+"5";p2q <= 45;p2q+=10){if(d0w.flipped){N4R.fillText(761.15 >= (102.34,5870)?(885.46,"t"):"\u25B2",s8l.pixelFromBar(f6c) - c31,O1M + p2q);}else {N4R.fillText((1272,7516) > ("5617" ^ 0,8689)?(2.07e+3,"0x1bf3" << 64):(541.51,961.46) != 9240?"\u25BC":7693 >= (2220,2125)?(0x18d1,0x2534):("407.59" * 1,!!1),s8l.pixelFromBar(f6c) - c31,O1M - p2q);}}}else if(N8G[f6c - 1]["_Direction " + F1N.name] < N8G[f6c]["_Direction " + F1N.name]){y1w="t";y1w+="o";y1w+="p";E4Y="au";E4Y+="to";j0Y=Y5Q.Studies.determineColor(F1N.outputs.Uptrend);if(!j0Y || j0Y == E4Y || Y5Q.isTransparent(j0Y)){j0Y=s8l.defaultColor;}N4R.fillStyle=j0Y;N4R.textBaseline=y1w;A02=s8l.pixelFromPrice(N8G[f6c].Low,v5Q,d0w);for(var u97=5;u97 <= "45" << 64;u97+="10" | 2){if(d0w.flipped){N4R.fillText((9885,136) == (5661,675.73)?(2.62e+3,+"832.31"):"\u25BC",s8l.pixelFromBar(f6c) - c31,A02 - u97);}else {N4R.fillText("\u25B2",s8l.pixelFromBar(f6c) - c31,A02 + u97);}}}}s8l.endClip();function i5H(H3o,s6R,L97){H_g.B2i();if(s6R && s6R["_Direction " + F1N.name] < +"0"){return F1N.outputs.Downtrend;}return F1N.outputs.Uptrend;}};Y5Q.Studies.studyLibrary=Y5Q.extend(Y5Q.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:Y5Q.Studies.displaySupertrend,calculateFN:Y5Q.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:U0L,Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:"0.1" - 0}}}});}};t8=H94=>{var x7I=B9olJ;var n8f;x7I.y4d();n8f=typeof _CIQ !== "undefined"?_CIQ:H94.CIQ;if(!n8f.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {n8f.Studies.calculateSwingIndex=function(s_c,t2P){var R92,m8o,F3M,A9l,x4W,v1M,V_l,d91,f6d,U2e,x6k,U$A,P5T,q42;R92="Res";R92+="ul";R92+="t ";m8o="Limit Move";m8o+=" Value";F3M=t2P.inputs[m8o];if(F3M === null || isNaN(F3M)){F3M=99999;}x7I.B2i();A9l=t2P.chart.scrubbed;x4W=0;if(t2P.startFrom > "1" - 0){x7I.w7b(11);var N1U=x7I.o4m(2,0,3);x4W=A9l[t2P.startFrom - N1U][R92 + t2P.name];}for(var I_i=Math.max(1,t2P.startFrom);I_i < A9l.length;I_i++){v1M="S";v1M+="wi";v1M+="ng";V_l=Math.abs(A9l[I_i].High - A9l[I_i - 1].Close);d91=Math.abs(A9l[I_i].Low - A9l[I_i - 1].Close);f6d=Math.abs(A9l[I_i].High - A9l[I_i].Low);U2e=Math.abs(A9l[I_i - 1].Close - A9l[I_i - 1].Open);x6k=Math.max(V_l,d91);U$A=Math.max(f6d,x6k);x7I.w7b(21);P5T=x7I.O80(U2e,0.25,U$A);if(U$A == V_l){x7I.w7b(7);P5T-=x7I.O80(d91,0.5);}else if(U$A == d91){x7I.O3H(172);P5T-=x7I.O80("0.5",0,V_l);}x7I.O3H(33);var f6S=x7I.o4m(4,1,54);x7I.w7b(170);var U$I=x7I.O80(91,15,2,12);x7I.O3H(17);var W0L=x7I.o4m(4,5);x7I.w7b(1);var R0Z=x7I.o4m(13,90,7);q42=f6S * (A9l[I_i].Close - A9l[I_i - U$I].Close + 0.5 * (A9l[I_i].Close - A9l[I_i].Open) + 0.25 * (A9l[I_i - W0L].Close - A9l[I_i - R0Z].Open)) / P5T * (x6k / F3M);if(P5T === 0 || F3M === 0){q42=0;}if(t2P.type == v1M){x4W=0;}x4W+=q42;A9l[I_i]["Result " + t2P.name]=x4W;}};n8f.Studies.studyLibrary=n8f.extend(n8f.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:n8f.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:n8f.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};K4=H$5=>{var O_v,Y7p,Y2E,S4B,L5H;O_v=typeof _CIQ !== "undefined"?_CIQ:H$5.CIQ;if(!O_v.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {Y7p="a";Y7p+="u";Y7p+="to";Y2E="a";Y2E+="u";Y2E+="t";Y2E+="o";S4B="fi";S4B+="e";S4B+="l";S4B+="d";L5H="Trend Intensity In";L5H+="dex";O_v.Studies.calculateTrendIntensity=function(j$8,I2d){var B0e=B9olJ;var J7N,o4K,C57,r3I,P_b,z9f,Z9w,U9n,u2X,n5l,W_n,o1E;J7N="e";J7N+="ma";B0e.B2i();o4K="_";o4K+="S";o4K+="M";o4K+="A";C57=I2d.chart.scrubbed;if(C57.length < I2d.days + 1){I2d.error=!!1;return;}r3I=I2d.inputs.Field;if(!r3I || r3I == "field"){r3I="Close";}O_v.Studies.MA("ma",I2d.days,r3I,0,o4K,j$8,I2d);P_b=+"0";z9f=0;u2X=[];n5l=Math.ceil(I2d.days / 2);for(Z9w=Math.max(0,I2d.startFrom - n5l);Z9w < C57.length;Z9w++){W_n="_";W_n+="S";W_n+="MA ";o1E="_SM";o1E+="A";o1E+=" ";if(!C57[Z9w]["_SMA " + I2d.name] && C57[Z9w][o1E + I2d.name] !== 0)continue;U9n=C57[Z9w][r3I] - C57[Z9w][W_n + I2d.name];if(U9n < "0" << 64){B0e.w7b(173);z9f+=B0e.O80(1,U9n);}else {P_b+=U9n;}u2X.push(U9n);if(u2X.length > n5l){U9n=u2X.shift();if(U9n < 0){B0e.O3H(174);z9f-=B0e.o4m(U9n,"1");}else {P_b-=U9n;}}if(Z9w < I2d.startFrom)continue;C57[Z9w]["TII " + I2d.name]=b0r(P_b,z9f);}O_v.Studies.MA(J7N,I2d.inputs["Signal Period"],"TII " + I2d.name,0,"Signal",j$8,I2d);function b0r(T4o,O3W){if(Math.abs(O3W) < 0.00000001){return 100;}B0e.O3H(175);return B0e.O80("100",T4o,0,O3W,100,"1");}};O_v.Studies.studyLibrary=O_v.extend(O_v.Studies.studyLibrary,{"Trend Int":{name:L5H,calculateFN:O_v.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:S4B,"Signal Period":+"9"},outputs:{TII:Y2E,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:Y7p,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};O4=N7E=>{var R6A,y28,a1B;R6A=typeof _CIQ !== "undefined"?_CIQ:N7E.CIQ;if(!R6A.Studies){y28="trix feature requi";y28+="res first activ";y28+="ating studies feature.";console.error(y28);}else {a1B="T";a1B+="RI";a1B+="X";R6A.Studies.calculateTRIX=function(y0Q,L41){var Z4R=B9olJ;var v2t,Q27,p1h,L1i,V_w,w$G,x1s,J8o,q0Z,z1g;v2t="_M";v2t+="A3 ";Q27="_MA";Q27+="1 ";p1h="C";p1h+="l";p1h+="os";p1h+="e";L1i=L41.chart.scrubbed;if(L1i.length < L41.days + 1){L41.error=!!1;return;}V_w=L41.name;Z4R.w7b(2);w$G=[p1h,Z4R.O80(V_w,Q27),Z4R.o4m(V_w,"_MA2 "),Z4R.O80(V_w,v2t)];for(var E6e="0" | 0;E6e < w$G.length - +"1";E6e++){x1s="e";x1s+="xpon";x1s+="e";x1s+="ntial";R6A.Studies.MA(x1s,L41.days,w$G[E6e],0,"_MA" + (E6e + +"1").toString(),y0Q,L41);}J8o=w$G[3];for(var e07=Math.max(1,L41.startFrom);e07 < L1i.length;e07++){Z4R.w7b(176);q0Z=L1i[Z4R.o4m(0,"1",e07)][J8o];if(!q0Z)continue;z1g=L1i[e07][J8o];if(z1g || z1g === 0){Z4R.w7b(2);L1i[e07][Z4R.O80(V_w,"Result ")]=Z4R.o4m(1,q0Z,"100","1",z1g,Z4R.w7b(177));}}};R6A.Studies.studyLibrary=R6A.extend(R6A.Studies.studyLibrary,{TRIX:{name:a1B,calculateFN:R6A.Studies.calculateTRIX}});}};j4=K2w=>{var F6A=B9olJ;var Q6T,Z1X,D4V,I$c,o_P,Q8P;Q6T=typeof _CIQ !== "undefined"?_CIQ:K2w.CIQ;F6A.y4d();if(!Q6T.Studies){Z1X="twiggsMoneyFlow feature requires first ";Z1X+="activating studies feature.";D4V=-446841192;F6A.w7b(25);I$c=-F6A.O80("1130922676",64);o_P=2;for(var S93=1;F6A.U7z(S93.toString(),S93.toString().length,82401) !== D4V;S93++){console.error("");o_P+=2;}if(F6A.U7z(o_P.toString(),o_P.toString().length,33180) !== I$c){console.error("");}console.error(Z1X);}else {Q8P="Twi";Q8P+="ggs Money Flow";Q6T.Studies.calculateTwiggsMoneyFlow=function(M39,R8o){var b2D,E2c,i2a,t3t,M84,F6D,U8d,Z6P,W1J,R0M,v81,d8a,t3H,c08;b2D=R8o.chart.scrubbed;if(b2D.length < R8o.days){R8o.error=!"";return;}E2c=0;i2a=0;F6A.w7b(2);var S0_=F6A.o4m(1,0);t3t=b2D[R8o.startFrom - S0_];if(t3t){M84="_sum";M84+="M";M84+="F ";if(t3t[M84 + R8o.name]){E2c=t3t["_sumMF " + R8o.name];}F6A.O3H(41);F6D=-F6A.O80("891603866",0);U8d=-902014340;Z6P=2;for(var r5P=1;F6A.U7z(r5P.toString(),r5P.toString().length,+"45699") !== F6D;r5P++){W1J="_";W1J+="s";W1J+="umV";W1J+=" ";if(t3t[W1J + R8o.name]){i2a=t3t["_sumV " + R8o.name];}F6A.w7b(25);Z6P+=F6A.O80("2",32);}if(F6A.d8W(Z6P.toString(),Z6P.toString().length,85452) !== U8d){if(t3t["_sumV " - R8o.name]){i2a=t3t["_sumV " % R8o.name];}}}for(var V$p=Math.max(1,R8o.startFrom);V$p < b2D.length;V$p++){R0M="_su";R0M+="m";R0M+="V ";v81="_MFV";v81+=" ";d8a=Math.max(b2D[V$p - ("1" << 32)].Close,b2D[V$p].High);t3H=Math.min(b2D[V$p - 1].Close,b2D[V$p].Low);F6A.w7b(178);var Y5N=F6A.o4m(30,14,5,78);F6A.w7b(2);var t2j=F6A.o4m(20,999979);b2D[V$p][v81 + R8o.name]=b2D[V$p].Volume * (Y5N * b2D[V$p].Close - d8a - t3H) / (d8a - t3H === "0" - 0?t2j:d8a - t3H);if(V$p > R8o.days - 1){E2c*=(R8o.days - ("1" - 0)) / R8o.days;F6A.w7b(17);var t6I=F6A.o4m(4,5);i2a*=(R8o.days - t6I) / R8o.days;}E2c+=b2D[V$p]["_MFV " + R8o.name];i2a+=b2D[V$p].Volume;if(V$p > R8o.days - ("1" << 32)){c08="Re";c08+="sul";c08+="t ";if(i2a){F6A.O3H(9);b2D[V$p][c08 + R8o.name]=F6A.O80(i2a > 0?i2a:999999,E2c);}}b2D[V$p]["_sumMF " + R8o.name]=E2c;b2D[V$p][R0M + R8o.name]=i2a;}};Q6T.Studies.studyLibrary=Q6T.extend(Q6T.Studies.studyLibrary,{Twiggs:{name:Q8P,calculateFN:Q6T.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};b1=u9f=>{var a8n,M8V,M0y,B4r,O$M,p_Q;a8n=1495754010;B9olJ.B2i();M8V=-1469094111;M0y=2;for(var B25=1;B9olJ.d8W(B25.toString(),B25.toString().length,65181) !== a8n;B25++){B4r="un";B4r+="def";B4r+="ined";O$M=typeof _CIQ !== B4r?_CIQ:u9f.CIQ;M0y+=2;}if(B9olJ.U7z(M0y.toString(),M0y.toString().length,71785) !== M8V){O$M=-_CIQ == ""?_CIQ:u9f.CIQ;}if(!O$M.Studies){p_Q="typicalP";p_Q+="rice feature requires first activating studies f";p_Q+="eature.";console.error(p_Q);}else if(!O$M.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {O$M.Studies.studyLibrary=O$M.extend(O$M.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:O$M.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:O$M.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};w8=W7Y=>{var J4N,k1e;J4N="unde";J4N+="fined";k1e=typeof _CIQ !== J4N?_CIQ:W7Y.CIQ;if(!k1e.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {k1e.Studies.calculateUlcerIndex=function(X45,l1k){var L$Y,i4A,D4z,i3D,G_r,k4Q;L$Y="_";L$Y+="P";L$Y+="D2 ";i4A=l1k.chart.scrubbed;if(i4A.length < 2 * l1k.days - 1){l1k.error=!0;return;}D4z=l1k.inputs.Field;if(!D4z || D4z == "field"){D4z="Close";}for(i3D=Math.max(l1k.startFrom,l1k.days - +"1");i3D < i4A.length;i3D++){G_r="_P";G_r+="D2";G_r+=" ";i4A[i3D][G_r + l1k.name]=Math.pow(100 * (i4A[i3D][D4z] / W3l(l1k.days,i3D,D4z) - 1),+"2");}k1e.Studies.MA("simple",l1k.days,L$Y + l1k.name,0,"_MA",X45,l1k);for(i3D=Math.max(l1k.startFrom,2 * (l1k.days - ("1" | 1)));i3D < i4A.length;i3D++){k4Q=i4A[i3D]["_MA " + l1k.name];if(k4Q || k4Q === 0){i4A[i3D]["Result " + l1k.name]=Math.sqrt(k4Q);}}function W3l(d1C,B2a,S88){var A4a;A4a=null;for(var Z59=B2a - d1C + +"1";Z59 <= B2a;Z59++){if(Z59 < 0)continue;A4a=A4a === null?i4A[Z59][S88]:Math.max(A4a,i4A[Z59][S88]);}return A4a;}};k1e.Studies.studyLibrary=k1e.extend(k1e.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:k1e.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};E8=Y0r=>{var A2Z=B9olJ;var X51,Z_B,r3k;A2Z.B2i();X51=typeof _CIQ !== "undefined"?_CIQ:Y0r.CIQ;if(!X51.Studies){Z_B="ultimateOscillator fe";Z_B+="atu";Z_B+="re requires first activat";Z_B+="ing studies feature.";console.error(Z_B);}else {r3k="aut";r3k+="o";X51.Studies.calculateUltimateOscillator=function(S1j,k5i){var z$s,q_b,p7y,k6g,I8a,u3V,H_G,s_i,y7c,Q0l,G$7,T7C,R4I,K0Q,O2T,b2A,f$q,W51,Y3J,l4o,p8t,f4w;z$s="Cycle";A2Z.y4d();z$s+=" ";z$s+="2";q_b=k5i.chart.scrubbed;p7y=[k5i.inputs["Cycle 1"],k5i.inputs[z$s],k5i.inputs["Cycle 3"]];k6g=Math.max(p7y[0],p7y[+"1"],p7y[2]);if(q_b.length < k6g + +"1"){k5i.error=!!({});return;}A2Z.w7b(6);var B9a=A2Z.o4m(4,3);I8a=p7y[0] * p7y[B9a];u3V=p7y["0" >> 0] * p7y[+"2"];A2Z.O3H(29);var g2_=A2Z.o4m(192,5,18,11);A2Z.O3H(6);var l9M=A2Z.o4m(10,8);H_G=p7y[g2_] * p7y[l9M];s_i=[0,0,0];y7c=2024512149;Q0l=748259054;G$7=2;for(var d0_=+"1";A2Z.U7z(d0_.toString(),d0_.toString().length,69915) !== y7c;d0_++){A2Z.w7b(41);T7C=[+"4",A2Z.O80("7",0),9];G$7+=2;}if(A2Z.d8W(G$7.toString(),G$7.toString().length,40465) !== Q0l){T7C=[0,0,0];}if(k5i.startFrom){R4I="_";R4I+="a";R4I+="cc";R4I+="bp ";if(q_b[k5i.startFrom - 1]["_accbp " + k5i.name]){s_i=q_b[k5i.startFrom - 1][R4I + k5i.name].slice();}if(q_b[k5i.startFrom - +"1"]["_acctr " + k5i.name]){T7C=q_b[k5i.startFrom - 1]["_acctr " + k5i.name].slice();}}for(var U0x=Math.max(1,k5i.startFrom);U0x < q_b.length;U0x++){K0Q="_ac";K0Q+="ctr ";O2T=Math.min(q_b[U0x].Low,q_b[U0x - 1].Close);b2A=q_b[U0x].Close - O2T;f$q=Math.max(q_b[U0x].High,q_b[U0x - +"1"].Close) - O2T;for(var K3O=0;K3O < p7y.length;K3O++){s_i[K3O]+=b2A;T7C[K3O]+=f$q;if(U0x > p7y[K3O]){W51=Math.min(q_b[U0x - p7y[K3O]].Low,q_b[U0x - p7y[K3O] - 1].Close);Y3J=q_b[U0x - p7y[K3O]].Close - W51;A2Z.O3H(39);var l0d=A2Z.o4m(10,0,3,13,30);l4o=Math.max(q_b[U0x - p7y[K3O]].High,q_b[U0x - p7y[K3O] - l0d].Close) - W51;s_i[K3O]-=Y3J;T7C[K3O]-=l4o;}}q_b[U0x]["_accbp " + k5i.name]=s_i.slice();q_b[U0x][K0Q + k5i.name]=T7C.slice();if(U0x < k6g)continue;A2Z.O3H(24);var c_o=A2Z.O80(19,15,1,54,2);A2Z.w7b(0);var Z9T=A2Z.O80(13,10,131,0);A2Z.O3H(179);var B_q=A2Z.O80(3,11,1,16);p8t=H_G * s_i[0] / T7C[0] + u3V * s_i[c_o] / T7C[Z9T] + I8a * s_i[B_q] / T7C[+"2"];A2Z.O3H(77);f4w=A2Z.O80(u3V,I8a,H_G);A2Z.w7b(98);q_b[U0x]["Result " + k5i.name]=A2Z.O80(f4w,p8t,100);}};X51.Studies.studyLibrary=X51.extend(X51.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:X51.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:r3k,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};T$=E4J=>{var I7S,n6c,i3J,x9Z,D7p;I7S=typeof _CIQ !== "undefined"?_CIQ:E4J.CIQ;if(!I7S.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {n6c="#8";n6c+="5";n6c+="c9";n6c+="9e";i3J="#e";i3J+="1";i3J+="e";i3J+="1e1";x9Z="m";x9Z+="e";x9Z+="a";x9Z+="n";D7p="fie";D7p+="ld";I7S.Studies.calculateValuationLines=function(t2J,P_0,L5K){var a_C=B9olJ;var y0w,a2b,H2Q,d_2,b3X,n9o,f1Y,N_h,c2g,x6i,C88,o0z,V4t,S2b,D$g,H5i,k$9,i98,Z0A,n2Q,w3R,o_p;y0w="Disp";y0w+="lay 3 Standard";y0w+=" Deviation (3\u03C3)";a2b="Avera";a2b+="ge T";a2b+="y";a2b+="pe";H2Q="f";H2Q+="ie";H2Q+="l";H2Q+="d";d_2=P_0.inputs.Field == H2Q?"Close":P_0.inputs.Field;b3X=P_0.inputs[a2b];n9o=P_0.inputs["Display Average"];f1Y=P_0.inputs["Display 1 Standard Deviation (1\u03C3)"];N_h=P_0.inputs["Display 2 Standard Deviation (2\u03C3)"];c2g=P_0.inputs[y0w];x6i=[];for(var b9P=0;b9P < L5K.length;++b9P){if(L5K[b9P] && !isNaN(L5K[b9P][d_2])){x6i.push(L5K[b9P][d_2]);}}C88=(function(q7b,J5L){var C2h,n_c,R0S,q2h,G5f,N7o,h7u;C2h="media";C2h+="n";n_c=q7b.length;R0S=0;q2h=0;G5f=0;switch(J5L){case "mean":q2h=n_c;for(;G5f < n_c;++G5f){R0S+=q7b[G5f];}break;case "harmonic":R0S=n_c;for(;G5f < n_c;++G5f){a_C.O3H(180);var y0K=a_C.O80(19,13,7,9,801);q2h+=y0K / q7b[G5f];}break;case C2h:a_C.O3H(9);N7o=Math.floor(a_C.O80(2,n_c));h7u=q7b.slice().sort(function(t6E,o_k){if(t6E > o_k){return 1;}if(t6E < o_k){return -1;}return 0;});if(n_c % ("2" | 0) === 0){a_C.O3H(138);var V66=a_C.o4m(15,0,16,7,5);R0S=h7u[N7o] + h7u[N7o - V66];q2h=+"2";}else {R0S=h7u[N7o];q2h=1;}break;}a_C.w7b(9);return a_C.O80(q2h,R0S);})(x6i,b3X);o0z=!(f1Y || N_h || c2g) || (function(M8t,m7T){var H6z,F47;H6z=M8t.length;F47=0;for(var i_u=0;i_u < H6z;++i_u){F47+=Math.pow(M8t[i_u] - m7T,2);}a_C.w7b(9);return Math.sqrt(a_C.O80(H6z,F47));})(x6i,C88);P_0.data={Average:n9o?[C88]:null,"1 Standard Deviation (1\u03C3)":f1Y?[C88 + o0z,C88 - o0z]:null,"2 Standard Deviation (2\u03C3)":N_h?[C88 + o0z * 2,C88 - o0z * +"2"]:null,"3 Standard Deviation (3\u03C3)":c2g?[C88 + o0z * 3,C88 - o0z * 3]:null};V4t=o0z;if(!P_0.parameters){P_0.parameters={};}if(c2g){a_C.w7b(181);P_0.parameters.range=[a_C.o4m(3,V4t,o0z,C88),a_C.o4m(C88,V4t,o0z,3,a_C.w7b(182))];}else if(N_h){a_C.w7b(181);P_0.parameters.range=[a_C.o4m(2,V4t,o0z,C88),a_C.O80(C88,V4t,o0z,2,a_C.w7b(182))];}else if(f1Y){a_C.w7b(89);P_0.parameters.range=[a_C.o4m(V4t,o0z,C88),a_C.O80(o0z,V4t,C88,a_C.O3H(77))];}else if(n9o){a_C.O3H(6);P_0.parameters.range=[a_C.O80(C88,V4t),a_C.O80(V4t,C88,a_C.w7b(2))];}if(P_0.panel){S2b=t2J.panels[P_0.panel];D$g=-1919359095;H5i=-279612628;k$9=2;for(var o_x="1" ^ 0;a_C.d8W(o_x.toString(),o_x.toString().length,94227) !== D$g;o_x++){i98=t2J.getYAxisByName(S2b,P_0.name);a_C.w7b(6);k$9+=a_C.o4m("2",0);}if(a_C.d8W(k$9.toString(),k$9.toString().length,4150) !== H5i){i98=t2J.getYAxisByName(S2b,P_0.name);}i98=t2J.getYAxisByName(S2b,P_0.name);if(i98){i98.decimalPlaces=S2b.chart.yAxis.printDecimalPlaces;Z0A=-1448406138;n2Q=1542123417;a_C.O3H(69);w3R=a_C.o4m("2",0);for(var F3$=1;a_C.U7z(F3$.toString(),F3$.toString().length,77346) !== Z0A;F3$++){o_p={yAxis:i98};t2J.calculateYAxisRange(S2b,i98,P_0.parameters.range[6],P_0.parameters.range[9]);a_C.O3H(6);w3R+=a_C.O80("2",0);}if(a_C.d8W(w3R.toString(),w3R.toString().length,7516) !== n2Q){o_p={yAxis:i98};t2J.calculateYAxisRange(S2b,i98,P_0.parameters.range[0],P_0.parameters.range["1" >> 0]);}t2J.createYAxis(S2b,o_p);t2J.drawYAxis(S2b,o_p);}}};I7S.Studies.displayValuationLines=function(v0Y,e8n){var R3C=B9olJ;var J6N,O4W,l43,R57,Y6Z,r_7,N5W,m3Y,c4y,A9w,S4A,T5f,m6E,C_A,j4e,I0Q,z$0,p9r,Q9F,j6g,r6E,R7k,v4d,R$y,D94,S$w;J6N="Average Ty";J6N+="p";J6N+="e";O4W=v0Y.panels[e8n.panel];l43=e8n.getYAxis(v0Y);R57=e8n.getContext(v0Y);Y6Z=e8n.data;r_7=e8n.parameters.labels;N5W=e8n.inputs[J6N];m3Y={mean:"AVG",median:"MED",harmonic:"HAVG"};c4y=v0Y.canvasStyle("ciq-valuation-average-line");A9w=v0Y.canvasStyle("ciq-valuation-deviation-line");S4A=3;T5f=v0Y.getCanvasFontSize("stx_yaxis") + S4A * ("2" | 0);for(var Z8E in Y6Z){if(!Y6Z[Z8E])continue;R3C.O3H(183);m6E=R3C.o4m("Average",Z8E);C_A=I7S.Studies.determineColor(e8n.outputs[Z8E]);j4e=Y6Z[Z8E];for(I0Q=0;I0Q < j4e.length;++I0Q){R7k="l";R7k+="eft";v4d=":";v4d+=" ";R$y="s";R$y+="o";R$y+="l";R$y+="id";D94="no";D94+="ne";z$0=j4e[I0Q];p9r=v0Y.pixelFromPrice(z$0,O4W,l43);if(p9r <= O4W.top || p9r >= O4W.yAxis.bottom)continue;r6E=m6E?{pattern:c4y.borderStyle != D94?c4y.borderStyle || "solid":R$y,lineWidth:parseFloat(c4y.borderWidth) || 1,opacity:parseFloat(c4y.opacity) || 1,yAxis:l43}:{pattern:A9w.borderStyle != "none"?A9w.borderStyle || "dashed":"dashed",lineWidth:parseFloat(A9w.borderWidth) || "1" >> 0,opacity:parseFloat(A9w.opacity) || 1,yAxis:l43};v0Y.plotLine(O4W.left,O4W.right,p9r,p9r,C_A,"line",R57,O4W,r6E);if(r_7 === "yaxis"){v0Y.createYAxisLabel(O4W,v0Y.formatYAxisPrice(z$0,O4W),p9r,C_A,null,R57,l43);continue;}p9r+=Math.floor(r6E.lineWidth / 2);if(p9r + T5f >= O4W.yAxis.bottom)continue;Q9F=(m6E?m3Y[N5W] + v4d:Z8E[0] + "\u03C3: ") + v0Y.formatYAxisPrice(z$0,O4W);j6g=R57.measureText(Q9F).width;S$w=O4W.right - j6g - S4A;if(l43 && l43.position == R7k){S$w=O4W.left + S4A;}R3C.O3H(184);R57.strokeText(Q9F,S$w,R3C.o4m(0.5,p9r,2,T5f));}}};I7S.Studies.studyLibrary=I7S.extend(I7S.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(Y8b,X5V,u8w){I7S.Studies.calculateValuationLines(Y8b,X5V,u8w);I7S.Studies.displayValuationLines(Y8b,X5V);},overlay:!0,yAxisFN:function(){},inputs:{Field:D7p,"Average Type":[x9Z,"median","harmonic"],"Display Average":!"","Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!!0,"Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":i3J,"2 Standard Deviation (2\u03C3)":n6c,"3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};w_=Z6Z=>{var E0F,n3C,U2c,O6d,U_c,a27;E0F=typeof _CIQ !== "undefined"?_CIQ:Z6Z.CIQ;if(!E0F.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {n3C="fiel";n3C+="d";U2c="V";U2c+="olatil";U2c+="ity ";U2c+="Cone";O6d="au";O6d+="t";O6d+="o";U_c="f";U_c+="ield";a27="Historical Vola";a27+="ti";a27+="li";a27+="ty";E0F.Studies.calculateRelativeVolatility=function(e3v,B4P){var X5o=B9olJ;var E4s,o3w,Z9I,y4p,j2N,K_Y,G8Q,o3N,g4l,D0Z,P_N;function g77(W$t,a4p){if(W$t + a4p === 0){return 100;}X5o.w7b(185);return X5o.O80(W$t,"100",0,W$t,a4p);}E4s="S";E4s+="moothi";E4s+="ng Peri";E4s+="od";B4P.days=Number(B4P.inputs[E4s]);o3w=Number(B4P.inputs["STD Period"]);Z9I=B4P.chart.scrubbed;if(Z9I.length < B4P.days + o3w){B4P.error=!![];return;}y4p=B4P.inputs.Field;if(!y4p || y4p == "field"){y4p="Close";}B4P.std=new E0F.Studies.StudyDescriptor(B4P.name,"sdev",B4P.panel);B4P.std.chart=B4P.chart;B4P.std.days=o3w;B4P.std.startFrom=B4P.startFrom;B4P.std.inputs={Field:y4p,"Standard Deviations":+"1",Type:"ma"};B4P.std.outputs={_STD:null};E0F.Studies.calculateStandardDeviation(e3v,B4P.std);j2N=0;K_Y=0;if(B4P.startFrom > 1){G8Q="_";G8Q+="a";G8Q+="vgL ";j2N=Z9I[B4P.startFrom - +"1"]["_avgG " + B4P.name] || 0;K_Y=Z9I[B4P.startFrom - 1][G8Q + B4P.name] || 0;}for(var a0f=Math.max(B4P.startFrom,B4P.days);a0f < Z9I.length;a0f++){o3N="_avgL";o3N+=" ";g4l="_ST";g4l+="D ";D0Z=Z9I[a0f];X5o.O3H(101);P_N=Z9I[X5o.O80("1",a0f)];if(!D0Z[y4p] && D0Z[y4p] !== 0)continue;if(!P_N[y4p] && P_N[y4p] !== 0)continue;if(!D0Z["_STD " + B4P.name] && D0Z[g4l + B4P.name] !== "0" << 0)continue;if(D0Z[y4p] > P_N[y4p]){X5o.w7b(135);var Y$Q=X5o.O80(16,19,17,319,16);j2N=(j2N * (B4P.days - Y$Q) + D0Z["_STD " + B4P.name]) / B4P.days;X5o.O3H(33);var i2z=X5o.o4m(0,15,15);K_Y=K_Y * (B4P.days - i2z) / B4P.days;}else {X5o.w7b(33);var C_G=X5o.O80(0,1,1);K_Y=(K_Y * (B4P.days - C_G) + D0Z["_STD " + B4P.name]) / B4P.days;X5o.w7b(90);var A_w=X5o.O80(63,4,16,7,7);j2N=j2N * (B4P.days - A_w) / B4P.days;}D0Z["Rel Vol " + B4P.name]=g77(j2N,K_Y);D0Z["_avgG " + B4P.name]=j2N;D0Z[o3N + B4P.name]=K_Y;}B4P.zoneOutput="Rel Vol";};E0F.Studies.calculateHistoricalVolatility=function(N$R,L01){var I7B=B9olJ;I7B.y4d();var L5i,z7m,N8q,L$u,F2F,q_j,Z8J,s3x,G2w,V1G,c03,s$1,b61;L5i="Days Pe";L5i+="r Year";z7m="Standard";z7m+=" D";z7m+="eviations";N8q="f";N8q+="i";N8q+="el";N8q+="d";L$u=L01.chart.scrubbed;if(L$u.length < L01.days + 1){L01.error=!![];return;}function V_U(Y$I){var X71;X71="w";X71+="e";X71+="ek";if(isNaN(Y$I)){Y$I=365;}if(N$R.layout.interval == "day"){return Y$I;}else if(N$R.layout.interval == X71){return 52;}else if(N$R.layout.interval == "month"){I7B.O3H(7);return I7B.o4m(1,"12");}return Y$I;}F2F=L01.inputs.Field;if(!F2F || F2F == N8q){F2F="Close";}q_j=L01.inputs[z7m];if(q_j < 0){q_j=+"1";}I7B.O3H(53);var T$I=I7B.O80(1800,3,575,8);Z8J=T$I * Math.sqrt(V_U(L01.inputs[L5i])) * q_j;s3x=[];G2w=0;if(L01.startFrom > +"1"){I7B.O3H(40);var C7S=I7B.O80(7,55,0,8,1);G2w=L$u[L01.startFrom - C7S]["_state " + L01.name][0];s3x=L$u[L01.startFrom - 1]["_state " + L01.name][1].slice();}for(var D3i=Math.max(1,L01.startFrom);D3i < L$u.length;D3i++){V1G="_s";V1G+="t";V1G+="at";V1G+="e ";I7B.w7b(6);c03=L$u[I7B.o4m(D3i,1)][F2F];if(c03){s$1=Math.log(L$u[D3i][F2F] / c03);s3x.push(s$1);G2w+=s$1;if(D3i >= L01.days){b61=0;G2w/=L01.days;for(var g7_=0;g7_ < s3x.length;g7_++){b61+=Math.pow(s3x[g7_] - G2w,+"2");}G2w*=L01.days;G2w-=s3x.shift();L$u[D3i]["Result " + L01.name]=Math.sqrt(b61 / L01.days) * Z8J;}}L$u[D3i][V1G + L01.name]=[G2w,s3x.slice()];}};E0F.Studies.calculateVolatilityCone=function(G6A,I1d){var k9S=B9olJ;var e$B,O4j,G1n,n$J,x6Z,O$U,C0Z,I5G,g3I,o9P,K8m,g9L,X8e,y9w,i1q,e_t,h1S,i1P,l4i;e$B="Cl";e$B+="o";e$B+="s";e$B+="e";O4j="fiel";O4j+="d";G1n="Da";G1n+="ys Per Year";var {periodicity:N3M, interval:t3n}=G6A.layout;n$J=I1d.study?I1d.study.name:I1d.type;if(!E0F.ChartEngine.isDailyInterval(t3n)){I1d.error=`${n$J} is not supported for intraday periodicities`;return;}x6Z=Number(I1d.inputs["Projection Bars"]);O$U=Number(I1d.inputs[G1n]);if(t3n == "week"){O$U=52;}if(t3n == "month"){O$U=12;}x6Z=Math.min(x6Z,O$U);C0Z=I1d.chart.scrubbed;I5G=I1d.inputs.Field;if(!I5G || I5G == O4j){I5G=e$B;}k9S.O3H(30);var W14=k9S.O80(20,3,5,18,78);g3I=C0Z.length - W14;while(g3I > 0 && C0Z[g3I][I5G] === undefined){g3I--;}o9P=C0Z[g3I].DT;K8m=C0Z[g3I][I5G];g9L=C0Z[g3I].implVol;k9S.O3H(186);X8e=k9S.O80(60,24,60,1000);y9w=I1d.inputs["Volatility source"] === "historical";if(!y9w && g9L === undefined){I1d.error=`${n$J} Study: Implied Volatility source data is not available`;return;}I1d._graphs=[68,95].filter((A8E,b8b)=>{k9S.w7b(2);return I1d.inputs[`Probability ${A8E}% (${k9S.o4m(1,b8b)}Ï)`];});i1q=[];if(!y9w && t3n === "day" && N3M === 1){e_t=C0Z[g3I].expiryDates || Array.from(new Set(Object.values(C0Z[g3I].optionChain || ({})).map(({expiration:i10})=>{return +(i10 && i10.value || i10 || 0);}).filter(d3J=>{return d3J;})));I1d._expiryDates=e_t.map(A7y=>{k9S.y4d();return {dt:new Date(A7y)};});}else {I1d._expiryDates=null;}for(var L81=0;L81 <= x6Z;L81++){h1S="Proba";h1S+="bility 68% (1\u03c3)";if(C0Z[L81 + g3I])continue;i1q.push({[I1d.inputs[h1S] && "Result 68% Upper " + I1d.name || undefined]:+"0",[I1d.inputs["Probability 95% (2Ï)"] && "Result 95% Upper " + I1d.name || undefined]:0});}I1d.appendFutureTicks(G6A,i1q);if(y9w){E0F.Studies.calculateHistoricalVolatility(G6A,I1d);}i1P=y9w?C0Z[g3I][`Result ${I1d.name}`] / 100:g9L;l4i=function(){var g$$,s0Q,u6V,K3i,r$p,l74;k9S.O3H(2);g$$=C0Z[k9S.o4m(g3I,Z1I)];s0Q=O$U < 365?Z1I:Math.round((g$$.DT - o9P) / X8e);u6V=-1773182112;K3i=2133438065;r$p=2;for(var I7V=1;k9S.d8W(I7V.toString(),I7V.toString().length,2043) !== u6V;I7V++){l74=K8m * i1P * Math.sqrt(s0Q / O$U);var {DT:R$t}=g$$;k9S.O3H(25);r$p+=k9S.o4m("2",32);}if(k9S.d8W(r$p.toString(),r$p.toString().length,63044) !== K3i){l74=K8m % i1P + Math.sqrt(s0Q * O$U);var {DT:R$t}=g$$;}k9S.B2i();I1d._graphs.forEach(function(r$l){var I$6,W16;var {quote:E9E, diff:c3S, currentValue:L3W, sd:e$8}=this;k9S.w7b(21);I$6=k9S.O80(c3S,r$l < 95?1:2,L3W);k9S.O3H(22);W16=k9S.o4m(r$l < 95?1:2,L3W,c3S);E9E[`Result ${r$l}% Upper ${e$8.name}`]=I$6;k9S.y4d();E9E[`Result ${r$l}% Lower ${e$8.name}`]=W16;(e$8._expiryDates || []).forEach(H20=>{var H1Y;if(H20.dt < o9P){return;}H1Y=Math.abs(H20.dt - R$t);if(H1Y < X8e){H20.Upper=I$6;H20.Lower=W16;H20.DT=R$t;}});},{quote:g$$,diff:l74,currentValue:K8m,sd:I1d});};for(var Z1I=0;Z1I <= x6Z;Z1I++){l4i();}I1d.outputMap={};I1d._graphs.forEach(Z2p=>{var D4S,L2u;D4S="C";D4S+="olo";D4S+="r";L2u="C";L2u+="o";L2u+="lo";L2u+="r";I1d.outputMap[`Result ${Z2p}% Upper ${I1d.name}`]=L2u;I1d.outputMap[`Result ${Z2p}% Lower ${I1d.name}`]=D4S;});};E0F.Studies.displayVolatilityCone=function(M4i,P5L,u9L){var T7d,g2T,I30,Z86,E9A;if(P5L.error){return;}T7d=E0F.Studies.determineColor(P5L.outputs.Color);g2T=M4i.panels[P5L.panel];if(!g2T || g2T.hidden){return;}I30=P5L.getYAxis(M4i);Z86={topColor:T7d,bottomColor:T7d,skipTransform:g2T.name != P5L.chart.name,topAxis:I30,bottomAxis:I30,opacity:+"0.3"};if(!P5L.highlight && M4i.highlightedDraggable){Z86.opacity*=0.3;}P5L._graphs.forEach(v$g=>{B9olJ.y4d();Z86.topBand=`Result ${v$g}% Upper ${P5L.name}`;Z86.bottomBand=`Result ${v$g}% Lower ${P5L.name}`;if(P5L.inputs.Fill){E0F.fillIntersecting(M4i,P5L.panel,Z86);}E0F.Studies.displayIndividualSeriesAsLine(M4i,P5L,g2T,Z86.topBand,u9L);E0F.Studies.displayIndividualSeriesAsLine(M4i,P5L,g2T,Z86.bottomBand,u9L);});if(P5L._expiryDates){E9A=M4i.chart.context;M4i.startClip();E9A.beginPath();P5L._expiryDates.forEach(X_3=>{var i8o,E4t,C7e;if(!X_3.DT){return;}i8o=M4i.pixelFromDate(X_3.DT);E4t=M4i.pixelFromPrice(X_3.Upper,g2T);C7e=M4i.pixelFromPrice(X_3.Lower,g2T);M4i.plotLine({x0:i8o,x1:i8o,y0:E4t,y1:C7e,color:T7d,pattern:"dashed"});E9A.moveTo(i8o,E4t);B9olJ.w7b(25);E9A.arc(i8o,E4t,3,B9olJ.o4m("0",0),Math.PI * 2,![]);E9A.moveTo(i8o,C7e);E9A.arc(i8o,C7e,3,0,Math.PI * 2,![]);E9A.fillStyle=T7d;E9A.fill();});M4i.endClip();}};E0F.Studies.studyLibrary=E0F.extend(E0F.Studies.studyLibrary,{"Hist Vol":{name:a27,calculateFN:E0F.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,"365" | 5],"Standard Deviations":+"1"},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:E0F.Studies.calculateRelativeVolatility,inputs:{Field:U_c,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":O6d},centerline:50,parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:"70" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Volatility Cone":{name:U2c,overlay:!!({}),calculateFN:E0F.Studies.calculateVolatilityCone,seriesFN:E0F.Studies.displayVolatilityCone,inputs:{"Volatility source":["historical","implied"],"Probability 68% (1Ï)":!![],"Probability 95% (2Ï)":!!0,"Projection Bars":20,"Days Per Year":[252,365],Field:n3C,Period:10,"Standard Deviations":1,Fill:!""},outputs:{Color:"#3a627d"},panelSelect:!({}),attributes:{"Volatility source":{hidden:function(){B9olJ.y4d();return !E0F.Studies.impliedVolatilityAvailable;}},Field:{hidden:function(){var i3S;i3S="Volatilit";i3S+="y s";i3S+="o";i3S+="urce";return this.inputs[i3S] === "Implied";}},"Standard Deviations":{hidden:function(){return this.inputs["Volatility source"] === "Implied";}},yaxisDisplayValue:{hidden:!![]},panelName:{hidden:!![]},flippedEnabled:{hidden:!![]},underlayEnabled:{hidden:!!"1"}}}});}};X1=O4A=>{var N$3,Y0A;N$3=typeof _CIQ !== "undefined"?_CIQ:O4A.CIQ;if(!N$3.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {Y0A="#b";Y0A+="6";Y0A+="4a";Y0A+="96";N$3.Studies.displayVolumeProfile=function(w3k,z_S,c3U){var k9D=B9olJ;var v5N,Z9F,W2d,x9E,J1G,J5q,S1p,V_r,w0B,O8h,I8r,R17,F5U,K9H,V1H,F1E,v2A,J4D,N3o,E7D;v5N="Display";v5N+=" B";v5N+="ord";v5N+="er";if(!w3k || !w3k.chart.dataSet){return;}Z9F="stx_vol";Z9F+="um";Z9F+="e_p";Z9F+="rofile";W2d="stx-float-date";x9E=z_S.getContext(w3k);var {chart:K7L}=w3k;var {panel:Y$V}=K7L;var {yAxis:u1n}=Y$V;var {flipped:B3O}=u1n;var {highValue:U4H, lowValue:t4T}=K7L;var {displayBorder:c2q = z_S.inputs[v5N], displayVolume:n7x = z_S.inputs["Display Volume"], widthPercentage:D_U = z_S.inputs["Width Percentage"], numberBars:O9b = z_S.inputs["Price Buckets"]}=z_S.parameters;if(c2q !== ![]){c2q=!![];}if(n7x !== !""){n7x=!({});}if(!D_U || D_U < 0){D_U=0.25;}if(!O9b || O9b < 0){k9D.O3H(6);O9b=k9D.o4m("30",0);}O9b=Math.ceil(O9b);k9D.O3H(27);J1G=k9D.o4m(U4H,t4T,O9b);if(J1G === 0){return;}J5q=[];function x8H(G0J){var n8U,l$0,G2H,p4K,y$E,u4Z,D_A,y0t,Q2z,h5G,f0C,Y8k,s$9,w1M,u$H,b9K;k9D.B2i();w3k.canvasColor(Z9F);x9E.beginPath();n8U=k_g=>{k9D.y4d();return Math.round(k_g);};l$0=B0O=>{return n8U(w3k.pixelFromTransformedValue(B0O));};G2H=n8U(K7L.width * D_U);p4K=n8U(K7L.right) - 2.5;y$E=p4K;var [S2j]=J5q[0];for(var C_2=1;C_2 < J5q.length;C_2++){var [n8u,q6w]=J5q[C_2];if(q6w){k9D.O3H(98);u4Z=k9D.O80(V_r,G2H,q6w);D_A=n8U(p4K - u4Z) + (G0J?-0.5:0);k9D.O3H(73);var M5h=k9D.o4m(15,13,29);y0t=l$0(n8u) + (G0J?0.5:M5h);Q2z=l$0(S2j) + (G0J?0.5:+"0");h5G=Math.max(y0t,u1n.top);f0C=Math.min(Q2z,u1n.bottom);Y8k=h5G <= u1n.bottom && f0C >= u1n.top;if(Y8k){x9E.moveTo(p4K,f0C);x9E.lineTo(p4K,h5G);x9E.lineTo(D_A,h5G);x9E.lineTo(D_A,f0C);if(G0J){if(C_2 == ("1" ^ 0) || y$E > D_A){x9E.lineTo(y$E,f0C);}}else {x9E.lineTo(p4K,f0C);if(n7x){s$9=N$3.condenseInt(q6w);k9D.O3H(6);w1M=k9D.o4m(f0C,h5G);if(J4D <= w1M - 2){u$H=void 0;try{({width:u$H}=x9E.measureText(s$9));}catch(k2E){u$H=0;}x9E.textBaseline="top";b9K=x9E.fillStyle;x9E.fillStyle=N3o;k9D.O3H(89);x9E.fillText(s$9,k9D.o4m(3,u$H,D_A),k9D.o4m(2,h5G,2,J4D,w1M,k9D.w7b(187)));x9E.fillStyle=b9K;}}}}y$E=D_A;}else {y$E=p4K;}S2j=n8u;}if(!z_S.highlight && w3k.highlightedDraggable){x9E.globalAlpha*=0.3;}if(!G0J){x9E.fill();}x9E.strokeStyle=N3o;if(G0J){x9E.stroke();}x9E.closePath();}if(B3O){[U4H,t4T]=[t4T,U4H];}S1p=B3O?-1:+"1";for(var h3y=t4T,D9P=0;D9P <= O9b;(h3y+=J1G * S1p,D9P++)){J5q.push([h3y,0]);}V_r=+"0";for(var W8n=0;W8n < c3U.length;W8n++){w0B=c3U[W8n];if(w0B === null)continue;var {Volume:t_i}=w0B;if(!t_i)continue;var {High:K_C, Low:V_h}=w0B.transform || w0B;O8h=[];I8r=J5q[0][0];R17=null;for(var v7s=1;v7s < J5q.length;v7s++){R17=J5q[v7s][0];F5U=V_h >= I8r && V_h <= R17;K9H=K_C >= I8r && K_C <= R17;V1H=V_h < I8r && K_C > R17;if(F5U || K9H || V1H){O8h.push(v7s);}I8r=R17;}if(O8h.length){F1E=t_i / O8h.length;for(var j1k=0;j1k < O8h.length;j1k++){v2A=J5q[O8h[j1k]][1]+=F1E;if(v2A > V_r){V_r=v2A;}}}}if(V_r === 0){w3k.displayErrorAsWatermark("chart",w3k.translateIf("Not enough data to render the Volume Profile"));return;}w3k.setStyle(Z9F,"color",N$3.Studies.determineColor(z_S.outputs["Bars Color"]));J4D=w3k.getCanvasFontSize(W2d);N3o=w3k.canvasStyle(Z9F).borderTopColor;E7D=c2q && !N$3.isTransparent(N3o);w3k.canvasFont(W2d,x9E);x8H();if(E7D){x8H(!"");}x9E.globalAlpha=+"1";};N$3.Studies.studyLibrary=N$3.extend(N$3.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!!({}),seriesFN:N$3.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!0,"Display Volume":!"1","Price Buckets":30,"Width Percentage":"0.25" - 0},outputs:{"Bars Color":Y0A},customRemoval:!0,attributes:{yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!""},flippedEnabled:{hidden:!0}}}});}};j7=z8J=>{var b5D=B9olJ;b5D.y4d();var L4n,f1p,J8G,j6f,D54,G6o,Y_5,C1d,y$e;L4n=typeof _CIQ !== "undefined"?_CIQ:z8J.CIQ;if(!L4n.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {f1p="n";f1p+="o";f1p+="n";f1p+="e";J8G="Vo";J8G+="lume ";J8G+="Underl";J8G+="ay";j6f="fi";j6f+="el";j6f+="d";D54="#FF";D54+="0000";G6o="a";G6o+="u";G6o+="to";Y_5="Positive Volume I";Y_5+="ndex";C1d="m";C1d+="a";y$e="f";y$e+="ield";L4n.Studies.calculateOnBalanceVolume=function(q4B,f2Z){var E_K,t__,N4i,Z7Y,Y1D,t1_,I9G,e8W,A2I,D0D;E_K="Cl";E_K+="os";E_K+="e";t__="f";t__+="ie";t__+="l";t__+="d";N4i=f2Z.inputs.Field;if(!N4i || N4i == t__){N4i=E_K;}Z7Y=f2Z.inputs["Min Tick Value"];Y1D=![];if(!Z7Y && Z7Y !== 0){Y1D=!!1;Z7Y=0;}t1_=f2Z.chart.scrubbed;I9G=0;for(var Q0p=f2Z.startFrom;Q0p < t1_.length;Q0p++){e8W=t1_[Q0p];if(!Q0p || !e8W[N4i])continue;if(t1_[Q0p - 1][N4i]){b5D.w7b(6);A2I=t1_[b5D.o4m(Q0p,1)];}if(!A2I)continue;if(e8W[N4i] - A2I[N4i] > Z7Y){I9G=+"1";}else if(A2I[N4i] - e8W[N4i] > Z7Y){I9G=-1;}else if(Y1D){I9G=0;}D0D=A2I["Result " + f2Z.name];if(!D0D){D0D=0;}D0D+=e8W.Volume * I9G;e8W["Result " + f2Z.name]=D0D;}};L4n.Studies.calculatePriceVolumeTrend=function(D9B,v6G){var U05,t$8,P6c,A6I,R8Q,C3C;U05=v6G.inputs.Field;b5D.y4d();if(!U05 || U05 == "field"){U05="Close";}t$8=v6G.chart.scrubbed;P6c=0;if(v6G.startFrom > 1){b5D.O3H(25);A6I=-b5D.o4m("64632569",32);R8Q=-38482305;C3C=2;for(var t0S=1;b5D.U7z(t0S.toString(),t0S.toString().length,90795) !== A6I;t0S++){b5D.O3H(42);var J9h=b5D.O80(16,10,19,348);P6c=t$8[v6G.startFrom + J9h]["" * v6G.name];C3C+=2;}if(b5D.U7z(C3C.toString(),C3C.toString().length,10724) !== R8Q){b5D.w7b(89);var a3q=b5D.O80(1,7,9);P6c=t$8[v6G.startFrom - a3q]["Result " + v6G.name];}}for(var q_k=Math.max(1,v6G.startFrom);q_k < t$8.length;q_k++){if(!t$8[q_k][U05])continue;if(!t$8[q_k - 1][U05])continue;b5D.O3H(105);var H5f=b5D.o4m(5,1,6);b5D.O3H(139);var Y4S=b5D.o4m(20,80,9,1,11);P6c+=t$8[q_k].Volume * (t$8[q_k][U05] - t$8[q_k - H5f][U05]) / t$8[q_k - Y4S][U05];t$8[q_k]["Result " + v6G.name]=P6c;}};L4n.Studies.calculateVolumeIndex=function(F9x,l3C){var R8W,u0T,C06,B2d,u1I,C2C,d8x,Z7d,P_v,o$j;R8W="M";R8W+="A";u0T=l3C.inputs.Field;b5D.y4d();if(!u0T || u0T == "field"){u0T="Close";}C06=l3C.chart.scrubbed;if(C06.length < l3C.days + 1){l3C.error=!"";return;}B2d=100;if(l3C.startFrom > +"1"){B2d=C06[l3C.startFrom - +"1"]["Index " + l3C.name];}for(var u8L=Math.max(1,l3C.startFrom);u8L < C06.length;u8L++){u1I="N";u1I+="eg ";u1I+="Vol";C2C="Pos ";C2C+="Vol";d8x=C06[u8L][u0T];Z7d=C06[u8L].Volume;if(d8x && typeof d8x == "object"){Z7d=d8x.Volume;d8x=d8x[l3C.subField];}b5D.O3H(6);P_v=C06[b5D.O80(u8L,1)][u0T];o$j=C06[u8L - 1].Volume;if(P_v && typeof P_v == "object"){o$j=P_v.Volume;P_v=P_v[l3C.subField];}if(!d8x)continue;if(!P_v)continue;if(l3C.type == C2C && Z7d > o$j || l3C.type == u1I && Z7d < o$j){b5D.w7b(9);B2d*=b5D.O80(P_v,d8x);}C06[u8L]["Index " + l3C.name]=B2d;}L4n.Studies.MA(l3C.inputs["Moving Average Type"],l3C.days,"Index " + l3C.name,+"0",R8W,F9x,l3C);};L4n.Studies.studyLibrary=L4n.extend(L4n.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:L4n.Studies.calculateVolumeIndex,inputs:{Period:255,Field:y$e,"Moving Average Type":C1d},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:L4n.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:Y_5,calculateFN:L4n.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:G6o,MA:D54}},"Price Vol":{name:"Price Volume Trend",calculateFN:L4n.Studies.calculatePriceVolumeTrend,inputs:{Field:j6f}},"Trade Vol":{name:"Trade Volume Index",calculateFN:L4n.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":+"0.5"}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(r2t,l1E){b5D.B2i();if(L4n.Studies.calculateRateOfChange){L4n.Studies.calculateRateOfChange(r2t,l1E);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");L4n.Studies.calculateRateOfChange=function(C_5,p8O){};}},parameters:{init:{isVolume:!!({})}}},"vol undr":{name:J8G,underlay:!!"1",range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:f1p,heightFactor:0.25},seriesFN:L4n.Studies.createVolumeChart,calculateFN:L4n.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(G$g,z7Z){var H4H;H4H="l";H4H+="a";H4H+="yo";H4H+="ut";G$g.layout.volumeUnderlay=!({});G$g.changeOccurred(H4H);},attributes:{panelName:{hidden:!0}}}});}};U8=C25=>{var B9v=B9olJ;B9v.y4d();var g$L,w7v,J3T;g$L=typeof _CIQ !== "undefined"?_CIQ:C25.CIQ;if(!g$L.Studies){w7v="vor";w7v+="tex feature requires first activati";w7v+="ng studies feat";w7v+="ure.";console.error(w7v);}else {J3T="a";J3T+="u";J3T+="t";J3T+="o";g$L.Studies.calculateVortex=function(Y0t,O2O){B9v.y4d();var j18,O5B,Y1G,G$u,D1r,w1_,U_K,X2W,h19,k2F;j18=O2O.chart.scrubbed;O5B=O2O.days;if(j18.length < O5B + 1){O2O.error=!!({});return;}Y1G={tr:0,vmPlus:0,vmMinus:0};if(O2O.startFrom > 1){Y1G=g$L.clone(j18[O2O.startFrom - 1]["_totals " + O2O.name]);}for(var I9I=Math.max(O2O.startFrom,+"1");I9I < j18.length;I9I++){G$u="_V";G$u+="M";G$u+="Minus ";D1r="_VMP";D1r+="lus ";w1_=j18[I9I];B9v.w7b(6);U_K=j18[B9v.o4m(I9I,1)];X2W=Math.abs(w1_.High - U_K.Low);h19=Math.abs(w1_.Low - U_K.High);k2F=Math.max(w1_.High,U_K.Close) - Math.min(w1_.Low,U_K.Close);Y1G.tr+=k2F;Y1G.vmPlus+=X2W;Y1G.vmMinus+=h19;if(I9I > O5B){B9v.O3H(6);Y1G.tr-=j18[B9v.O80(I9I,O5B)]["_True Range " + O2O.name];B9v.w7b(6);Y1G.vmPlus-=j18[B9v.o4m(I9I,O5B)]["_VMPlus " + O2O.name];B9v.w7b(6);Y1G.vmMinus-=j18[B9v.o4m(I9I,O5B)]["_VMMinus " + O2O.name];}w1_["_True Range " + O2O.name]=k2F;w1_[D1r + O2O.name]=X2W;w1_[G$u + O2O.name]=h19;if(I9I >= O5B){w1_["+VI " + O2O.name]=Y1G.vmPlus / Y1G.tr;w1_["-VI " + O2O.name]=Y1G.vmMinus / Y1G.tr;}w1_["_totals " + O2O.name]=g$L.clone(Y1G);}};g$L.Studies.studyLibrary=g$L.extend(g$L.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:g$L.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:"1.1" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:J3T}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};l9=H1a=>{var k8T=B9olJ;k8T.B2i();var y71,g6$;y71=typeof _CIQ !== "undefined"?_CIQ:H1a.CIQ;if(!y71.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {g6$="Market Facilitat";g6$+="ion Index";y71.Studies.calculateMFI=function(w$o,F7b){var M7I,d0o,h9n,M_D,v0I,k7t,j7_,n9s;M7I="_";M7I+="hi";M7I+="st";d0o="Scale Fa";d0o+="ctor";h9n=F7b.chart.scrubbed;v0I=0;k7t=F7b.inputs["Scale Factor"];if(!k7t){k7t=F7b.study.inputs[d0o];}j7_=Math.pow(10,Number(k7t));if(F7b.startFrom > 1){k8T.O3H(6);var T0V=k8T.o4m(12,11);v0I=h9n[F7b.startFrom - T0V]["_high " + F7b.name];}for(n9s=F7b.startFrom;n9s < h9n.length;n9s++){if(!h9n[n9s])continue;if(h9n[n9s].Volume){h9n[n9s][F7b.name + "_hist"]=M_D=j7_ * (h9n[n9s].High - h9n[n9s].Low) / h9n[n9s].Volume;h9n[n9s]["_high " + F7b.name]=v0I=Math.max(v0I,M_D);}}F7b.outputMap={};F7b.outputMap[F7b.name + M7I]="";};y71.Studies.displayMFI=function(k7n,K7p,w52){var G0R,p3X,r6p,T89,A53,d8U,Z_C,e1S,B4m,X7f,t68,A01,c_U,L4T,t7v;G0R="#CCC";G0R+="CC";G0R+="C";p3X=k7n.panels[K7p.panel];r6p=K7p.getContext(k7n);T89=K7p.getYAxis(k7n);A53=T89.flipped?T89.top:T89.bottom;k8T.w7b(2);var o9w=k8T.O80(2,0);d8U=k7n.layout.candleWidth - o9w;if(d8U < 2){d8U=1;}Z_C=y71.Studies.determineColor(K7p.outputs.Green);e1S=y71.Studies.determineColor(K7p.outputs.Fade);B4m=y71.Studies.determineColor(K7p.outputs.Fake);X7f=y71.Studies.determineColor(K7p.outputs.Squat);k7n.canvasColor("stx_histogram");if(!K7p.underlay){r6p.globalAlpha=1;}r6p.fillStyle=G0R;k7n.startClip(K7p.panel);if(!K7p.highlight && k7n.highlightedDraggable){r6p.globalAlpha*=0.3;}for(var I7I=0;I7I < w52.length;I7I++){t68="_";t68+="h";t68+="i";t68+="st";A01="_";A01+="h";A01+="i";A01+="st";c_U="_h";c_U+="i";c_U+="s";c_U+="t";L4T=w52[I7I];k8T.O3H(6);t7v=w52[k8T.O80(I7I,1)];if(!t7v){t7v=k7n.getPreviousBar(k7n.chart,K7p.name + "_hist",I7I);}if(!L4T)continue;if(!t7v);else if(t7v[K7p.name + "_hist"] < L4T[K7p.name + "_hist"]){if(t7v.Volume < L4T.Volume){r6p.fillStyle=Z_C;}else if(t7v.Volume > L4T.Volume){r6p.fillStyle=B4m;}}else if(t7v[K7p.name + c_U] > L4T[K7p.name + A01]){if(t7v.Volume < L4T.Volume){r6p.fillStyle=X7f;}else if(t7v.Volume > L4T.Volume){r6p.fillStyle=e1S;}}if(L4T.candleWidth){d8U=Math.floor(Math.max(1,L4T.candleWidth - 2));}r6p.fillRect(Math.floor(k7n.pixelFromBar(I7I,p3X.chart) - d8U / ("2" - 0)),Math.floor(A53),Math.floor(d8U),Math.floor(k7n.pixelFromPrice(L4T[K7p.name + t68],p3X,T89) - A53));}k7n.endClip();};y71.Studies.studyLibrary=y71.extend(y71.Studies.studyLibrary,{"W MFI":{name:g6$,seriesFN:y71.Studies.displayMFI,calculateFN:y71.Studies.calculateMFI,yAxis:{ground:!!({})},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};e_={CIQ:H2,SplinePlotter:Z9,timezoneJS:e9,$$:e5,$$$:o$};export {W as aggregations};export {X as drawingAdvanced};export {S as equationsAdvanced};export {F as highPerformanceMarkers};export {I as renderersAdvanced};export {U as accumulationDistribution};export {g as adx};export {G as alligator};export {Z as aroon};export {N as atr};B9olJ.y4d();export {Q as awesomeOscillator};export {o as balanceOfPower};export {Y as bollinger};export {E as cci};export {O5 as centerOfGravity};export {H_ as chaikin};export {B6 as chande};export {x_ as choppiness};export {e6 as comparisonStudies};export {p3 as coppock};export {R5 as darvasBox};export {k6 as detrended};export {X6 as disparity};export {o9 as easeOfMovement};export {m5 as ehlerFisher};export {E_ as elder};export {T6 as fractalChaos};export {C$ as goNoGo};export {Y8 as highLowStudies};export {D5 as ichimoku};export {W1 as intradayMomentum};export {Q2 as keltner};export {x7 as klinger};export {s5 as linearRegression};export {K2 as macd};export {J4 as massIndex};export {c6 as moneyFlow};export {S$ as movingAverages};export {b9 as parabolicSAR};export {z7 as pivotPoints};export {g0 as prettyGoodOscillator};export {A$ as priceMomentumOscillator};export {z9 as priceVolumeOscillator};export {N0 as primeNumber};export {C5 as pring};export {o_ as projectedVolume};export {n1 as psychologicalLine};export {p9 as qstick};export {Q8 as rainbow};export {N1 as randomWalk};export {G2 as relativeVigor};export {k2 as rsi};export {r9 as schaffTrendCycle};export {P6 as shinohara};export {E0 as stochastics};export {i6 as supertrend};export {t8 as swingIndex};export {K4 as trendIntensity};export {O4 as trix};export {j4 as twiggsMoneyFlow};export {b1 as typicalPrice};export {w8 as ulcerIndex};export {E8 as ultimateOscillator};export {T$ as valuationLines};export {w_ as volatilityIndex};export {X1 as volumeProfile};export {j7 as volumeStudies};export {U8 as vortex};export {l9 as williamsMFI};export {H2 as CIQ, Z9 as SplinePlotter, e9 as timezoneJS, e5 as $$, o$ as $$$};if(typeof __TREE_SHAKE__ === z84xO || !__TREE_SHAKE__){e_.CIQ.activateImports(W,X,S,F,I,U,g,G,Z,N,Q,o,Y,E,O5,H_,B6,x_,e6,p3,R5,k6,X6,o9,m5,E_,T6,C$,Y8,D5,W1,Q2,x7,s5,K2,J4,c6,S$,b9,z7,g0,A$,z9,N0,C5,o_,n1,p9,Q8,N1,G2,k2,r9,P6,E0,i6,t8,K4,O4,j4,b1,w8,E8,T$,w_,X1,j7,U8,l9,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
